Opal.modules["nodejs/kernel"]=function(Opal){Opal.top;var $nesting=[],$$=(Opal.nil,Opal.$$$,Opal.$$),$module=Opal.module;return Opal.add_stubs(["$warn","$to_str"]),Opal.exit=process.exit,function($Kernel_node_require$1,$parent_nesting){var $nesting=[$Kernel_node_require$1=$module($Kernel_node_require$1,"Kernel")].concat($parent_nesting);Opal.const_set($nesting[0],"NODE_REQUIRE",require),Opal.def($Kernel_node_require$1,"$node_require",$Kernel_node_require$1=function(path){return this.$warn("[DEPRECATION] node_require is deprecated. Please use `require('module')` instead."),$$($nesting,"NODE_REQUIRE")(path.$to_str())},$Kernel_node_require$1.$$arity=1)}($nesting[0],$nesting),Opal.const_set($nesting[0],"ARGV",process.argv.slice(2))},Opal.modules["nodejs/file"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$truthy=Opal.truthy,$gvars=Opal.gvars;Opal.add_stubs(["$raise","$warn","$const_get","$new","$const_defined?","$const_set","$include","$size","$respond_to?","$path","$join","$call","$exist?","$realpath","$!=","$close","$to_path","$pwd","$to_str","$include?","$delete","$match?","$sub","$attr_reader","$to_a","$each_line","$to_enum","$read","$chomp"]);var errno_code,warnings={},errno_codes=["EACCES","EISDIR","EMFILE","ENOENT","EPERM"];function handle_unsupported_feature(message){switch(Opal.config.unsupported_features_severity){case"error":$$($nesting,"Kernel").$raise($$($nesting,"NotImplementedError"),message);break;case"warning":!void(warnings[string=message]||(warnings[string]=!0,self.$warn(string)))}var string}function executeIOAction(action){try{return action()}catch(error){if(0<=errno_codes.indexOf(error.code))throw $$($nesting,"Errno").$const_get(error.code).$new(error.message);throw error}}for(var i=0,ii=errno_codes.length;i<ii;i++)errno_code=errno_codes[i],$$($nesting,"Errno")["$const_defined?"](errno_code)||$$($nesting,"Errno").$const_set(errno_code,$$($nesting,"Class").$new($$($nesting,"SystemCallError")));return function($File_mtime$22,__util__,$File_close$21){var $File_realpath$4,$File_open$10,$File_each_line$18,$nesting=[$File_mtime$22=$klass($File_mtime$22,__util__,"File")].concat($File_close$21);null==$File_mtime$22.__fs__&&($File_mtime$22.__fs__=nil),null==$File_mtime$22.__path__&&($File_mtime$22.__path__=nil),null==$File_mtime$22.__util__&&($File_mtime$22.__util__=nil),$File_mtime$22.$$prototype.eof=$File_mtime$22.$$prototype.binary_flag=$File_mtime$22.$$prototype.path=$File_mtime$22.$$prototype.fd=nil,$File_mtime$22.$include($$$($$$("::","IO"),"Writable")),$File_mtime$22.$include($$$($$$("::","IO"),"Readable")),$File_mtime$22.__fs__=require("fs"),$File_mtime$22.__path__=require("path"),$File_mtime$22.__util__=require("util");var __fs__=$File_mtime$22.__fs__,__path__=$File_mtime$22.__path__,__util__=$File_mtime$22.__util__,$File_close$21="undefined"!=typeof TextEncoder?TextEncoder:__util__.TextEncoder,__utf8TextDecoder__=new("undefined"!=typeof TextDecoder?TextDecoder:__util__.TextDecoder)("utf8"),__textEncoder__=new $File_close$21;$truthy(__path__.sep!==$$($nesting,"Separator"))&&Opal.const_set($nesting[0],"ALT_SEPARATOR",__path__.sep),Opal.defs($File_mtime$22,"$read",$File_close$21=function(path){return executeIOAction(function(){return __fs__.readFileSync(path).toString()})},$File_close$21.$$arity=1),Opal.defs($File_mtime$22,"$write",$File_close$21=function(path,data){return executeIOAction(function(){return __fs__.writeFileSync(path,data)}),data.$size()},$File_close$21.$$arity=2),Opal.defs($File_mtime$22,"$exist?",$File_close$21=function(path){return $truthy(path["$respond_to?"]("path"))&&(path=path.$path()),executeIOAction(function(){return __fs__.existsSync(path)})},$File_close$21.$$arity=1),Opal.defs($File_mtime$22,"$realpath",$File_realpath$4=function(pathname,dir_string,cache){var $iter=$File_realpath$4.$$p,block=$iter||nil;if($iter&&($File_realpath$4.$$p=null),$iter&&($File_realpath$4.$$p=null),null==dir_string&&(dir_string=nil),null==cache&&(cache=nil),$truthy(dir_string)&&(pathname=this.$join(dir_string,pathname)),block===nil)return executeIOAction(function(){return __fs__.realpathSync(pathname,cache)});__fs__.realpath(pathname,cache,function(error,realpath){error?Opal.IOError.$new(error.message):block.$call(realpath)})},$File_realpath$4.$$arity=-2),Opal.defs($File_mtime$22,"$join",$File_close$21=function($a){var $post_args=Opal.slice.call(arguments,0,arguments.length);return __path__.posix.join.apply(__path__,$post_args)},$File_close$21.$$arity=-1),Opal.defs($File_mtime$22,"$directory?",$File_close$21=function(path){var result=nil,realpath=nil;return!!$truthy(this["$exist?"](path))&&(result=executeIOAction(function(){return!!__fs__.lstatSync(path).isDirectory()}),$truthy(result)||(realpath=this.$realpath(path),$truthy(realpath["$!="](path))&&(result=executeIOAction(function(){return!!__fs__.lstatSync(realpath).isDirectory()}))),result)},$File_close$21.$$arity=1),Opal.defs($File_mtime$22,"$file?",$File_close$21=function(path){var result=nil,realpath=nil;return!!$truthy(this["$exist?"](path))&&(result=executeIOAction(function(){return!!__fs__.lstatSync(path).isFile()}),$truthy(result)||(realpath=this.$realpath(path),$truthy(realpath["$!="](path))&&(result=executeIOAction(function(){return!!__fs__.lstatSync(realpath).isFile()}))),result)},$File_close$21.$$arity=1),Opal.defs($File_mtime$22,"$readable?",$File_close$21=function(path){return!!$truthy(this["$exist?"](path))&&"\n        try {\n          __fs__.accessSync(path, __fs__.R_OK);\n          return true;\n        } catch (error) {\n          return false;\n        }\n      "},$File_close$21.$$arity=1),Opal.defs($File_mtime$22,"$size",$File_close$21=function(path){return executeIOAction(function(){return __fs__.lstatSync(path).size})},$File_close$21.$$arity=1),Opal.defs($File_mtime$22,"$open",$File_open$10=function(path,mode){var $iter=$File_open$10.$$p,$yield=$iter||nil,file=nil;return $iter&&($File_open$10.$$p=null),null==mode&&(mode="r"),file=this.$new(path,mode),$yield!==nil?function(){try{return Opal.yield1($yield,file)}finally{file.$close()}}():file},$File_open$10.$$arity=-2),Opal.defs($File_mtime$22,"$stat",$File_close$21=function(path){return $truthy(path["$respond_to?"]("path"))&&(path=path.$path()),$$$($$($nesting,"File"),"Stat").$new(path)},$File_close$21.$$arity=1),Opal.defs($File_mtime$22,"$mtime",$File_close$21=function(path){return executeIOAction(function(){return __fs__.statSync(path).mtime})},$File_close$21.$$arity=1),Opal.defs($File_mtime$22,"$symlink?",$File_close$21=function(path){return executeIOAction(function(){return __fs__.lstatSync(path).isSymbolicLink()})},$File_close$21.$$arity=1),Opal.defs($File_mtime$22,"$absolute_path",$File_close$21=function(path,basedir){var $ret_or_1=nil;return null==basedir&&(basedir=nil),path=$truthy(path["$respond_to?"]("to_path"))?path.$to_path():path,basedir=$truthy($ret_or_1=basedir)?$ret_or_1:$$($nesting,"Dir").$pwd(),__path__.normalize(__path__.resolve(basedir.$to_str(),path.$to_str())).split(__path__.sep).join(__path__.posix.sep)},$File_close$21.$$arity=-2),Opal.def($File_mtime$22,"$initialize",$File_close$21=function(path,flags){var encoding_option_rx=nil;return null==flags&&(flags="r"),this.binary_flag=flags["$include?"]("b"),flags=flags.$delete("b"),$truthy((encoding_option_rx=/:(.*)/)["$match?"](flags))&&(handle_unsupported_feature("Encoding option (:encoding) is unsupported by Node.js openSync method and will be removed."),flags=flags.$sub(encoding_option_rx,"")),this.path=path,this.flags=flags,this.fd=executeIOAction(function(){return __fs__.openSync(path,flags)})},$File_close$21.$$arity=-2),$File_mtime$22.$attr_reader("path"),Opal.def($File_mtime$22,"$read",$File_close$21=function(){var buf,self=this,res=nil;return $truthy(self.eof)?"":(res=$truthy(self.binary_flag)?function(bytes){for(var i=0;i<bytes.length;)if(9===bytes[i]||10===bytes[i]||13===bytes[i]||32<=bytes[i]&&bytes[i]<=126)i+=1;else if(194<=bytes[i]&&bytes[i]<=223&&128<=bytes[i+1]&&bytes[i+1]<=191)i+=2;else if(224===bytes[i]&&160<=bytes[i+1]&&bytes[i+1]<=191&&128<=bytes[i+2]&&bytes[i+2]<=191||(225<=bytes[i]&&bytes[i]<=236||238===bytes[i]||239===bytes[i])&&128<=bytes[i+1]&&bytes[i+1]<=191&&128<=bytes[i+2]&&bytes[i+2]<=191||237===bytes[i]&&128<=bytes[i+1]&&bytes[i+1]<=159&&128<=bytes[i+2]&&bytes[i+2]<=191)i+=3;else{if(!(240===bytes[i]&&144<=bytes[i+1]&&bytes[i+1]<=191&&128<=bytes[i+2]&&bytes[i+2]<=191&&128<=bytes[i+3]&&bytes[i+3]<=191||241<=bytes[i]&&bytes[i]<=243&&128<=bytes[i+1]&&bytes[i+1]<=191&&128<=bytes[i+2]&&bytes[i+2]<=191&&128<=bytes[i+3]&&bytes[i+3]<=191||244===bytes[i]&&128<=bytes[i+1]&&bytes[i+1]<=143&&128<=bytes[i+2]&&bytes[i+2]<=191&&128<=bytes[i+3]&&bytes[i+3]<=191))return;i+=4}return 1}(buf=executeIOAction(function(){return __fs__.readFileSync(self.path)}))?buf.toString("utf8"):__utf8TextDecoder__.decode(__textEncoder__.encode(buf.toString("binary"))):executeIOAction(function(){return __fs__.readFileSync(self.path).toString("utf8")}),self.eof=!0,self.lineno=res.$size(),res)},$File_close$21.$$arity=0),Opal.def($File_mtime$22,"$readlines",$File_close$21=function(separator){return null==$gvars["/"]&&($gvars["/"]=nil),null==separator&&(separator=$gvars["/"]),this.$each_line(separator).$to_a()},$File_close$21.$$arity=-1),Opal.def($File_mtime$22,"$each_line",$File_each_line$18=function(separator){var chomped=$File_each_line$18.$$p,block=chomped||nil,self=this,lines=nil;if(null==$gvars["/"]&&($gvars["/"]=nil),chomped&&($File_each_line$18.$$p=null),chomped&&($File_each_line$18.$$p=null),null==separator&&(separator=$gvars["/"]),$truthy(self.eof))return block!==nil?self:[].$to_enum();if(block===nil)return self.$read().$each_line(separator);lines=$$($nesting,"File").$read(self.path),self.eof=!1,self.lineno=0;for(var chomped=lines.$chomp(),trailing=lines.length!=chomped.length,splitted=chomped.split(separator),i=0,length=splitted.length;i<length;i++)self.lineno+=1,i<length-1||trailing?Opal.yield1(block,splitted[i]+separator):Opal.yield1(block,splitted[i]);return self.eof=!0,self},$File_each_line$18.$$arity=-1),Opal.def($File_mtime$22,"$write",$File_close$21=function(string){var self=this;return executeIOAction(function(){return __fs__.writeSync(self.fd,string)})},$File_close$21.$$arity=1),Opal.def($File_mtime$22,"$flush",$File_close$21=function(){var self=this;return executeIOAction(function(){return __fs__.fsyncSync(self.fd)})},$File_close$21.$$arity=0),Opal.def($File_mtime$22,"$close",$File_close$21=function(){var self=this;return executeIOAction(function(){return __fs__.closeSync(self.fd)})},$File_close$21.$$arity=0),Opal.def($File_mtime$22,"$mtime",$File_mtime$22=function(){var self=this;return executeIOAction(function(){return __fs__.statSync(self.path).mtime})},$File_mtime$22.$$arity=0)}($nesting[0],$$($nesting,"IO"),$nesting),function($Stat_mtime$25,$Stat_file$ques$24){$Stat_mtime$25=$klass($Stat_mtime$25,null,"Stat"),[$Stat_mtime$25].concat($Stat_file$ques$24);null==$Stat_mtime$25.__fs__&&($Stat_mtime$25.__fs__=nil),$Stat_mtime$25.$$prototype.path=nil,$Stat_mtime$25.__fs__=require("fs");var __fs__=$Stat_mtime$25.__fs__;return Opal.def($Stat_mtime$25,"$initialize",$Stat_file$ques$24=function(path){return this.path=path},$Stat_file$ques$24.$$arity=1),Opal.def($Stat_mtime$25,"$file?",$Stat_file$ques$24=function(){var self=this;return executeIOAction(function(){return __fs__.statSync(self.path).isFile()})},$Stat_file$ques$24.$$arity=0),Opal.def($Stat_mtime$25,"$mtime",$Stat_mtime$25=function(){var self=this;return executeIOAction(function(){return __fs__.statSync(self.path).mtime})},$Stat_mtime$25.$$arity=0),nil&&"mtime"}($$($nesting,"File"),$nesting)},Opal.modules["nodejs/dir"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send;return Opal.add_stubs(["$respond_to?","$flat_map","$to_path","$coerce_to!"]),function(self,$nesting){self=$klass(self,null,"Dir"),$nesting=[self].concat($nesting);null==self.__glob__&&(self.__glob__=nil),null==self.__fs__&&(self.__fs__=nil),null==self.__path__&&(self.__path__=nil),null==self.__os__&&(self.__os__=nil),self.__glob__=require("glob"),self.__fs__=require("fs"),self.__path__=require("path"),self.__os__=require("os");var __glob__=self.__glob__,__fs__=self.__fs__,__path__=self.__path__,__os__=self.__os__;return function(self,$glob$7){var $nesting=[self].concat($glob$7);return Opal.def(self,"$[]",$glob$7=function(glob){return __glob__.sync(glob)},$glob$7.$$arity=1),Opal.def(self,"$pwd",$glob$7=function(){return process.cwd().split(__path__.sep).join(__path__.posix.sep)},$glob$7.$$arity=0),Opal.def(self,"$home",$glob$7=function(){return __os__.homedir()},$glob$7.$$arity=0),Opal.def(self,"$chdir",$glob$7=function(path){return process.chdir(path)},$glob$7.$$arity=1),Opal.def(self,"$mkdir",$glob$7=function(path){return __fs__.mkdirSync(path)},$glob$7.$$arity=1),Opal.def(self,"$entries",$glob$7=function(dirname){for(var result=[],entries=__fs__.readdirSync(dirname),i=0,ii=entries.length;i<ii;i++)result.push(entries[i]);return result},$glob$7.$$arity=1),Opal.def(self,"$glob",$glob$7=function(pattern){var $$8;return $truthy(pattern["$respond_to?"]("each"))||(pattern=[pattern]),$send(pattern,"flat_map",[],(($$8=function(subpattern){null==$$8.$$s||$$8.$$s;return null==subpattern&&(subpattern=nil),$truthy(subpattern["$respond_to?"]("to_path"))&&(subpattern=subpattern.$to_path()),subpattern=$$($nesting,"Opal")["$coerce_to!"](subpattern,$$($nesting,"String"),"to_str"),__glob__.sync(subpattern)}).$$s=this,$$8.$$arity=1,$$8))},$glob$7.$$arity=1),Opal.alias(self,"getwd","pwd")}(Opal.get_singleton_class(self),$nesting)}($nesting[0],$nesting)},Opal.modules["nodejs/io"]=function(Opal){function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}var $$5,$$6,$writer,self=Opal.top,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$lambda=Opal.lambda,$send=Opal.send;return Opal.add_stubs(["$attr_reader","$write","$read","$write_proc=","$-","$tty="]),function($IO_binread$4,$IO_read$3){var $nesting=[$IO_binread$4=$klass($IO_binread$4,null,"IO")].concat($IO_read$3);null==$IO_binread$4.__fs__&&($IO_binread$4.__fs__=nil),$IO_binread$4.__fs__=require("fs");var __fs__=$IO_binread$4.__fs__;$IO_binread$4.$attr_reader("eof"),$IO_binread$4.$attr_reader("lineno"),Opal.def($IO_binread$4,"$initialize",$IO_read$3=function(){return this.eof=!1,this.lineno=0},$IO_read$3.$$arity=0),Opal.defs($IO_binread$4,"$write",$IO_read$3=function(path,data){return $$($nesting,"File").$write(path,data)},$IO_read$3.$$arity=2),Opal.defs($IO_binread$4,"$read",$IO_read$3=function(path){return $$($nesting,"File").$read(path)},$IO_read$3.$$arity=1),Opal.defs($IO_binread$4,"$binread",$IO_binread$4=function(path){return function(action){try{return action()}catch(error){if("EACCES"===error.code||"EISDIR"===error.code||"EMFILE"===error.code||"ENOENT"===error.code||"EPERM"===error.code)throw Opal.IOError.$new(error.message);throw error}}(function(){return __fs__.readFileSync(path).toString("binary")})},$IO_binread$4.$$arity=1)}($nesting[0],$nesting),$writer=[$lambda((($$5=function(string){null==$$5.$$s||$$5.$$s;return null==string&&(string=nil),process.stdout.write(string)}).$$s=self,$$5.$$arity=1,$$5))],$send($$($nesting,"STDOUT"),"write_proc=",Opal.to_a($writer)),$rb_minus($writer.length,1),$writer=[$lambda((($$6=function(string){null==$$6.$$s||$$6.$$s;return null==string&&(string=nil),process.stderr.write(string)}).$$s=self,$$6.$$arity=1,$$6))],$send($$($nesting,"STDERR"),"write_proc=",Opal.to_a($writer)),$rb_minus($writer.length,1),$writer=[!0],$send($$($nesting,"STDOUT"),"tty=",Opal.to_a($writer)),$rb_minus($writer.length,1),$writer=[!0],$send($$($nesting,"STDERR"),"tty=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)]},Opal.modules["nodejs/open-uri"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$module=(Opal.$$$,Opal.$$,Opal.module);return function($OpenURI_data$2,$OpenURI_request$1){$OpenURI_data$2=$module($OpenURI_data$2,"OpenURI"),[$OpenURI_data$2].concat($OpenURI_request$1);null==$OpenURI_data$2.__xmlhttprequest__&&($OpenURI_data$2.__xmlhttprequest__=nil),$OpenURI_data$2.__xmlhttprequest__=require("unxhr");var __XMLHttpRequest__=$OpenURI_data$2.__xmlhttprequest__.XMLHttpRequest;Opal.defs($OpenURI_data$2,"$request",$OpenURI_request$1=function(uri){var xhr=new __XMLHttpRequest__;return xhr.open("GET",uri,!1),xhr.responseType="arraybuffer",xhr.send(),xhr},$OpenURI_request$1.$$arity=1),Opal.defs($OpenURI_data$2,"$data",$OpenURI_data$2=function(arrayBuffer){for(var arrayBuffer=arrayBuffer.response,byteArray=new Uint8Array(arrayBuffer),result=[],i=0;i<byteArray.byteLength;i++)result.push(byteArray[i]);return result},$OpenURI_data$2.$$arity=1)}($nesting[0],$nesting)},Opal.modules["corelib/comparable"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$falsy=Opal.falsy,$module=Opal.module,$truthy=Opal.truthy;return Opal.add_stubs(["$>","$<","$===","$raise","$class","$<=>","$equal?"]),function($base,$Comparable_clamp$7){var self=$module($base,"Comparable"),$nesting=[self].concat($Comparable_clamp$7),$case=nil;function normalize(what){return Opal.is_a(what,Opal.Integer)?what:$rb_gt(what,0)?1:$rb_lt(what,0)?-1:0}function cmp_or_fail(lhs,rhs){var cmp=lhs["$<=>"](rhs);return $falsy(cmp)&&function(lhs,class_name){$case=class_name,class_name=nil["$==="]($case)||(!0)["$==="]($case)||(!1)["$==="]($case)||$$($nesting,"Integer")["$==="]($case)||$$($nesting,"Float")["$==="]($case)?class_name.$inspect():class_name.$$class,self.$raise($$($nesting,"ArgumentError"),"comparison of "+lhs.$class()+" with "+class_name+" failed")}(lhs,rhs),normalize(cmp)}Opal.def(self,"$==",$Comparable_clamp$7=function(other){var cmp;return!!$truthy(this["$equal?"](other))||this["$<=>"]!=Opal.Kernel["$<=>"]&&(this.$$comparable?(delete this.$$comparable,!1):!!$truthy(cmp=this["$<=>"](other))&&0==normalize(cmp))},$Comparable_clamp$7.$$arity=1),Opal.def(self,"$>",$Comparable_clamp$7=function(other){return 0<cmp_or_fail(this,other)},$Comparable_clamp$7.$$arity=1),Opal.def(self,"$>=",$Comparable_clamp$7=function(other){return 0<=cmp_or_fail(this,other)},$Comparable_clamp$7.$$arity=1),Opal.def(self,"$<",$Comparable_clamp$7=function(other){return cmp_or_fail(this,other)<0},$Comparable_clamp$7.$$arity=1),Opal.def(self,"$<=",$Comparable_clamp$7=function(other){return cmp_or_fail(this,other)<=0},$Comparable_clamp$7.$$arity=1),Opal.def(self,"$between?",$Comparable_clamp$7=function(min,max){return!$rb_lt(this,min)&&!$rb_gt(this,max)},$Comparable_clamp$7.$$arity=2),Opal.def(self,"$clamp",$Comparable_clamp$7=function(min,max){var c,excl;if(null==max&&(max=nil),max===nil&&(Opal.is_a(min,Opal.Range)||this.$raise($$($nesting,"TypeError"),"wrong argument type "+min.$class()+" (expected Range)"),excl=min.excl,max=min.end,min=min.begin,max!==nil&&excl&&this.$raise($$($nesting,"ArgumentError"),"cannot clamp with an exclusive range")),min!==nil&&max!==nil&&0<cmp_or_fail(min,max)&&this.$raise($$($nesting,"ArgumentError"),"min argument must be smaller than max argument"),min!==nil){if(0==(c=cmp_or_fail(this,min)))return this;if(c<0)return min}return max!==nil&&0<(c=cmp_or_fail(this,max))?max:this},$Comparable_clamp$7.$$arity=-2)}($nesting[0],$nesting)},Opal.modules.pathname=function(Opal){function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$module=Opal.module;return Opal.add_stubs(["$require","$include","$quote","$===","$to_s","$path","$respond_to?","$to_path","$is_a?","$nil?","$raise","$class","$==","$attr_reader","$!","$relative?","$chop_basename","$basename","$=~","$new","$source","$[]","$rindex","$sub","$absolute?","$expand_path","$plus","$unshift","$length","$!=","$empty?","$first","$shift","$+","$join","$dirname","$pop","$reverse_each","$directory?","$extname","$<=>","$nonzero?","$proc","$casecmp","$cleanpath","$inspect","$include?","$fill","$map","$entries"]),self.$require("corelib/comparable"),function($Pathname_entries$26,$Pathname_relative_path_from$25){var $Pathname$23,$Pathname$24,$nesting=[$Pathname_entries$26=$klass($Pathname_entries$26,null,"Pathname")].concat($Pathname_relative_path_from$25);$Pathname_entries$26.$$prototype.path=nil,$Pathname_entries$26.$include($$($nesting,"Comparable")),Opal.const_set($nesting[0],"SEPARATOR_PAT",Opal.regexp([$$($nesting,"Regexp").$quote($$$($$($nesting,"File"),"SEPARATOR"))])),Opal.def($Pathname_entries$26,"$initialize",$Pathname_relative_path_from$25=function(path){return $truthy($$($nesting,"Pathname")["$==="](path))?this.path=path.$path().$to_s():$truthy(path["$respond_to?"]("to_path"))?this.path=path.$to_path():$truthy(path["$is_a?"]($$($nesting,"String")))?this.path=path:$truthy(path["$nil?"]())?this.$raise($$($nesting,"TypeError"),"no implicit conversion of nil into String"):this.$raise($$($nesting,"TypeError"),"no implicit conversion of "+path.$class()+" into String"),this.path["$=="]("\0")?this.$raise($$($nesting,"ArgumentError")):nil},$Pathname_relative_path_from$25.$$arity=1),$Pathname_entries$26.$attr_reader("path"),Opal.def($Pathname_entries$26,"$==",$Pathname_relative_path_from$25=function(other){return other.$path()["$=="](this.path)},$Pathname_relative_path_from$25.$$arity=1),Opal.def($Pathname_entries$26,"$absolute?",$Pathname_relative_path_from$25=function(){return this["$relative?"]()["$!"]()},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$relative?",$Pathname_relative_path_from$25=function(){for(var $b,r,path=nil,path=this.path;$truthy(r=this.$chop_basename(path));)$b=r,path=null==($b=Opal.to_ary($b))[0]?nil:$b[0];return path["$=="]("")},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$chop_basename",$Pathname_relative_path_from$25=function(path){var base=$$($nesting,"File").$basename(path);return $truthy($$($nesting,"Regexp").$new("^"+$$$($$($nesting,"Pathname"),"SEPARATOR_PAT").$source()+"?$")["$=~"](base))?nil:[path["$[]"](0,path.$rindex(base)),base]},$Pathname_relative_path_from$25.$$arity=1),Opal.def($Pathname_entries$26,"$root?",$Pathname_relative_path_from$25=function(){return this.path["$=="]("/")},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$parent",$Pathname_relative_path_from$25=function(){var self=this,new_path=nil;return(new_path=self.path.$sub(/\/([^\/]+\/?$)/,""))["$=="]("")&&(new_path=$truthy(self["$absolute?"]())?"/":"."),$$($nesting,"Pathname").$new(new_path)},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$sub",$Pathname_relative_path_from$25=function($a){var args=Opal.slice.call(arguments,0,arguments.length);return $$($nesting,"Pathname").$new($send(this.path,"sub",Opal.to_a(args)))},$Pathname_relative_path_from$25.$$arity=-1),Opal.def($Pathname_entries$26,"$cleanpath",$Pathname_relative_path_from$25=function(){return Opal.normalize(this.path)},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$to_path",$Pathname_relative_path_from$25=function(){return this.path},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$hash",$Pathname_relative_path_from$25=function(){return this.path},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$expand_path",$Pathname_relative_path_from$25=function(){return $$($nesting,"Pathname").$new($$($nesting,"File").$expand_path(this.path))},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$+",$Pathname_relative_path_from$25=function(other){return $truthy($$($nesting,"Pathname")["$==="](other))||(other=$$($nesting,"Pathname").$new(other)),$$($nesting,"Pathname").$new(this.$plus(this.path,other.$to_s()))},$Pathname_relative_path_from$25.$$arity=1),Opal.def($Pathname_entries$26,"$plus",$Pathname_relative_path_from$25=function(path1,path2){for(var $b,$c,r2,basename2,suffix2,prefix2=nil,index_list2=nil,basename_list2=nil,prefix1=nil,$ret_or_1=nil,r1=nil,basename1=nil,$ret_or_2=nil,$ret_or_3=nil,$ret_or_4=nil,$ret_or_5=nil,prefix2=path2,index_list2=[],basename_list2=[];$truthy(r2=this.$chop_basename(prefix2));)$c=r2,prefix2=null==($b=Opal.to_ary($c))[0]?nil:$b[0],basename2=null==$b[1]?nil:$b[1],index_list2.$unshift(prefix2.$length()),basename_list2.$unshift(basename2);if($truthy(prefix2["$!="]("")))return path2;for(prefix1=path1;$truthy(!0);){for(;$truthy($truthy($ret_or_1=basename_list2["$empty?"]()["$!"]())?basename_list2.$first()["$=="]("."):$ret_or_1);)index_list2.$shift(),basename_list2.$shift();if(!$truthy(r1=this.$chop_basename(prefix1)))break;if($c=r1,$b=Opal.to_ary($c),prefix1=null==$b[0]?nil:$b[0],!(basename1=null==$b[1]?nil:$b[1])["$=="](".")){if($truthy($truthy($ret_or_2=$truthy($ret_or_3=basename1["$=="](".."))?$ret_or_3:basename_list2["$empty?"]())?$ret_or_2:basename_list2.$first()["$!="](".."))){prefix1=$rb_plus(prefix1,basename1);break}index_list2.$shift(),basename_list2.$shift()}}if(r1=this.$chop_basename(prefix1),$truthy($truthy($ret_or_4=r1["$!"]())?Opal.regexp([$$($nesting,"SEPARATOR_PAT")])["$=~"]($$($nesting,"File").$basename(prefix1)):$ret_or_4))for(;$truthy($truthy($ret_or_5=basename_list2["$empty?"]()["$!"]())?basename_list2.$first()["$=="](".."):$ret_or_5);)index_list2.$shift(),basename_list2.$shift();return $truthy(basename_list2["$empty?"]()["$!"]())?(suffix2=path2["$[]"](Opal.Range.$new(index_list2.$first(),-1,!1)),$truthy(r1)?$$($nesting,"File").$join(prefix1,suffix2):$rb_plus(prefix1,suffix2)):$truthy(r1)?prefix1:$$($nesting,"File").$dirname(prefix1)},$Pathname_relative_path_from$25.$$arity=2),Opal.def($Pathname_entries$26,"$join",$Pathname_relative_path_from$25=function($a){try{var $$16,result=nil,args=Opal.slice.call(arguments,0,arguments.length);return $truthy(args["$empty?"]())?this:(result=args.$pop(),$truthy($$($nesting,"Pathname")["$==="](result))||(result=$$($nesting,"Pathname").$new(result)),$truthy(result["$absolute?"]())?result:($send(args,"reverse_each",[],(($$16=function(arg){null==$$16.$$s||$$16.$$s;if(null==arg&&(arg=nil),$truthy($$($nesting,"Pathname")["$==="](arg))||(arg=$$($nesting,"Pathname").$new(arg)),result=$rb_plus(arg,result),!$truthy(result["$absolute?"]()))return nil;Opal.ret(result)}).$$s=this,$$16.$$arity=1,$$16)),$rb_plus(this,result)))}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},$Pathname_relative_path_from$25.$$arity=-1),Opal.def($Pathname_entries$26,"$split",$Pathname_relative_path_from$25=function(){return[this.$dirname(),this.$basename()]},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$dirname",$Pathname_relative_path_from$25=function(){return $$($nesting,"Pathname").$new($$($nesting,"File").$dirname(this.path))},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$basename",$Pathname_relative_path_from$25=function(){return $$($nesting,"Pathname").$new($$($nesting,"File").$basename(this.path))},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$directory?",$Pathname_relative_path_from$25=function(){return $$($nesting,"File")["$directory?"](this.path)},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$extname",$Pathname_relative_path_from$25=function(){return $$($nesting,"File").$extname(this.path)},$Pathname_relative_path_from$25.$$arity=0),Opal.def($Pathname_entries$26,"$<=>",$Pathname_relative_path_from$25=function(other){return this.$path()["$<=>"](other.$path())},$Pathname_relative_path_from$25.$$arity=1),Opal.alias($Pathname_entries$26,"eql?","=="),Opal.alias($Pathname_entries$26,"===","=="),Opal.alias($Pathname_entries$26,"to_str","to_path"),Opal.alias($Pathname_entries$26,"to_s","to_path"),Opal.const_set($nesting[0],"SAME_PATHS",$truthy($$$($$($nesting,"File"),"FNM_SYSCASE")["$nonzero?"]())?$send($Pathname_entries$26,"proc",[],(($Pathname$23=function(a,b){null==$Pathname$23.$$s||$Pathname$23.$$s;return null==a&&(a=nil),null==b&&(b=nil),a.$casecmp(b)["$=="](0)}).$$s=$Pathname_entries$26,$Pathname$23.$$arity=2,$Pathname$23)):$send($Pathname_entries$26,"proc",[],(($Pathname$24=function(a,b){null==$Pathname$24.$$s||$Pathname$24.$$s;return null==a&&(a=nil),null==b&&(b=nil),a["$=="](b)}).$$s=$Pathname_entries$26,$Pathname$24.$$arity=2,$Pathname$24))),Opal.def($Pathname_entries$26,"$relative_path_from",$Pathname_relative_path_from$25=function(base_directory){var $b,$c,dest_prefix=nil,dest_names=nil,r=nil,basename=nil,base_prefix=nil,base_names=nil,$ret_or_6=nil,$ret_or_7=nil,relpath_names=nil,dest_directory=this.$cleanpath().$to_s();for(base_directory=base_directory.$cleanpath().$to_s(),dest_prefix=dest_directory,dest_names=[];$truthy(r=this.$chop_basename(dest_prefix));)$c=r,dest_prefix=null==($b=Opal.to_ary($c))[0]?nil:$b[0],basename=null==$b[1]?nil:$b[1],$truthy(basename["$!="]("."))&&dest_names.$unshift(basename);for(base_prefix=base_directory,base_names=[];$truthy(r=this.$chop_basename(base_prefix));)$c=r,base_prefix=null==($b=Opal.to_ary($c))[0]?nil:$b[0],basename=null==$b[1]?nil:$b[1],$truthy(basename["$!="]("."))&&base_names.$unshift(basename);for($truthy($$($nesting,"SAME_PATHS")["$[]"](dest_prefix,base_prefix))||this.$raise($$($nesting,"ArgumentError"),"different prefix: "+dest_prefix.$inspect()+" and "+base_directory.$inspect());$truthy($truthy($ret_or_6=$truthy($ret_or_7=dest_names["$empty?"]()["$!"]())?base_names["$empty?"]()["$!"]():$ret_or_7)?$$($nesting,"SAME_PATHS")["$[]"](dest_names.$first(),base_names.$first()):$ret_or_6);)dest_names.$shift(),base_names.$shift();return $truthy(base_names["$include?"](".."))&&this.$raise($$($nesting,"ArgumentError"),"base_directory has ..: "+base_directory.$inspect()),base_names.$fill(".."),relpath_names=$rb_plus(base_names,dest_names),$truthy(relpath_names["$empty?"]())?$$($nesting,"Pathname").$new("."):$$($nesting,"Pathname").$new($send($$($nesting,"File"),"join",Opal.to_a(relpath_names)))},$Pathname_relative_path_from$25.$$arity=1),Opal.def($Pathname_entries$26,"$entries",$Pathname_entries$26=function(){var $$27;return $send($$($nesting,"Dir").$entries(this.path),"map",[],(($$27=function(f){var self=null==$$27.$$s?this:$$27.$$s;return null==f&&(f=nil),self.$class().$new(f)}).$$s=this,$$27.$$arity=1,$$27))},$Pathname_entries$26.$$arity=0)}($nesting[0],$nesting),function($Kernel_Pathname$28,$parent_nesting){var $Kernel_Pathname$28=$module($Kernel_Pathname$28,"Kernel"),$nesting=[$Kernel_Pathname$28].concat($parent_nesting);Opal.def($Kernel_Pathname$28,"$Pathname",$Kernel_Pathname$28=function(path){return $$($nesting,"Pathname").$new(path)},$Kernel_Pathname$28.$$arity=1)}($nesting[0],$nesting)},Opal.modules["nodejs/pathname"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass;return Opal.add_stubs(["$require","$include","$to_str","$!","$absolute?"]),self.$require("pathname"),function($Pathname_to_path$3,$Pathname_relative$ques$2){$Pathname_to_path$3=$klass($Pathname_to_path$3,null,"Pathname"),$Pathname_relative$ques$2=[$Pathname_to_path$3].concat($Pathname_relative$ques$2);null==$Pathname_to_path$3.__path__&&($Pathname_to_path$3.__path__=nil),$Pathname_to_path$3.$$prototype.path=nil,$Pathname_to_path$3.$include($$($Pathname_relative$ques$2,"Comparable")),$Pathname_to_path$3.__path__=require("path");var __path__=$Pathname_to_path$3.__path__;return Opal.def($Pathname_to_path$3,"$absolute?",$Pathname_relative$ques$2=function(){return __path__.isAbsolute(this.path.$to_str())},$Pathname_relative$ques$2.$$arity=0),Opal.def($Pathname_to_path$3,"$relative?",$Pathname_relative$ques$2=function(){return this["$absolute?"]()["$!"]()},$Pathname_relative$ques$2.$$arity=0),Opal.def($Pathname_to_path$3,"$to_path",$Pathname_to_path$3=function(){return this.path},$Pathname_to_path$3.$$arity=0),nil&&"to_path"}($nesting[0],$nesting)},Opal.modules["nodejs/env"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$);return Opal.add_stubs(["$new","$to_s"]),Opal.const_set($nesting[0],"ENV",$$($nesting,"Object").$new()),function($to_s$7,$delete$6){[$to_s$7].concat($delete$6);return Opal.def($to_s$7,"$[]",$delete$6=function(name){return process.env[name]||nil},$delete$6.$$arity=1),Opal.def($to_s$7,"$[]=",$delete$6=function(name,value){return process.env[name.$to_s()]=value.$to_s()},$delete$6.$$arity=2),Opal.def($to_s$7,"$key?",$delete$6=function(name){return process.env.hasOwnProperty(name)},$delete$6.$$arity=1),Opal.alias($to_s$7,"has_key?","key?"),Opal.alias($to_s$7,"include?","key?"),Opal.alias($to_s$7,"member?","key?"),Opal.def($to_s$7,"$empty?",$delete$6=function(){return 0===Object.keys(process.env).length},$delete$6.$$arity=0),Opal.def($to_s$7,"$keys",$delete$6=function(){return Object.keys(process.env)},$delete$6.$$arity=0),Opal.def($to_s$7,"$delete",$delete$6=function(name){var value=process.env[name]||nil;return delete process.env[name],value},$delete$6.$$arity=1),Opal.def($to_s$7,"$to_s",$to_s$7=function(){return"ENV"},$to_s$7.$$arity=0),nil&&"to_s"}(Opal.get_singleton_class($$($nesting,"ENV")),$nesting)},Opal.modules.nodejs=function(Opal){var self=Opal.top,$parent_nesting=[],$module=(Opal.nil,Opal.$$$,Opal.$$,Opal.module);return Opal.add_stubs(["$require"]),[$module(($parent_nesting=$parent_nesting)[0],"NodeJS")].concat($parent_nesting),self.$require("nodejs/kernel"),self.$require("nodejs/file"),self.$require("nodejs/dir"),self.$require("nodejs/io"),self.$require("nodejs/open-uri"),self.$require("nodejs/pathname"),self.$require("nodejs/env")};
