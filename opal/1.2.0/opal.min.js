(function(Module){"use strict";var console,nil,BasicObject,_Object,Class;if("undefined"!=typeof globalThis?Module=globalThis:"undefined"!=typeof global?Module=global:"undefined"!=typeof window&&(Module=window),"log"in(console="object"==typeof Module.console?Module.console:null==Module.console?Module.console={}:{})||(console.log=function(){}),"warn"in console||(console.warn=console.log),void 0!==Module.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),Module.Opal;var Opal=Module.Opal={};((Opal.global=Module).Opal=Opal).config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var $has_own=Object.hasOwnProperty,$bind=Function.prototype.bind,$set_proto=Object.setPrototypeOf,$slice=Array.prototype.slice,$splice=Array.prototype.splice,unique_id=4;function $defineProperty(object,name,initialValue){"string"==typeof object?object[name]=initialValue:Object.defineProperty(object,name,{value:initialValue,enumerable:!1,configurable:!0,writable:!0})}function const_get_name(cref,name){if(cref)return cref.$$const[name]}function const_lookup_ancestors(cref,name){var i,ii,ancestors;if(null!=cref)for(i=0,ii=(ancestors=Opal.ancestors(cref)).length;i<ii;i++)if(ancestors[i].$$const&&$has_own.call(ancestors[i].$$const,name))return ancestors[i].$$const[name]}function const_missing(cref,name,skip_missing){if(!skip_missing)return(cref||_Object).$const_missing(name)}function isRoot(proto){return proto.hasOwnProperty("$$iclass")&&proto.hasOwnProperty("$$root")}function create_iclass(module){var iclass=create_dummy_iclass(module);return module.$$is_module&&module.$$iclasses.push(iclass),iclass}function create_dummy_iclass(module){var iclass={},proto=module.$$prototype;proto.hasOwnProperty("$$dummy")&&(proto=proto.$$define_methods_on);for(var props=Object.getOwnPropertyNames(proto),length=props.length,i=0;i<length;i++){var prop=props[i];$defineProperty(iclass,prop,proto[prop])}return $defineProperty(iclass,"$$iclass",!0),$defineProperty(iclass,"$$module",module),iclass}function chain_iclasses(iclasses){var length=iclasses.length,first=iclasses[0];if($defineProperty(first,"$$root",!0),1===length)return{first:first,last:first};for(var previous=first,i=1;i<length;i++){var current=iclasses[i];$set_proto(previous,current),previous=current}return{first:iclasses[0],last:iclasses[length-1]}}function protoToModule(proto){if(!proto.hasOwnProperty("$$dummy"))return proto.hasOwnProperty("$$iclass")?proto.$$module:proto.hasOwnProperty("$$class")?proto.$$class:void 0}function is_method_body(body){return"function"==typeof body&&!body.$$stub}function top_define_method(){var args=Opal.slice.call(arguments,0,arguments.length),block=top_define_method.$$p;return top_define_method.$$p=null,Opal.send(_Object,"define_method",args,block)}Opal.uid=function(){return unique_id+=2},Opal.id=function(obj){return obj.$$is_number?2*obj+1:(null!=obj.$$id||$defineProperty(obj,"$$id",Opal.uid()),obj.$$id)},Opal.gvars={},Opal.exit=function(status){Opal.gvars.DEBUG&&console.log("Exited with status "+status)},Opal.exceptions=[],Opal.pop_exception=function(){Opal.gvars["!"]=Opal.exceptions.pop()||nil},Opal.inspect=function(obj){return void 0===obj?"undefined":null===obj?"null":obj.$$class?obj.$inspect():obj.toString()},Opal.defineProperty=$defineProperty,Opal.slice=$slice,Opal.truthy=function(val){return val!==nil&&null!=val&&(!val.$$is_boolean||1==val)},Opal.falsy=function(val){return val===nil||null==val||val.$$is_boolean&&0==val},Opal.type_error=function(object,type,method,coerced){return object=object.$$class,coerced&&method?(coerced=coerced.$$class,Opal.TypeError.$new("can't convert "+object+" into "+type+" ("+object+"#"+method+" gives "+coerced+")")):Opal.TypeError.$new("no implicit conversion of "+object+" into "+type)},Opal.coerce_to=function(object,type,method,args){if(type["$==="](object))return object;if(!object["$respond_to?"](method))throw Opal.type_error(object,type);return null==args&&(args=[]),Opal.send(object,method,args)},Opal.respond_to=function(obj,jsid,include_all){if(null==obj||!obj.$$class)return!1;include_all=!!include_all;var body=obj[jsid];return obj["$respond_to?"].$$pristine?obj["$respond_to_missing?"].$$pristine?"function"==typeof body&&!body.$$stub:Opal.send(obj,obj["$respond_to_missing?"],[jsid.substr(1),include_all]):Opal.send(obj,obj["$respond_to?"],[jsid.substr(1),include_all])},Opal.const_get_local=function(cref,name,skip_missing){var result;if(null!=cref){if("::"===cref&&(cref=_Object),!cref.$$is_module&&!cref.$$is_class)throw new Opal.TypeError(cref.toString()+" is not a class/module");return null!=(result=const_get_name(cref,name))?result:null!=(result=const_missing(cref,name,skip_missing))?result:void 0}},Opal.const_get_qualified=function(cref,name,skip_missing){var result,cache,cached,current_version=Opal.const_cache_version;if(null!=cref){if("::"===cref&&(cref=_Object),!cref.$$is_module&&!cref.$$is_class)throw new Opal.TypeError(cref.toString()+" is not a class/module");return null==(cache=cref.$$const_cache)&&($defineProperty(cref,"$$const_cache",Object.create(null)),cache=cref.$$const_cache),null==(cached=cache[name])||cached[0]!==current_version?(null!=(result=const_get_name(cref,name))||(result=const_lookup_ancestors(cref,name)),cache[name]=[current_version,result]):result=cached[1],null!=result?result:const_missing(cref,name,skip_missing)}},Opal.const_cache_version=1,Opal.const_get_relative=function(nesting,name,skip_missing){var result,cache,cached,cref=nesting[0],current_version=Opal.const_cache_version;return null==(cache=nesting.$$const_cache)&&($defineProperty(nesting,"$$const_cache",Object.create(null)),cache=nesting.$$const_cache),null==(cached=cache[name])||cached[0]!==current_version?(null!=(result=const_get_name(cref,name))||null!=(result=function(nesting,name){var i,ii,constant;if(0!==nesting.length)for(i=0,ii=nesting.length;i<ii;i++)if(null!=(constant=nesting[i].$$const[name]))return constant}(nesting,name))||null!=(result=const_lookup_ancestors(cref,name))||(result=function(cref,name){if(null==cref||cref.$$is_module)return const_lookup_ancestors(_Object,name)}(cref,name)),cache[name]=[current_version,result]):result=cached[1],null!=result?result:const_missing(cref,name,skip_missing)},Opal.const_set=function(cref,name,value){return null!=cref&&"::"!==cref||(cref=_Object),value.$$is_a_module&&(null!=value.$$name&&value.$$name!==nil||(value.$$name=name),null==value.$$base_module&&(value.$$base_module=cref)),cref.$$const=cref.$$const||Object.create(null),cref.$$const[name]=value,cref.$$=cref.$$const,Opal.const_cache_version++,cref===_Object&&(Opal[name]=value),$defineProperty(cref,name,value),value},Opal.constants=function(cref,inherit){null==inherit&&(inherit=!0);var module,i,ii,constant,modules=[cref],constants={};for(inherit&&(modules=modules.concat(Opal.ancestors(cref))),inherit&&cref.$$is_module&&(modules=modules.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object))),i=0,ii=modules.length;i<ii&&(module=modules[i],cref===_Object||module!=_Object);i++)for(constant in module.$$const)constants[constant]=!0;return Object.keys(constants)},Opal.const_remove=function(cref,name){if(Opal.const_cache_version++,null!=cref.$$const[name]){var old=cref.$$const[name];return delete cref.$$const[name],old}if(null!=cref.$$autoload&&null!=cref.$$autoload[name])return delete cref.$$autoload[name],nil;throw Opal.NameError.$new("constant "+cref+"::"+cref.$name()+" not defined")},Opal.$$=Opal.const_get_relative,Opal.$$$=Opal.const_get_qualified,Opal.allocate_class=function(name,superclass){var klass,constructor=null!=superclass&&superclass.$$bridge?function(){var self=$slice.call(arguments),self=new($bind.apply(superclass.$$constructor,[null].concat(self)));return $set_proto(self,klass.$$prototype),self}:function(){};return name&&$defineProperty(constructor,"displayName","::"+name),$defineProperty(klass=constructor,"$$name",name),$defineProperty(klass,"$$constructor",constructor),$defineProperty(klass,"$$prototype",constructor.prototype),$defineProperty(klass,"$$const",{}),$defineProperty(klass,"$$is_class",!0),$defineProperty(klass,"$$is_a_module",!0),$defineProperty(klass,"$$super",superclass),$defineProperty(klass,"$$cvars",{}),$defineProperty(klass,"$$own_included_modules",[]),$defineProperty(klass,"$$own_prepended_modules",[]),$defineProperty(klass,"$$ancestors",[]),$defineProperty(klass,"$$ancestors_cache_version",null),$defineProperty(klass.$$prototype,"$$class",klass),Opal.Class&&$set_proto(klass,Opal.Class.prototype),null!=superclass&&($set_proto(klass.$$prototype,superclass.$$prototype),superclass.$$meta&&Opal.build_class_singleton_class(klass)),klass},Opal.klass=function(scope,superclass,name){var bridged;if(null==scope||"::"==scope?scope=_Object:scope.$$is_class||scope.$$is_module||(scope=scope.$$class),null!=superclass&&(!superclass.hasOwnProperty||superclass.hasOwnProperty&&!superclass.hasOwnProperty("$$is_class"))){if(!superclass.constructor||"Function"!=superclass.constructor.name)throw Opal.TypeError.$new("superclass must be a Class ("+(superclass.constructor&&(superclass.constructor.name||superclass.constructor.$$name)||typeof superclass)+" given)");bridged=superclass,superclass=_Object}var klass=function(klass,name){if(klass=const_get_name(klass,name)){if(!klass.$$is_class)throw Opal.TypeError.$new(name+" is not a class");return klass}}(scope,name);return klass?superclass&&function(klass,superclass){if(klass.$$super!==superclass)throw Opal.TypeError.$new("superclass mismatch for class "+klass.$$name)}(klass,superclass):(null==superclass&&(superclass=_Object),klass=Opal.allocate_class(name,superclass),Opal.const_set(scope,name,klass),superclass.$inherited&&superclass.$inherited(klass),bridged&&Opal.bridge(bridged,klass)),klass},Opal.allocate_module=function(name){function constructor(){}name&&$defineProperty(constructor,"displayName",name+".$$constructor");var module=constructor;return name&&$defineProperty(constructor,"displayName",name+".constructor"),$defineProperty(module,"$$name",name),$defineProperty(module,"$$prototype",constructor.prototype),$defineProperty(module,"$$const",{}),$defineProperty(module,"$$is_module",!0),$defineProperty(module,"$$is_a_module",!0),$defineProperty(module,"$$cvars",{}),$defineProperty(module,"$$iclasses",[]),$defineProperty(module,"$$own_included_modules",[]),$defineProperty(module,"$$own_prepended_modules",[]),$defineProperty(module,"$$ancestors",[module]),$defineProperty(module,"$$ancestors_cache_version",null),$set_proto(module,Opal.Module.prototype),module},Opal.module=function(scope,name){var module;return null==scope||"::"==scope?scope=_Object:scope.$$is_class||scope.$$is_module||(scope=scope.$$class),(module=function(scope,name){var module=const_get_name(scope,name);if(null==module&&scope===_Object&&(module=const_lookup_ancestors(_Object,name)),module&&!module.$$is_module&&module!==_Object)throw Opal.TypeError.$new(name+" is not a module");return module}(scope,name))||(module=Opal.allocate_module(name),Opal.const_set(scope,name,module)),module},Opal.get_singleton_class=function(object){return object.$$meta||(object.hasOwnProperty("$$is_class")?Opal.build_class_singleton_class(object):object.hasOwnProperty("$$is_module")?Opal.build_module_singleton_class(object):Opal.build_object_singleton_class(object))},Opal.build_class_singleton_class=function(klass){var meta;return klass.$$meta||(meta=klass===BasicObject?Class:Opal.get_singleton_class(klass.$$super),$defineProperty(meta=Opal.allocate_class(null,meta,function(){}),"$$is_singleton",!0),$defineProperty(meta,"$$singleton_of",klass),$defineProperty(klass,"$$meta",meta),$set_proto(klass,meta.$$prototype),$defineProperty(klass,"$$class",Opal.Class),meta)},Opal.build_module_singleton_class=function(mod){if(mod.$$meta)return mod.$$meta;var meta=Opal.allocate_class(null,Opal.Module,function(){});return $defineProperty(meta,"$$is_singleton",!0),$defineProperty(meta,"$$singleton_of",mod),$defineProperty(mod,"$$meta",meta),$set_proto(mod,meta.$$prototype),$defineProperty(mod,"$$class",Opal.Module),meta},Opal.build_object_singleton_class=function(object){var klass=object.$$class,klass=Opal.allocate_class(nil,klass,function(){});return $defineProperty(klass,"$$is_singleton",!0),$defineProperty(klass,"$$singleton_of",object),delete klass.$$prototype.$$class,$defineProperty(object,"$$meta",klass),$set_proto(object,object.$$meta.$$prototype),klass},Opal.is_method=function(prop){return"$"===prop[0]&&"$"!==prop[1]},Opal.instance_methods=function(mod){for(var exclude=[],results=[],ancestors=Opal.ancestors(mod),i=0,l=ancestors.length;i<l;i++){var proto=ancestors[i].$$prototype;proto.hasOwnProperty("$$dummy")&&(proto=proto.$$define_methods_on);for(var props=Object.getOwnPropertyNames(proto),j=0,ll=props.length;j<ll;j++){var method_name,method=props[j];Opal.is_method(method)&&(method_name=method.slice(1),(method=proto[method]).$$stub&&-1===exclude.indexOf(method_name)&&exclude.push(method_name),method.$$stub||-1!==results.indexOf(method_name)||-1!==exclude.indexOf(method_name)||results.push(method_name))}}return results},Opal.own_instance_methods=function(mod){var results=[],proto=mod.$$prototype;proto.hasOwnProperty("$$dummy")&&(proto=proto.$$define_methods_on);for(var props=Object.getOwnPropertyNames(proto),i=0,length=props.length;i<length;i++){var method_name=props[i];Opal.is_method(method_name)&&(proto[method_name].$$stub||(method_name=method_name.slice(1),results.push(method_name)))}return results},Opal.methods=function(obj){return Opal.instance_methods(Opal.get_singleton_class(obj))},Opal.own_methods=function(obj){return Opal.own_instance_methods(Opal.get_singleton_class(obj))},Opal.receiver_methods=function(singleton_methods){var instance_methods=Opal.get_singleton_class(singleton_methods),singleton_methods=Opal.own_instance_methods(instance_methods),instance_methods=Opal.own_instance_methods(instance_methods.$$super);return singleton_methods.concat(instance_methods)},Opal.class_variables=function(module){for(var ancestors=Opal.ancestors(module),result={},i=ancestors.length-1;0<=i;i--){var cvar,ancestor=ancestors[i];for(cvar in ancestor.$$cvars)result[cvar]=ancestor.$$cvars[cvar]}return result},Opal.class_variable_set=function(module,name,value){for(var ancestors=Opal.ancestors(module),i=ancestors.length-2;0<=i;i--){var ancestor=ancestors[i];if($has_own.call(ancestor.$$cvars,name))return ancestor.$$cvars[name]=value}return module.$$cvars[name]=value},Opal.class_variable_get=function(module,name,tolerant){if($has_own.call(module.$$cvars,name))return module.$$cvars[name];for(var ancestors=Opal.ancestors(module),length=ancestors.length,i=0;i<length;i++){var ancestor=ancestors[i];if($has_own.call(ancestor.$$cvars,name))return ancestor.$$cvars[name]}if(!tolerant)throw Opal.NameError.$new("uninitialized class variable "+name+" in "+module.$name());return nil},Opal.append_features=function(module,includer){var module_ancestors=Opal.ancestors(module),iclasses=[];if(-1!==module_ancestors.indexOf(includer))throw Opal.ArgumentError.$new("cyclic include detected");for(var i=0,length=module_ancestors.length;i<length;i++){var iclass=create_iclass(module_ancestors[i]);$defineProperty(iclass,"$$included",!0),iclasses.push(iclass)}var start_chain_after,end_chain_on,includer_ancestors=Opal.ancestors(includer),chain=chain_iclasses(iclasses);if(-1===includer_ancestors.indexOf(module))start_chain_after=includer.$$prototype,end_chain_on=Object.getPrototypeOf(includer.$$prototype);else{for(var parent=includer.$$prototype,module_iclass=Object.getPrototypeOf(parent);null!=module_iclass&&(module_iclass.$$module!==module||!isRoot(module_iclass));)parent=module_iclass,module_iclass=Object.getPrototypeOf(module_iclass);if(module_iclass){for(var next_ancestor=Object.getPrototypeOf(module_iclass);next_ancestor.hasOwnProperty("$$iclass")&&!isRoot(next_ancestor);)next_ancestor=Object.getPrototypeOf(next_ancestor);start_chain_after=parent,end_chain_on=next_ancestor}else start_chain_after=includer.$$prototype,end_chain_on=Object.getPrototypeOf(includer.$$prototype)}$set_proto(start_chain_after,chain.first),$set_proto(chain.last,end_chain_on),includer.$$own_included_modules=function(module){for(var mod,result=[],proto=Object.getPrototypeOf(module.$$prototype);proto&&!proto.hasOwnProperty("$$class");)(mod=protoToModule(proto))&&result.push(mod),proto=Object.getPrototypeOf(proto);return result}(includer),Opal.const_cache_version++},Opal.prepend_features=function(start_chain_after,prepender){var module_ancestors=Opal.ancestors(start_chain_after),iclasses=[];if(-1!==module_ancestors.indexOf(prepender))throw Opal.ArgumentError.$new("cyclic prepend detected");for(var i=0,length=module_ancestors.length;i<length;i++){var iclass=create_iclass(module_ancestors[i]);$defineProperty(iclass,"$$prepended",!0),iclasses.push(iclass)}var prepender_iclass,end_chain_on,chain=chain_iclasses(iclasses),dummy_prepender=prepender.$$prototype,previous_parent=Object.getPrototypeOf(dummy_prepender);if(dummy_prepender.hasOwnProperty("$$dummy")?prepender_iclass=dummy_prepender.$$define_methods_on:(prepender_iclass=create_dummy_iclass(prepender),function(){for(var proto=prepender.$$prototype,props=Object.getOwnPropertyNames(proto),i=0;i<props.length;i++){var prop=props[i];Opal.is_method(prop)&&delete proto[prop]}}(),$defineProperty(dummy_prepender,"$$dummy",!0),$defineProperty(dummy_prepender,"$$define_methods_on",prepender_iclass),$set_proto(dummy_prepender,prepender_iclass),$set_proto(prepender_iclass,previous_parent)),-1!==Opal.ancestors(prepender).indexOf(start_chain_after))throw Opal.RuntimeError.$new("Prepending a module multiple times is not supported");for(start_chain_after=dummy_prepender,end_chain_on=Object.getPrototypeOf(dummy_prepender);null!=end_chain_on&&!end_chain_on.hasOwnProperty("$$root")&&end_chain_on!==prepender_iclass&&end_chain_on.hasOwnProperty("$$iclass");)end_chain_on=Object.getPrototypeOf(end_chain_on);$set_proto(start_chain_after,chain.first),$set_proto(chain.last,end_chain_on),prepender.$$own_prepended_modules=function(module){var mod,result=[],proto=Object.getPrototypeOf(module.$$prototype);if(module.$$prototype.hasOwnProperty("$$dummy"))for(;proto&&proto!==module.$$prototype.$$define_methods_on;)(mod=protoToModule(proto))&&result.push(mod),proto=Object.getPrototypeOf(proto);return result}(prepender),Opal.const_cache_version++},Opal.bridge=function(native_klass,klass){if(native_klass.hasOwnProperty("$$bridge"))throw Opal.ArgumentError.$new("already bridged");$defineProperty(native_klass,"$$bridge",klass),$set_proto(native_klass.prototype,(klass.$$super||Opal.Object).$$prototype),$defineProperty(klass,"$$prototype",native_klass.prototype),$defineProperty(klass.$$prototype,"$$class",klass),$defineProperty(klass,"$$constructor",native_klass),$defineProperty(klass,"$$bridge",!0)},Opal.ancestors=function(module){if(!module)return[];if(module.$$ancestors_cache_version===Opal.const_cache_version)return module.$$ancestors;for(var result=[],i=0,mods=function(module){return module.$$own_prepended_modules.concat([module]).concat(module.$$own_included_modules)}(module),length=mods.length;i<length;i++)result.push(mods[i]);if(module.$$super)for(i=0,length=(mods=Opal.ancestors(module.$$super)).length;i<length;i++)result.push(mods[i]);return module.$$ancestors_cache_version=Opal.const_cache_version,module.$$ancestors=result},Opal.included_modules=function(module){for(var mod,result=[],proto=Object.getPrototypeOf(module.$$prototype);proto&&Object.getPrototypeOf(proto);proto=Object.getPrototypeOf(proto))(mod=protoToModule(proto))&&mod.$$is_module&&proto.$$iclass&&proto.$$included&&result.push(mod);return result},Opal.add_stubs=function(stubs){for(var proto=Opal.BasicObject.$$prototype,i=0,length=stubs.length;i<length;i++){var stub=stubs[i],existing_method=proto[stub];null!=existing_method&&!existing_method.$$stub||Opal.add_stub_for(proto,stub)}},Opal.add_stub_for=function(prototype,stub){$defineProperty(prototype,stub,Opal.stub_for(stub))},Opal.stub_for=function(method_name){function method_missing_stub(){this.$method_missing.$$p=method_missing_stub.$$p,method_missing_stub.$$p=null;for(var args_ary=new Array(arguments.length),i=0,l=args_ary.length;i<l;i++)args_ary[i]=arguments[i];return this.$method_missing.apply(this,[method_name.slice(1)].concat(args_ary))}return method_missing_stub.$$stub=!0,method_missing_stub},Opal.ac=function(actual,expected,object,meth){var inspect="";throw object.$$is_a_module?inspect+=object.$$name+".":inspect+=object.$$class.$$name+"#",inspect+=meth,Opal.ArgumentError.$new("["+inspect+"] wrong number of arguments("+actual+" for "+expected+")")},Opal.block_ac=function(actual,expected,inspect){inspect="`block in "+inspect+"'";throw Opal.ArgumentError.$new(inspect+": wrong number of arguments ("+actual+" for "+expected+")")},Opal.find_super_dispatcher=function(obj,mid,current_func,defcheck,allow_stubs){for(var super_method,jsid="$"+mid,ancestors=obj.hasOwnProperty("$$meta")?Opal.ancestors(obj.$$meta):Opal.ancestors(obj.$$class),i=ancestors.indexOf(current_func.$$owner)+1;i<ancestors.length;i++){var proto=ancestors[i].$$prototype;if(proto.hasOwnProperty("$$dummy")&&(proto=proto.$$define_methods_on),proto.hasOwnProperty(jsid)){super_method=proto[jsid];break}}if(!defcheck&&super_method&&super_method.$$stub&&obj.$method_missing.$$pristine)throw Opal.NoMethodError.$new("super: no superclass method `"+mid+"' for "+obj,mid);return super_method.$$stub&&!allow_stubs?null:super_method},Opal.find_iter_super_dispatcher=function(obj,call_jsid,current_func,defcheck,implicit){if(!current_func)throw Opal.RuntimeError.$new("super called outside of method");if(implicit&&current_func.$$define_meth)throw Opal.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return current_func.$$def&&(call_jsid=current_func.$$jsid),Opal.find_super_dispatcher(obj,call_jsid,current_func,defcheck)},Opal.ret=function(val){throw Opal.returner.$v=val,Opal.returner},Opal.brk=function(val,breaker){throw breaker.$v=val,breaker},Opal.new_brk=function(){return new Error("unexpected break")},Opal.yield1=function(block,arg){if("function"!=typeof block)throw Opal.LocalJumpError.$new("no block given");var has_mlhs=block.$$has_top_level_mlhs_arg,has_trailing_comma=block.$$has_trailing_comma_in_args;return(1<block.length||(has_mlhs||has_trailing_comma)&&1===block.length)&&(arg=Opal.to_ary(arg)),(1<block.length||has_trailing_comma&&1===block.length)&&arg.$$is_array?block.apply(null,arg):block(arg)},Opal.yieldX=function(block,args){if("function"!=typeof block)throw Opal.LocalJumpError.$new("no block given");if(1<block.length&&1===args.length&&args[0].$$is_array)return block.apply(null,args[0]);if(args.$$is_array)return block.apply(null,args);for(var args_ary=new Array(args.length),i=0,l=args_ary.length;i<l;i++)args_ary[i]=args[i];return block.apply(null,args_ary)},Opal.rescue=function(exception,candidates){for(var i=0;i<candidates.length;i++){var candidate=candidates[i];if(candidate.$$is_array){var result=Opal.rescue(exception,candidate);if(result)return result}else{if(candidate===Opal.JS.Error)return candidate;if(candidate["$==="](exception))return candidate}}return null},Opal.is_a=function(object,klass){if(null!=klass&&object.$$meta===klass||object.$$class===klass)return!0;if(object.$$is_number&&klass.$$is_number_class)return!klass.$$is_integer_class||object%1==0;for(var ancestors=Opal.ancestors(object.$$is_class?Opal.get_singleton_class(object):object.$$meta||object.$$class),i=0,length=ancestors.length;i<length;i++)if(ancestors[i]===klass)return!0;return!1},Opal.to_hash=function(value){if(value.$$is_hash)return value;if(value["$respond_to?"]("to_hash",!0)){var hash=value.$to_hash();if(hash.$$is_hash)return hash;throw Opal.TypeError.$new("Can't convert "+value.$$class+" to Hash ("+value.$$class+"#to_hash gives "+hash.$$class+")")}throw Opal.TypeError.$new("no implicit conversion of "+value.$$class+" into Hash")},Opal.to_ary=function(value){if(value.$$is_array)return value;if(value["$respond_to?"]("to_ary",!0)){var ary=value.$to_ary();if(ary===nil)return[value];if(ary.$$is_array)return ary;throw Opal.TypeError.$new("Can't convert "+value.$$class+" to Array ("+value.$$class+"#to_ary gives "+ary.$$class+")")}return[value]},Opal.to_a=function(value){if(value.$$is_array)return value.slice();if(value["$respond_to?"]("to_a",!0)){var ary=value.$to_a();if(ary===nil)return[value];if(ary.$$is_array)return ary;throw Opal.TypeError.$new("Can't convert "+value.$$class+" to Array ("+value.$$class+"#to_a gives "+ary.$$class+")")}return[value]},Opal.extract_kwargs=function(parameters){var kwargs=parameters[parameters.length-1];return null!=kwargs&&Opal.respond_to(kwargs,"$to_hash",!0)?($splice.call(parameters,parameters.length-1,1),kwargs.$to_hash()):Opal.hash2([],{})},Opal.kwrestargs=function(given_args,used_args){var key,keys=[],map={},given_map=given_args.$$smap;for(key in given_map)used_args[key]||(keys.push(key),map[key]=given_map[key]);return Opal.hash2(keys,map)},Opal.send=function(recv,method,args,block){var body;if("function"==typeof method)body=method,method=null;else{if("string"!=typeof method)throw Opal.NameError.$new("Passed method should be a string or a function");body=recv["$"+method]}return Opal.send2(recv,body,method,args,block)},Opal.send2=function(recv,body,method,args,block){return null==body&&null!=method&&recv.$method_missing&&(body=recv.$method_missing,args=[method].concat(args)),"function"==typeof block&&(body.$$p=block),body.apply(recv,args)},Opal.lambda=function(block){return block.$$is_lambda=!0,block},Opal.def=function(obj,jsid,body){obj===Opal.top?Opal.defn(Opal.Object,jsid,body):!obj.$$eval&&obj.$$is_a_module?Opal.defn(obj,jsid,body):Opal.defs(obj,jsid,body)},Opal.defn=function(module,jsid,body){body.displayName=jsid;var singleton_of=(body.$$owner=module).$$prototype;if(singleton_of.hasOwnProperty("$$dummy")&&(singleton_of=singleton_of.$$define_methods_on),$defineProperty(singleton_of,jsid,body),module.$$is_module){module.$$module_function&&Opal.defs(module,jsid,body);for(var i=0,iclasses=module.$$iclasses,length=iclasses.length;i<length;i++)$defineProperty(iclasses[i],jsid,body)}singleton_of=module.$$singleton_of;!module.$method_added||module.$method_added.$$stub||singleton_of?singleton_of&&singleton_of.$singleton_method_added&&!singleton_of.$singleton_method_added.$$stub&&singleton_of.$singleton_method_added(jsid.substr(1)):module.$method_added(jsid.substr(1))},Opal.defs=function(obj,jsid,body){if(obj.$$is_string||obj.$$is_number)throw Opal.TypeError.$new("can't define singleton");Opal.defn(Opal.get_singleton_class(obj),jsid,body)},Opal.rdef=function(obj,jsid){if(!$has_own.call(obj.$$prototype,jsid))throw Opal.NameError.$new("method '"+jsid.substr(1)+"' not defined in "+obj.$name());delete obj.$$prototype[jsid],obj.$$is_singleton?obj.$$prototype.$singleton_method_removed&&!obj.$$prototype.$singleton_method_removed.$$stub&&obj.$$prototype.$singleton_method_removed(jsid.substr(1)):obj.$method_removed&&!obj.$method_removed.$$stub&&obj.$method_removed(jsid.substr(1))},Opal.udef=function(obj,jsid){if(!obj.$$prototype[jsid]||obj.$$prototype[jsid].$$stub)throw Opal.NameError.$new("method '"+jsid.substr(1)+"' not defined in "+obj.$name());Opal.add_stub_for(obj.$$prototype,jsid),obj.$$is_singleton?obj.$$prototype.$singleton_method_undefined&&!obj.$$prototype.$singleton_method_undefined.$$stub&&obj.$$prototype.$singleton_method_undefined(jsid.substr(1)):obj.$method_undefined&&!obj.$method_undefined.$$stub&&obj.$method_undefined(jsid.substr(1))},Opal.alias=function(obj,name,old){var alias,id="$"+name,old_id="$"+old,body=obj.$$prototype["$"+old];if(obj.$$eval)return Opal.alias(Opal.get_singleton_class(obj),name,old);if(!is_method_body(body)){for(var ancestor=obj.$$super;"function"!=typeof body&&ancestor;)body=ancestor[old_id],ancestor=ancestor.$$super;if(!is_method_body(body)&&obj.$$is_module&&(body=Opal.Object.$$prototype[old_id]),!is_method_body(body))throw Opal.NameError.$new("undefined method `"+old+"' for class `"+obj.$name()+"'")}body.$$alias_of&&(body=body.$$alias_of),alias=function(){for(var block=alias.$$p,args=new Array(arguments.length),i=0,ii=arguments.length;i<ii;i++)args[i]=arguments[i];return null!=block&&(alias.$$p=null),Opal.send(this,body,args,block)};try{Object.defineProperty(alias,"length",{value:body.length})}catch(e){}return alias.displayName=name,alias.$$arity=body.$$arity,alias.$$parameters=body.$$parameters,alias.$$source_location=body.$$source_location,alias.$$alias_of=body,alias.$$alias_name=name,Opal.defn(obj,id,alias),obj},Opal.alias_native=function(obj,body,native_name){var id="$"+body,body=obj.$$prototype[native_name];if("function"!=typeof body||body.$$stub)throw Opal.NameError.$new("undefined native method `"+native_name+"' for class `"+obj.$name()+"'");return Opal.defn(obj,id,body),obj},Opal.hash_init=function(hash){hash.$$smap=Object.create(null),hash.$$map=Object.create(null),hash.$$keys=[]},Opal.hash_clone=function(from_hash,to_hash){to_hash.$$none=from_hash.$$none,to_hash.$$proc=from_hash.$$proc;for(var key,value,i=0,keys=from_hash.$$keys,smap=from_hash.$$smap,len=keys.length;i<len;i++)(key=keys[i]).$$is_string?value=smap[key]:(value=key.value,key=key.key),Opal.hash_put(to_hash,key,value)},Opal.hash_put=function(hash,key,value){if(key.$$is_string)return $has_own.call(hash.$$smap,key)||hash.$$keys.push(key),void(hash.$$smap[key]=value);var bucket,last_bucket,key_hash=hash.$$by_identity?Opal.id(key):key.$hash();if(!$has_own.call(hash.$$map,key_hash))return bucket={key:key,key_hash:key_hash,value:value},hash.$$keys.push(bucket),void(hash.$$map[key_hash]=bucket);for(bucket=hash.$$map[key_hash];bucket;){if(key===bucket.key||key["$eql?"](bucket.key)){last_bucket=void 0,bucket.value=value;break}bucket=(last_bucket=bucket).next}last_bucket&&(bucket={key:key,key_hash:key_hash,value:value},hash.$$keys.push(bucket),last_bucket.next=bucket)},Opal.hash_get=function(hash,key){if(key.$$is_string)return $has_own.call(hash.$$smap,key)?hash.$$smap[key]:void 0;var bucket,key_hash=hash.$$by_identity?Opal.id(key):key.$hash();if($has_own.call(hash.$$map,key_hash))for(bucket=hash.$$map[key_hash];bucket;){if(key===bucket.key||key["$eql?"](bucket.key))return bucket.value;bucket=bucket.next}},Opal.hash_delete=function(hash,key){var i,value,keys=hash.$$keys,length=keys.length;if(key.$$is_string){if("string"!=typeof key&&(key=key.valueOf()),!$has_own.call(hash.$$smap,key))return;for(i=0;i<length;i++)if(keys[i]===key){keys.splice(i,1);break}return value=hash.$$smap[key],delete hash.$$smap[key],value}var key_hash=key.$hash();if($has_own.call(hash.$$map,key_hash))for(var last_bucket,bucket=hash.$$map[key_hash];bucket;){if(key===bucket.key||key["$eql?"](bucket.key)){for(value=bucket.value,i=0;i<length;i++)if(keys[i]===bucket){keys.splice(i,1);break}return last_bucket&&bucket.next?last_bucket.next=bucket.next:last_bucket?delete last_bucket.next:bucket.next?hash.$$map[key_hash]=bucket.next:delete hash.$$map[key_hash],value}bucket=(last_bucket=bucket).next}},Opal.hash_rehash=function(hash){for(var key_hash,bucket,last_bucket,i=0,length=hash.$$keys.length;i<length;i++)if(!hash.$$keys[i].$$is_string&&(key_hash=hash.$$keys[i].key.$hash())!==hash.$$keys[i].key_hash){for(bucket=hash.$$map[hash.$$keys[i].key_hash],last_bucket=void 0;bucket;){if(bucket===hash.$$keys[i]){last_bucket&&bucket.next?last_bucket.next=bucket.next:last_bucket?delete last_bucket.next:bucket.next?hash.$$map[hash.$$keys[i].key_hash]=bucket.next:delete hash.$$map[hash.$$keys[i].key_hash];break}bucket=(last_bucket=bucket).next}if(hash.$$keys[i].key_hash=key_hash,$has_own.call(hash.$$map,key_hash)){for(bucket=hash.$$map[key_hash],last_bucket=void 0;bucket;){if(bucket===hash.$$keys[i]){last_bucket=void 0;break}bucket=(last_bucket=bucket).next}last_bucket&&(last_bucket.next=hash.$$keys[i])}else hash.$$map[key_hash]=hash.$$keys[i]}},Opal.hash=function(){var args,hash,i,length,key,value,arguments_length=arguments.length;if(1===arguments_length&&arguments[0].$$is_hash)return arguments[0];if(hash=new Opal.Hash,Opal.hash_init(hash),1===arguments_length&&arguments[0].$$is_array){for(length=(args=arguments[0]).length,i=0;i<length;i++){if(2!==args[i].length)throw Opal.ArgumentError.$new("value not of length 2: "+args[i].$inspect());key=args[i][0],value=args[i][1],Opal.hash_put(hash,key,value)}return hash}if(1===arguments_length){for(key in args=arguments[0])$has_own.call(args,key)&&(value=args[key],Opal.hash_put(hash,key,value));return hash}if(arguments_length%2!=0)throw Opal.ArgumentError.$new("odd number of arguments for Hash");for(i=0;i<arguments_length;i+=2)key=arguments[i],value=arguments[i+1],Opal.hash_put(hash,key,value);return hash},Opal.hash2=function(keys,smap){var hash=new Opal.Hash;return hash.$$smap=smap,hash.$$map=Object.create(null),hash.$$keys=keys,hash},Opal.range=function(first,last,exc){var range=new Opal.Range;return range.begin=first,range.end=last,range.excl=exc,range},Opal.ivar=function(name){return"constructor"===name||"displayName"===name||"__count__"===name||"__noSuchMethod__"===name||"__parent__"===name||"__proto__"===name||"hasOwnProperty"===name||"valueOf"===name?name+"$":name},Opal.escape_regexp=function(str){return str.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},Opal.global_regexp=function(pattern){return pattern.global?pattern:(null==pattern.$$g?pattern.$$g=new RegExp(pattern.source,(pattern.multiline?"gm":"g")+(pattern.ignoreCase?"i":"")):pattern.$$g.lastIndex=null,pattern.$$g)},Opal.global_multiline_regexp=function(pattern){var result;if(pattern.multiline){if(pattern.global)return pattern;result=null!=pattern.$$g?pattern.$$g:pattern.$$g=new RegExp(pattern.source,"gm"+(pattern.ignoreCase?"i":""))}else result=null!=pattern.$$gm?pattern.$$gm:pattern.$$gm=new RegExp(pattern.source,"gm"+(pattern.ignoreCase?"i":""));return result.lastIndex=null,result},Opal.regexp=function(parts,flags){for(var part,ignoreCase=void 0!==flags&&flags&&0<=flags.indexOf("i"),i=0,ii=parts.length;i<ii;i++)(part=parts[i])instanceof RegExp&&(part.ignoreCase!==ignoreCase&&Opal.Kernel.$warn("ignore case doesn't match for "+part.source.$inspect(),Opal.hash({uplevel:1})),part=part.source),""===part&&(part="(?:"+part+")"),parts[i]=part;return flags?new RegExp(parts.join(""),flags):new RegExp(parts.join(""))},Opal.modules={},Opal.loaded_features=["corelib/runtime"],Opal.current_dir=".",Opal.require_table={"corelib/runtime":!0},Opal.normalize=function(path){var parts,part,new_parts=[];"."!==Opal.current_dir&&(path=Opal.current_dir.replace(/\/*$/,"/")+path);for(var i=0,ii=(parts=(path=(path=path.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<ii;i++)""!==(part=parts[i])&&(".."===part?new_parts.pop():new_parts.push(part));return new_parts.join("/")},Opal.loaded=function(paths){for(var path,i=0,l=paths.length;i<l;i++)path=Opal.normalize(paths[i]),Opal.require_table[path]||(Opal.loaded_features.push(path),Opal.require_table[path]=!0)},Opal.load=function(message){message=Opal.normalize(message),Opal.loaded([message]);var severity=Opal.modules[message];if(severity)severity(Opal);else{severity=Opal.config.missing_require_severity,message="cannot load such file -- "+message;if("error"===severity)throw Opal.LoadError?Opal.LoadError.$new(message):message;"warning"===severity&&console.warn("WARNING: LoadError: "+message)}return!0},Opal.require=function(path){return path=Opal.normalize(path),!Opal.require_table[path]&&Opal.load(path)},Opal.encodings=Object.create(null),Opal.set_encoding=function(str,encoding,type){if(void 0===type&&(type="encoding"),"string"==typeof str||!0===str.$$frozen)throw Opal.FrozenError.$new("can't modify frozen String");encoding=Opal.find_encoding(encoding);return encoding===str[type]||(str[type]=encoding),str},Opal.find_encoding=function(name){var encoding=Opal.encodings,encoding=encoding[name]||encoding[name.toUpperCase()];if(!encoding)throw Opal.ArgumentError.$new("unknown encoding name - "+name);return encoding},Opal.enc=function(dup,name){dup=new String(dup);return(dup=Opal.set_encoding(dup,name)).internal_encoding=dup.encoding,dup},Opal.binary=function(dup){dup=new String(dup);return Opal.set_encoding(dup,"binary","internal_encoding")},Opal.BasicObject=BasicObject=Opal.allocate_class("BasicObject",null,function(){}),Opal.Object=_Object=Opal.allocate_class("Object",Opal.BasicObject,function(){}),Opal.Module=Module=Opal.allocate_class("Module",Opal.Object,function(){}),Opal.Class=Class=Opal.allocate_class("Class",Opal.Module,function(){}),$set_proto(Opal.BasicObject,Opal.Class.$$prototype),$set_proto(Opal.Object,Opal.Class.$$prototype),$set_proto(Opal.Module,Opal.Class.$$prototype),$set_proto(Opal.Class,Opal.Class.$$prototype),BasicObject.$$const.BasicObject=BasicObject,Opal.const_set(_Object,"BasicObject",BasicObject),Opal.const_set(_Object,"Object",_Object),Opal.const_set(_Object,"Module",Module),Opal.const_set(_Object,"Class",Class),BasicObject.$$class=Class,_Object.$$class=Class,(Module.$$class=Class).$$class=Class,$defineProperty(_Object.$$prototype,"toString",function(){var to_s=this.$to_s();return to_s.$$is_string&&"object"==typeof to_s?to_s.valueOf():to_s}),$defineProperty(_Object.$$prototype,"$require",Opal.require),Opal.top=new _Object,Opal.top.$to_s=Opal.top.$inspect=function(){return"main"},Opal.top.$define_method=top_define_method,Opal.NilClass=Opal.allocate_class("NilClass",Opal.Object,function(){}),Opal.const_set(_Object,"NilClass",Opal.NilClass),(nil=Opal.nil=new Opal.NilClass).$$id=4,nil.call=nil.apply=function(){throw Opal.LocalJumpError.$new("no block given")},Opal.breaker=new Error("unexpected break (old)"),Opal.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$type_error=Opal.type_error,$coerce_to=Opal.coerce_to,$module=Opal.module,$truthy=Opal.truthy;return Opal.add_stubs(["$===","$raise","$respond_to?","$nil?","$__send__","$<=>","$class","$coerce_to!","$new","$!=","$[]","$upcase"]),function($Opal_pristine$11,$Opal_const_name$excl$10){var $Opal_pristine$11=$module($Opal_pristine$11,"Opal"),$nesting=[$Opal_pristine$11].concat($Opal_const_name$excl$10);return Opal.defs($Opal_pristine$11,"$bridge",$Opal_const_name$excl$10=function(constructor,klass){return Opal.bridge(constructor,klass)},$Opal_const_name$excl$10.$$arity=2),Opal.defs($Opal_pristine$11,"$coerce_to!",$Opal_const_name$excl$10=function(object,type,method,$a){var $post_args=Opal.slice.call(arguments,3,arguments.length),coerced=$coerce_to(object,type,method,$post_args);return $truthy(type["$==="](coerced))||this.$raise($type_error(object,type,method,coerced)),coerced},$Opal_const_name$excl$10.$$arity=-4),Opal.defs($Opal_pristine$11,"$coerce_to?",$Opal_const_name$excl$10=function(object,type,method,$a){var coerced=nil,args=Opal.slice.call(arguments,3,arguments.length);return $truthy(object["$respond_to?"](method))?(coerced=$coerce_to(object,type,method,args),$truthy(coerced["$nil?"]())?nil:($truthy(type["$==="](coerced))||this.$raise($type_error(object,type,method,coerced)),coerced)):nil},$Opal_const_name$excl$10.$$arity=-4),Opal.defs($Opal_pristine$11,"$try_convert",$Opal_const_name$excl$10=function(object,type,method){return $truthy(type["$==="](object))?object:$truthy(object["$respond_to?"](method))?object.$__send__(method):nil},$Opal_const_name$excl$10.$$arity=3),Opal.defs($Opal_pristine$11,"$compare",$Opal_const_name$excl$10=function(a,b){var compare=a["$<=>"](b);return $truthy(compare===nil)&&this.$raise($$($nesting,"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed"),compare},$Opal_const_name$excl$10.$$arity=2),Opal.defs($Opal_pristine$11,"$destructure",$Opal_const_name$excl$10=function(args){if(1==args.length)return args[0];if(args.$$is_array)return args;for(var args_ary=new Array(args.length),i=0,l=args_ary.length;i<l;i++)args_ary[i]=args[i];return args_ary},$Opal_const_name$excl$10.$$arity=1),Opal.defs($Opal_pristine$11,"$respond_to?",$Opal_const_name$excl$10=function(obj,method,include_all){return null==include_all&&(include_all=!1),!(null==obj||!obj.$$class)&&obj["$respond_to?"](method,include_all)},$Opal_const_name$excl$10.$$arity=-3),Opal.defs($Opal_pristine$11,"$instance_variable_name!",$Opal_const_name$excl$10=function(name){return name=$$($nesting,"Opal")["$coerce_to!"](name,$$($nesting,"String"),"to_str"),$truthy(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(name))||this.$raise($$($nesting,"NameError").$new("'"+name+"' is not allowed as an instance variable name",name)),name},$Opal_const_name$excl$10.$$arity=1),Opal.defs($Opal_pristine$11,"$class_variable_name!",$Opal_const_name$excl$10=function(name){return name=$$($nesting,"Opal")["$coerce_to!"](name,$$($nesting,"String"),"to_str"),$truthy(name.length<3||"@@"!==name.slice(0,2))&&this.$raise($$($nesting,"NameError").$new("`"+name+"' is not allowed as a class variable name",name)),name},$Opal_const_name$excl$10.$$arity=1),Opal.defs($Opal_pristine$11,"$const_name!",$Opal_const_name$excl$10=function(const_name){return const_name=$$($nesting,"Opal")["$coerce_to!"](const_name,$$($nesting,"String"),"to_str"),$truthy(const_name["$[]"](0)["$!="](const_name["$[]"](0).$upcase()))&&this.$raise($$($nesting,"NameError"),"wrong constant name "+const_name),const_name},$Opal_const_name$excl$10.$$arity=1),Opal.defs($Opal_pristine$11,"$pristine",$Opal_pristine$11=function(owner_class,$a){for(var method,method_names=Opal.slice.call(arguments,1,arguments.length),i=method_names.length-1;0<=i;i--)method=method_names[i],(method=owner_class.$$prototype["$"+method])&&!method.$$stub&&(method.$$pristine=!0);return nil},$Opal_pristine$11.$$arity=-2),nil&&"pristine"}($nesting[0],$nesting)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$truthy=Opal.truthy,$coerce_to=Opal.coerce_to,$klass=Opal.klass,$send=Opal.send,$hash2=Opal.hash2,$lambda=Opal.lambda,$range=Opal.range,$send2=Opal.send2;return Opal.add_stubs(["$module_eval","$to_proc","$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$warn","$attr_accessor","$class_variable_name!","$const_name!","$=~","$new","$inject","$split","$const_get","$==","$!~","$start_with?","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$prepend_features","$prepended","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"Module"),$nesting=[self].concat($parent_nesting),$Module_allocate$1,$Module_initialize$2,$Module_$eq_eq_eq$3,$Module_$lt$4,$Module_$lt_eq$5,$Module_$gt$6,$Module_$gt_eq$7,$Module_$lt_eq_gt$8,$Module_alias_method$9,$Module_alias_native$10,$Module_ancestors$11,$Module_append_features$12,$Module_attr_accessor$13,$Module_attr$14,$Module_attr_reader$15,$Module_attr_writer$16,$Module_autoload$17,$Module_class_variables$18,$Module_class_variable_get$19,$Module_class_variable_set$20,$Module_class_variable_defined$ques$21,$Module_remove_class_variable$22,$Module_constants$23,$Module_constants$24,$Module_nesting$25,$Module_const_defined$ques$26,$Module_const_get$27,$Module_const_missing$29,$Module_const_set$30,$Module_public_constant$31,$Module_define_method$32,$Module_remove_method$34,$Module_singleton_class$ques$35,$Module_include$36,$Module_included_modules$37,$Module_include$ques$38,$Module_instance_method$39,$Module_instance_methods$40,$Module_included$41,$Module_extended$42,$Module_extend_object$43,$Module_method_added$44,$Module_method_removed$45,$Module_method_undefined$46,$Module_module_eval$47,$Module_module_exec$49,$Module_method_defined$ques$50,$Module_module_function$51,$Module_name$52,$Module_prepend$53,$Module_prepend_features$54,$Module_prepended$55,$Module_remove_const$56,$Module_to_s$57,$Module_undef_method$58,$Module_instance_variables$59,$Module_dup$60,$Module_copy_class_variables$61,$Module_copy_constants$62;return Opal.defs(self,"$allocate",$Module_allocate$1=function(){var module=Opal.allocate_module(nil,function(){});return this!==Opal.Module&&Object.setPrototypeOf(module,this.$$prototype),module},$Module_allocate$1.$$arity=0),Opal.def(self,"$initialize",$Module_initialize$2=function(){var $iter=$Module_initialize$2.$$p,block=$iter||nil;return $iter&&($Module_initialize$2.$$p=null),$iter&&($Module_initialize$2.$$p=null),block!==nil?$send(this,"module_eval",[],block.$to_proc()):nil},$Module_initialize$2.$$arity=0),Opal.def(self,"$===",$Module_$eq_eq_eq$3=function(object){return!$truthy(null==object)&&Opal.is_a(object,this)},$Module_$eq_eq_eq$3.$$arity=1),Opal.def(self,"$<",$Module_$lt$4=function(other){$truthy($$($nesting,"Module")["$==="](other))||this.$raise($$($nesting,"TypeError"),"compared with non class/module");var ancestors,i,length;if(this===other)return!1;for(i=0,length=(ancestors=Opal.ancestors(this)).length;i<length;i++)if(ancestors[i]===other)return!0;for(i=0,length=(ancestors=Opal.ancestors(other)).length;i<length;i++)if(ancestors[i]===this)return!1;return nil},$Module_$lt$4.$$arity=1),Opal.def(self,"$<=",$Module_$lt_eq$5=function(other){var $ret_or_1;return $truthy($ret_or_1=this["$equal?"](other))?$ret_or_1:$rb_lt(this,other)},$Module_$lt_eq$5.$$arity=1),Opal.def(self,"$>",$Module_$gt$6=function(other){return $truthy($$($nesting,"Module")["$==="](other))||this.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(other,this)},$Module_$gt$6.$$arity=1),Opal.def(self,"$>=",$Module_$gt_eq$7=function(other){var $ret_or_2;return $truthy($ret_or_2=this["$equal?"](other))?$ret_or_2:$rb_gt(this,other)},$Module_$gt_eq$7.$$arity=1),Opal.def(self,"$<=>",$Module_$lt_eq_gt$8=function(other){var lt=nil;return this===other?0:$truthy($$($nesting,"Module")["$==="](other))?(lt=$rb_lt(this,other),$truthy(lt["$nil?"]())?nil:$truthy(lt)?-1:1):nil},$Module_$lt_eq_gt$8.$$arity=1),Opal.def(self,"$alias_method",$Module_alias_method$9=function(newname,oldname){return newname=$coerce_to(newname,$$($nesting,"String"),"to_str"),oldname=$coerce_to(oldname,$$($nesting,"String"),"to_str"),Opal.alias(this,newname,oldname),this},$Module_alias_method$9.$$arity=2),Opal.def(self,"$alias_native",$Module_alias_native$10=function(mid,jsid){return null==jsid&&(jsid=mid),Opal.alias_native(this,mid,jsid),this},$Module_alias_native$10.$$arity=-2),Opal.def(self,"$ancestors",$Module_ancestors$11=function(){return Opal.ancestors(this)},$Module_ancestors$11.$$arity=0),Opal.def(self,"$append_features",$Module_append_features$12=function(includer){return Opal.append_features(this,includer),this},$Module_append_features$12.$$arity=1),Opal.def(self,"$attr_accessor",$Module_attr_accessor$13=function($a){var names=Opal.slice.call(arguments,0,arguments.length);return $send(this,"attr_reader",Opal.to_a(names)),$send(this,"attr_writer",Opal.to_a(names))},$Module_attr_accessor$13.$$arity=-1),Opal.def(self,"$attr",$Module_attr$14=function($a){var args=Opal.slice.call(arguments,0,arguments.length);return 2!=args.length||!0!==args[1]&&!1!==args[1]?$send(this,"attr_reader",Opal.to_a(args)):(this.$warn("optional boolean argument is obsoleted",$hash2(["uplevel"],{uplevel:1})),args[1]?this.$attr_accessor(args[0]):this.$attr_reader(args[0]),nil)},$Module_attr$14.$$arity=-1),Opal.def(self,"$attr_reader",$Module_attr_reader$15=function($a){for(var names=Opal.slice.call(arguments,0,arguments.length),proto=this.$$prototype,i=names.length-1;0<=i;i--){var body=names[i],id="$"+body,ivar=Opal.ivar(body),body=function(ivar){return function(){return null==this[ivar]?nil:this[ivar]}}(ivar);Opal.defineProperty(proto,ivar,nil),body.$$parameters=[],body.$$arity=0,Opal.defn(this,id,body)}return nil},$Module_attr_reader$15.$$arity=-1),Opal.def(self,"$attr_writer",$Module_attr_writer$16=function($a){for(var names=Opal.slice.call(arguments,0,arguments.length),proto=this.$$prototype,i=names.length-1;0<=i;i--){var body=names[i],id="$"+body+"=",ivar=Opal.ivar(body),body=function(ivar){return function(value){return this[ivar]=value}}(ivar);body.$$parameters=[["req"]],body.$$arity=1,Opal.defineProperty(proto,ivar,nil),Opal.defn(this,id,body)}return nil},$Module_attr_writer$16.$$arity=-1),Opal.def(self,"$autoload",$Module_autoload$17=function(const$,path){return null==this.$$autoload&&(this.$$autoload={}),Opal.const_cache_version++,this.$$autoload[const$]=path,nil},$Module_autoload$17.$$arity=2),Opal.def(self,"$class_variables",$Module_class_variables$18=function(){return Object.keys(Opal.class_variables(this))},$Module_class_variables$18.$$arity=0),Opal.def(self,"$class_variable_get",$Module_class_variable_get$19=function(name){return name=$$($nesting,"Opal")["$class_variable_name!"](name),Opal.class_variable_get(this,name,!1)},$Module_class_variable_get$19.$$arity=1),Opal.def(self,"$class_variable_set",$Module_class_variable_set$20=function(name,value){return name=$$($nesting,"Opal")["$class_variable_name!"](name),Opal.class_variable_set(this,name,value)},$Module_class_variable_set$20.$$arity=2),Opal.def(self,"$class_variable_defined?",$Module_class_variable_defined$ques$21=function(name){return name=$$($nesting,"Opal")["$class_variable_name!"](name),Opal.class_variables(this).hasOwnProperty(name)},$Module_class_variable_defined$ques$21.$$arity=1),Opal.def(self,"$remove_class_variable",$Module_remove_class_variable$22=function(name){if(name=$$($nesting,"Opal")["$class_variable_name!"](name),Opal.hasOwnProperty.call(this.$$cvars,name)){var value=this.$$cvars[name];return delete this.$$cvars[name],value}this.$raise($$($nesting,"NameError"),"cannot remove "+name+" for "+this)},$Module_remove_class_variable$22.$$arity=1),Opal.def(self,"$constants",$Module_constants$23=function(inherit){return null==inherit&&(inherit=!0),Opal.constants(this,inherit)},$Module_constants$23.$$arity=-1),Opal.defs(self,"$constants",$Module_constants$24=function(inherit){if(null!=inherit)return Opal.constants(this,inherit);for(var constant,nesting=(this.$$nesting||[]).concat(Opal.Object),constants={},i=0,ii=nesting.length;i<ii;i++)for(constant in nesting[i].$$const)constants[constant]=!0;return Object.keys(constants)},$Module_constants$24.$$arity=-1),Opal.defs(self,"$nesting",$Module_nesting$25=function(){return this.$$nesting||[]},$Module_nesting$25.$$arity=0),Opal.def(self,"$const_defined?",$Module_const_defined$ques$26=function(name,inherit){null==inherit&&(inherit=!0),name=$$($nesting,"Opal")["$const_name!"](name),$truthy(name["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise($$($nesting,"NameError").$new("wrong constant name "+name,name));var i,ii,modules=[this];for(inherit&&(modules=modules.concat(Opal.ancestors(this)),this.$$is_module&&(modules=modules.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),i=0,ii=modules.length;i<ii;i++)if(null!=modules[i].$$const[name])return!0;return!1},$Module_const_defined$ques$26.$$arity=-2),Opal.def(self,"$const_get",$Module_const_get$27=function(name,inherit){var $$28;return null==inherit&&(inherit=!0),0===(name=$$($nesting,"Opal")["$const_name!"](name)).indexOf("::")&&"::"!==name&&(name=name.slice(2)),$truthy(-1!=name.indexOf("::")&&"::"!=name)?$send(name.$split("::"),"inject",[this],(($$28=function(o,c){null==$$28.$$s||$$28.$$s;return null==o&&(o=nil),null==c&&(c=nil),o.$const_get(c)}).$$s=this,$$28.$$arity=2,$$28)):($truthy(name["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise($$($nesting,"NameError").$new("wrong constant name "+name,name)),inherit?$$([this],name):Opal.const_get_local(this,name))},$Module_const_get$27.$$arity=-2),Opal.def(self,"$const_missing",$Module_const_missing$29=function(name){var full_const_name,self=this;if(self.$$autoload){var file=self.$$autoload[name];if(file)return self.$require(file),self.$const_get(name)}return full_const_name=self["$=="]($$($nesting,"Object"))?name:self+"::"+name,self.$raise($$($nesting,"NameError").$new("uninitialized constant "+full_const_name,name))},$Module_const_missing$29.$$arity=1),Opal.def(self,"$const_set",$Module_const_set$30=function(name,value){var $ret_or_3=nil;return name=$$($nesting,"Opal")["$const_name!"](name),$truthy($truthy($ret_or_3=name["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?$ret_or_3:name["$start_with?"]("::"))&&this.$raise($$($nesting,"NameError").$new("wrong constant name "+name,name)),Opal.const_set(this,name,value),value},$Module_const_set$30.$$arity=2),Opal.def(self,"$public_constant",$Module_public_constant$31=function(){return nil},$Module_public_constant$31.$$arity=1),Opal.def(self,"$define_method",$Module_define_method$32=function(name,method){var $$33,$ret_or_4,$case,id=$Module_define_method$32.$$p,block=id||nil,self=this;id&&($Module_define_method$32.$$p=null),id&&($Module_define_method$32.$$p=null),$truthy(void 0===method&&block===nil)&&self.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block");id="$"+name;return(block=$truthy($ret_or_4=block)?$ret_or_4:($case=method,$$($nesting,"Proc")["$==="]($case)?method:$$($nesting,"Method")["$==="]($case)?method.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="]($case)?$lambda((($$33=function($a){var self=null==$$33.$$s?this:$$33.$$s,args=Opal.slice.call(arguments,0,arguments.length),bound=method.$bind(self);return $send(bound,"call",Opal.to_a(args))}).$$s=self,$$33.$$arity=-1,$$33)):self.$raise($$($nesting,"TypeError"),"wrong argument type "+block.$class()+" (expected Proc/Method)"))).$$jsid=name,block.$$s=null,(block.$$def=block).$$define_meth=!0,Opal.defn(self,id,block),name},$Module_define_method$32.$$arity=-2),Opal.def(self,"$remove_method",$Module_remove_method$34=function($a){for(var names=Opal.slice.call(arguments,0,arguments.length),i=0,length=names.length;i<length;i++)Opal.rdef(this,"$"+names[i]);return this},$Module_remove_method$34.$$arity=-1),Opal.def(self,"$singleton_class?",$Module_singleton_class$ques$35=function(){return!!this.$$is_singleton},$Module_singleton_class$ques$35.$$arity=0),Opal.def(self,"$include",$Module_include$36=function($a){for(var mods=Opal.slice.call(arguments,0,arguments.length),i=mods.length-1;0<=i;i--){var mod=mods[i];mod.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+mod.$class()+" (expected Module)"),mod.$append_features(this),mod.$included(this)}return this},$Module_include$36.$$arity=-1),Opal.def(self,"$included_modules",$Module_included_modules$37=function(){return Opal.included_modules(this)},$Module_included_modules$37.$$arity=0),Opal.def(self,"$include?",$Module_include$ques$38=function(mod){mod.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+mod.$class()+" (expected Module)");for(var mod2,ancestors=Opal.ancestors(this),i=0,ii=ancestors.length;i<ii;i++)if((mod2=ancestors[i])===mod&&mod2!==this)return!0;return!1},$Module_include$ques$38.$$arity=1),Opal.def(self,"$instance_method",$Module_instance_method$39=function(name){var meth=this.$$prototype["$"+name];return meth&&!meth.$$stub||this.$raise($$($nesting,"NameError").$new("undefined method `"+name+"' for class `"+this.$name()+"'",name)),$$($nesting,"UnboundMethod").$new(this,meth.$$owner||this,meth,name)},$Module_instance_method$39.$$arity=1),Opal.def(self,"$instance_methods",$Module_instance_methods$40=function(include_super){return null==include_super&&(include_super=!0),$truthy(include_super)?Opal.instance_methods(this):Opal.own_instance_methods(this)},$Module_instance_methods$40.$$arity=-1),Opal.def(self,"$included",$Module_included$41=function(){return nil},$Module_included$41.$$arity=1),Opal.def(self,"$extended",$Module_extended$42=function(){return nil},$Module_extended$42.$$arity=1),Opal.def(self,"$extend_object",$Module_extend_object$43=function(){return nil},$Module_extend_object$43.$$arity=1),Opal.def(self,"$method_added",$Module_method_added$44=function($a){Opal.slice.call(arguments,0,arguments.length);return nil},$Module_method_added$44.$$arity=-1),Opal.def(self,"$method_removed",$Module_method_removed$45=function($a){Opal.slice.call(arguments,0,arguments.length);return nil},$Module_method_removed$45.$$arity=-1),Opal.def(self,"$method_undefined",$Module_method_undefined$46=function($a){Opal.slice.call(arguments,0,arguments.length);return nil},$Module_method_undefined$46.$$arity=-1),Opal.def(self,"$module_eval",$Module_module_eval$47=function $$module_eval($a){var $iter=$Module_module_eval$47.$$p,block=$iter||nil,$post_args,args,$b,$$48,self=this,$ret_or_5=nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,$ret_or_6=nil,compiling_options=nil,compiled=nil;$iter&&($Module_module_eval$47.$$p=null),$iter&&($Module_module_eval$47.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($ret_or_5=block["$nil?"]())?!!Opal.compile:$ret_or_5)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($ret_or_6=file)?$ret_or_6:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],($$48=function(){var self=null==$$48.$$s?this:$$48.$$s;return function(self){return eval(compiled)}(self)},$$48.$$s=self,$$48.$$arity=0,$$48))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},$Module_module_eval$47.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",$Module_module_exec$49=function($a){var block_self=$Module_module_exec$49.$$p,block=block_self||nil;block_self&&($Module_module_exec$49.$$p=null),block_self&&($Module_module_exec$49.$$p=null),result=Opal.slice.call(arguments,0,arguments.length),block===nil&&this.$raise($$($nesting,"LocalJumpError"),"no block given");var result,block_self=block.$$s;return block.$$s=null,result=block.apply(this,result),block.$$s=block_self,result},$Module_module_exec$49.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",$Module_method_defined$ques$50=function(body){body=this.$$prototype["$"+body];return!!body&&!body.$$stub},$Module_method_defined$ques$50.$$arity=1),Opal.def(self,"$module_function",$Module_module_function$51=function($a){var methods=Opal.slice.call(arguments,0,arguments.length);if(0===methods.length)this.$$module_function=!0;else for(var i=0,length=methods.length;i<length;i++){var id="$"+methods[i],func=this.$$prototype[id];Opal.defs(this,id,func)}return this},$Module_module_function$51.$$arity=-1),Opal.def(self,"$name",$Module_name$52=function(){if(this.$$full_name)return this.$$full_name;for(var result=[],base=this;base;){if(base.$$name===nil||null==base.$$name)return nil;if(result.unshift(base.$$name),(base=base.$$base_module)===Opal.Object)break}return 0===result.length?nil:this.$$full_name=result.join("::")},$Module_name$52.$$arity=0),Opal.def(self,"$prepend",$Module_prepend$53=function($a){var mods=Opal.slice.call(arguments,0,arguments.length);0===mods.length&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var i=mods.length-1;0<=i;i--){var mod=mods[i];mod.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+mod.$class()+" (expected Module)"),mod.$prepend_features(this),mod.$prepended(this)}return this},$Module_prepend$53.$$arity=-1),Opal.def(self,"$prepend_features",$Module_prepend_features$54=function(prepender){return this.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)"),Opal.prepend_features(this,prepender),this},$Module_prepend_features$54.$$arity=1),Opal.def(self,"$prepended",$Module_prepended$55=function(){return nil},$Module_prepended$55.$$arity=1),Opal.def(self,"$remove_const",$Module_remove_const$56=function(name){return Opal.const_remove(this,name)},$Module_remove_const$56.$$arity=1),Opal.def(self,"$to_s",$Module_to_s$57=function(){var $ret_or_7;return $truthy($ret_or_7=Opal.Module.$name.call(this))?$ret_or_7:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},$Module_to_s$57.$$arity=0),Opal.def(self,"$undef_method",$Module_undef_method$58=function($a){for(var names=Opal.slice.call(arguments,0,arguments.length),i=0,length=names.length;i<length;i++)Opal.udef(this,"$"+names[i]);return this},$Module_undef_method$58.$$arity=-1),Opal.def(self,"$instance_variables",$Module_instance_variables$59=function(){var consts=nil;Opal.Module.$$nesting=$nesting,consts=this.$constants();var name,result=[];for(name in this)this.hasOwnProperty(name)&&"$"!==name.charAt(0)&&"constructor"!==name&&!consts["$include?"](name)&&result.push("@"+name);return result},$Module_instance_variables$59.$$arity=0),Opal.def(self,"$dup",$Module_dup$60=function(){var $zuper_ii,$iter=$Module_dup$60.$$p,copy=nil,$zuper=nil,$zuper_i=nil;for($iter&&($Module_dup$60.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return(copy=$send2(this,Opal.find_super_dispatcher(this,"dup",$Module_dup$60,!1,!0),"dup",$zuper,$iter)).$copy_class_variables(this),copy.$copy_constants(this),copy},$Module_dup$60.$$arity=0),Opal.def(self,"$copy_class_variables",$Module_copy_class_variables$61=function(other){for(var name in other.$$cvars)this.$$cvars[name]=other.$$cvars[name]},$Module_copy_class_variables$61.$$arity=1),Opal.def(self,"$copy_constants",$Module_copy_constants$62=function(other){var name,other_constants=other.$$const;for(name in other_constants)Opal.const_set(this,name,other_constants[name])},$Module_copy_constants$62.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$send=Opal.send,$send2=Opal.send2;return Opal.add_stubs(["$require","$class_eval","$to_proc","$initialize_copy","$allocate","$name","$to_s"]),self.$require("corelib/module"),function(self,$Class_superclass$6){var $Class_new$1,$Class_new$5,$Class_to_s$7,self=$klass(self,null,"Class"),$nesting=[self].concat($Class_superclass$6);return Opal.defs(self,"$new",$Class_new$1=function(superclass){var klass=$Class_new$1.$$p,block=klass||nil;if(klass&&($Class_new$1.$$p=null),klass&&($Class_new$1.$$p=null),null==superclass&&(superclass=$$($nesting,"Object")),!superclass.$$is_class)throw Opal.TypeError.$new("superclass must be a Class");klass=Opal.allocate_class(nil,superclass);return superclass.$inherited(klass),block!==nil&&$send(klass,"class_eval",[],block.$to_proc()),klass},$Class_new$1.$$arity=-1),Opal.def(self,"$allocate",$Class_superclass$6=function(){var obj=new this.$$constructor;return obj.$$id=Opal.uid(),obj},$Class_superclass$6.$$arity=0),Opal.def(self,"$inherited",$Class_superclass$6=function(){return nil},$Class_superclass$6.$$arity=1),Opal.def(self,"$initialize_dup",$Class_superclass$6=function(original){this.$initialize_copy(original),this.$$name=null,this.$$full_name=null},$Class_superclass$6.$$arity=1),Opal.def(self,"$new",$Class_new$5=function($a){var args,object=$Class_new$5.$$p,block=object||nil;object&&($Class_new$5.$$p=null),object&&($Class_new$5.$$p=null),args=Opal.slice.call(arguments,0,arguments.length);object=this.$allocate();return Opal.send(object,object.$initialize,args,block),object},$Class_new$5.$$arity=-1),Opal.def(self,"$superclass",$Class_superclass$6=function(){return this.$$super||nil},$Class_superclass$6.$$arity=0),Opal.def(self,"$to_s",$Class_to_s$7=function(){var singleton_of=$Class_to_s$7.$$p;singleton_of&&($Class_to_s$7.$$p=null);singleton_of=this.$$singleton_of;return singleton_of&&singleton_of.$$is_a_module?"#<Class:"+singleton_of.$name()+">":singleton_of?"#<Class:#<"+singleton_of.$$class.$name()+":0x"+Opal.id(singleton_of).$to_s(16)+">>":$send2(this,Opal.find_super_dispatcher(this,"to_s",$Class_to_s$7,!1,!0),"to_s",[],null)},$Class_to_s$7.$$arity=0),nil&&"to_s"}($nesting[0],$nesting)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"BasicObject"),$nesting=[self].concat($parent_nesting),$BasicObject_initialize$1,$BasicObject_$eq_eq$2,$BasicObject_eql$ques$3,$BasicObject___id__$4,$BasicObject___send__$5,$BasicObject_$excl$6,$BasicObject_$not_eq$7,$BasicObject_instance_eval$8,$BasicObject_instance_exec$10,$BasicObject_singleton_method_added$11,$BasicObject_singleton_method_removed$12,$BasicObject_singleton_method_undefined$13,$BasicObject_method_missing$14,$BasicObject_respond_to_missing$ques$15;return Opal.def(self,"$initialize",$BasicObject_initialize$1=function($a){Opal.slice.call(arguments,0,arguments.length);return nil},$BasicObject_initialize$1.$$arity=-1),Opal.def(self,"$==",$BasicObject_$eq_eq$2=function(other){return this===other},$BasicObject_$eq_eq$2.$$arity=1),Opal.def(self,"$eql?",$BasicObject_eql$ques$3=function(other){return this["$=="](other)},$BasicObject_eql$ques$3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",$BasicObject___id__$4=function(){return null!=this.$$id||Opal.defineProperty(this,"$$id",Opal.uid()),this.$$id},$BasicObject___id__$4.$$arity=0),Opal.def(self,"$__send__",$BasicObject___send__$5=function(symbol,$a){var args,func=$BasicObject___send__$5.$$p,block=func||nil;func&&($BasicObject___send__$5.$$p=null),func&&($BasicObject___send__$5.$$p=null),args=Opal.slice.call(arguments,1,arguments.length);func=this["$"+symbol];return func?(block!==nil&&(func.$$p=block),func.apply(this,args)):(block!==nil&&(this.$method_missing.$$p=block),this.$method_missing.apply(this,[symbol].concat(args)))},$BasicObject___send__$5.$$arity=-2),Opal.def(self,"$!",$BasicObject_$excl$6=function(){return!1},$BasicObject_$excl$6.$$arity=0),Opal.def(self,"$!=",$BasicObject_$not_eq$7=function(other){return this["$=="](other)["$!"]()},$BasicObject_$not_eq$7.$$arity=1),Opal.def(self,"$instance_eval",$BasicObject_instance_eval$8=function $$instance_eval($a){var $iter=$BasicObject_instance_eval$8.$$p,block=$iter||nil,$post_args,args,$b,$$9,self=this,$ret_or_1=nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,$ret_or_2=nil,compiling_options=nil,compiled=nil;$iter&&($BasicObject_instance_eval$8.$$p=null),$iter&&($BasicObject_instance_eval$8.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($ret_or_1=block["$nil?"]())?!!Opal.compile:$ret_or_1)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($ret_or_2=file)?$ret_or_2:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],($$9=function(){var self=null==$$9.$$s?this:$$9.$$s;return function(self){return eval(compiled)}(self)},$$9.$$s=self,$$9.$$arity=0,$$9))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_a_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},$BasicObject_instance_eval$8.$$arity=-1),Opal.def(self,"$instance_exec",$BasicObject_instance_exec$10=function($a){var args,block_self=$BasicObject_instance_exec$10.$$p,block=block_self||nil;block_self&&($BasicObject_instance_exec$10.$$p=null),block_self&&($BasicObject_instance_exec$10.$$p=null),args=Opal.slice.call(arguments,0,arguments.length),$truthy(block)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var result,block_self=block.$$s;if(block.$$s=null,this.$$is_a_module){this.$$eval=!0;try{result=block.apply(this,args)}finally{this.$$eval=!1}}else result=block.apply(this,args);return block.$$s=block_self,result},$BasicObject_instance_exec$10.$$arity=-1),Opal.def(self,"$singleton_method_added",$BasicObject_singleton_method_added$11=function($a){Opal.slice.call(arguments,0,arguments.length);return nil},$BasicObject_singleton_method_added$11.$$arity=-1),Opal.def(self,"$singleton_method_removed",$BasicObject_singleton_method_removed$12=function($a){Opal.slice.call(arguments,0,arguments.length);return nil},$BasicObject_singleton_method_removed$12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",$BasicObject_singleton_method_undefined$13=function($a){Opal.slice.call(arguments,0,arguments.length);return nil},$BasicObject_singleton_method_undefined$13.$$arity=-1),Opal.def(self,"$method_missing",$BasicObject_method_missing$14=function(symbol,$a){var message,$iter=$BasicObject_method_missing$14.$$p,self=this;return $iter&&($BasicObject_method_missing$14.$$p=null),$iter&&($BasicObject_method_missing$14.$$p=null),Opal.slice.call(arguments,1,arguments.length),message=$truthy(self.$inspect&&!self.$inspect.$$stub)?"undefined method `"+symbol+"' for "+self.$inspect()+":"+self.$$class:"undefined method `"+symbol+"' for "+self.$$class,$$$("::","Kernel").$raise($$$("::","NoMethodError").$new(message,symbol))},$BasicObject_method_missing$14.$$arity=-2),Opal.def(self,"$respond_to_missing?",$BasicObject_respond_to_missing$ques$15=function(method_name,include_all){return null==include_all&&(include_all=!1),!1},$BasicObject_respond_to_missing$ques$15.$$arity=-2),nil&&"respond_to_missing?"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$truthy=Opal.truthy,$coerce_to=Opal.coerce_to,$module=(Opal.respond_to,Opal.module),$gvars=Opal.gvars,$hash2=Opal.hash2,$send=Opal.send,$klass=Opal.klass;return Opal.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$append_features","$extend_object","$extended","$__id__","$to_s","$instance_variable_name!","$respond_to?","$to_int","$coerce_to!","$Integer","$nil?","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$length","$[]","$<","$first","$caller","$+","$map","$exception","$is_a?","$rand","$respond_to_missing?","$pristine","$try_convert!","$expand_path","$join","$start_with?","$new_seed","$srand","$sym","$arg","$open","$include"]),function(self,$Kernel_throw$66){var $Kernel_method_missing$1,$Kernel_at_exit$10,$Kernel_define_singleton_method$17,$Kernel_enum_for$20,$Kernel_lambda$38,$Kernel_loop$40,$Kernel_proc$44,$Kernel_tap$62,$Kernel_catch$65,$Kernel_open$67,$Kernel_yield_self$68,$nesting=[self=$module(self,"Kernel")].concat($Kernel_throw$66);Opal.def(self,"$method_missing",$Kernel_method_missing$1=function(symbol,$a){var args=$Kernel_method_missing$1.$$p;return args&&($Kernel_method_missing$1.$$p=null),args&&($Kernel_method_missing$1.$$p=null),args=Opal.slice.call(arguments,1,arguments.length),this.$raise($$($nesting,"NoMethodError").$new("undefined method `"+symbol+"' for "+this.$inspect(),symbol,args))},$Kernel_method_missing$1.$$arity=-2),Opal.def(self,"$=~",$Kernel_throw$66=function(obj){return!1},$Kernel_throw$66.$$arity=1),Opal.def(self,"$!~",$Kernel_throw$66=function(obj){return this["$=~"](obj)["$!"]()},$Kernel_throw$66.$$arity=1),Opal.def(self,"$===",$Kernel_throw$66=function(other){var $ret_or_1;return $truthy($ret_or_1=this.$object_id()["$=="](other.$object_id()))?$ret_or_1:this["$=="](other)},$Kernel_throw$66.$$arity=1),Opal.def(self,"$<=>",$Kernel_throw$66=function(x){this.$$comparable=!0;x=this["$=="](x);return x&&x!==nil?0:nil},$Kernel_throw$66.$$arity=1),Opal.def(self,"$method",$Kernel_throw$66=function(name){var meth=this["$"+name];return meth&&!meth.$$stub||this.$raise($$($nesting,"NameError").$new("undefined method `"+name+"' for class `"+this.$class()+"'",name)),$$($nesting,"Method").$new(this,meth.$$owner||this.$class(),meth,name)},$Kernel_throw$66.$$arity=1),Opal.def(self,"$methods",$Kernel_throw$66=function(all){return null==all&&(all=!0),$truthy(all)?Opal.methods(this):Opal.own_methods(this)},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$public_methods",$Kernel_throw$66=function(all){return null==all&&(all=!0),$truthy(all)?Opal.methods(this):Opal.receiver_methods(this)},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$Array",$Kernel_throw$66=function(object){var coerced;return object===nil?[]:object.$$is_array?object:(coerced=$$($nesting,"Opal")["$coerce_to?"](object,$$($nesting,"Array"),"to_ary"))!==nil||(coerced=$$($nesting,"Opal")["$coerce_to?"](object,$$($nesting,"Array"),"to_a"))!==nil?coerced:[object]},$Kernel_throw$66.$$arity=1),Opal.def(self,"$at_exit",$Kernel_at_exit$10=function(){var $iter=$Kernel_at_exit$10.$$p,block=$iter||nil,$ret_or_2=nil;return null==$gvars.__at_exit__&&($gvars.__at_exit__=nil),$iter&&($Kernel_at_exit$10.$$p=null),$iter&&($Kernel_at_exit$10.$$p=null),$gvars.__at_exit__=$truthy($ret_or_2=$gvars.__at_exit__)?$ret_or_2:[],$gvars.__at_exit__["$<<"](block),block},$Kernel_at_exit$10.$$arity=0),Opal.def(self,"$caller",$Kernel_throw$66=function(start,length){var stack,result;null==start&&(start=1),null==length&&(length=nil),result=[];for(var i=3,ii=(stack=((new Error).stack||"").split("\n")).length;i<ii&&(stack[i].match("runtime.js")||(result.push(stack[i].replace(/^ *\w+ +/,"")),!length||result.length!=length));i++);return result},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$class",$Kernel_throw$66=function(){return this.$$class},$Kernel_throw$66.$$arity=0),Opal.def(self,"$copy_instance_variables",$Kernel_throw$66=function(other){for(var name,keys=Object.keys(other),i=0,ii=keys.length;i<ii;i++)"$"!==(name=keys[i]).charAt(0)&&other.hasOwnProperty(name)&&(this[name]=other[name])},$Kernel_throw$66.$$arity=1),Opal.def(self,"$copy_singleton_methods",$Kernel_throw$66=function(other){var name;if(other.hasOwnProperty("$$meta")){for(var names,other_singleton_class=Opal.get_singleton_class(other),self_singleton_class=Opal.get_singleton_class(this),i=0,length=(names=Object.getOwnPropertyNames(other_singleton_class.$$prototype)).length;i<length;i++)name=names[i],Opal.is_method(name)&&(self_singleton_class.$$prototype[name]=other_singleton_class.$$prototype[name]);self_singleton_class.$$const=Object.assign({},other_singleton_class.$$const),Object.setPrototypeOf(self_singleton_class.$$prototype,Object.getPrototypeOf(other_singleton_class.$$prototype))}for(i=0,length=(names=Object.getOwnPropertyNames(other)).length;i<length;i++)"$"===(name=names[i]).charAt(0)&&"$"!==name.charAt(1)&&other.hasOwnProperty(name)&&(this[name]=other[name])},$Kernel_throw$66.$$arity=1),Opal.def(self,"$clone",$Kernel_throw$66=function($kwargs){var copy=nil;if(null==$kwargs)$kwargs=$hash2([],{});else if(!$kwargs.$$is_hash)throw Opal.ArgumentError.$new("expected kwargs");return $kwargs.$$smap.freeze,(copy=this.$class().$allocate()).$copy_instance_variables(this),copy.$copy_singleton_methods(this),copy.$initialize_clone(this),copy},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$initialize_clone",$Kernel_throw$66=function(other){return this.$initialize_copy(other)},$Kernel_throw$66.$$arity=1),Opal.def(self,"$define_singleton_method",$Kernel_define_singleton_method$17=function(name,method){var $iter=$Kernel_define_singleton_method$17.$$p,block=$iter||nil;return $iter&&($Kernel_define_singleton_method$17.$$p=null),$iter&&($Kernel_define_singleton_method$17.$$p=null),$send(this.$singleton_class(),"define_method",[name,method],block.$to_proc())},$Kernel_define_singleton_method$17.$$arity=-2),Opal.def(self,"$dup",$Kernel_throw$66=function(){var copy=nil;return(copy=this.$class().$allocate()).$copy_instance_variables(this),copy.$initialize_dup(this),copy},$Kernel_throw$66.$$arity=0),Opal.def(self,"$initialize_dup",$Kernel_throw$66=function(other){return this.$initialize_copy(other)},$Kernel_throw$66.$$arity=1),Opal.def(self,"$enum_for",$Kernel_enum_for$20=function($a,$b){var method,args=$Kernel_enum_for$20.$$p,block=args||nil,self=this;return args&&($Kernel_enum_for$20.$$p=null),args&&($Kernel_enum_for$20.$$p=null),0<(args=Opal.slice.call(arguments,0,arguments.length)).length&&(method=args[0],args.splice(0,1)),null==method&&(method="each"),args=args,$send($$($nesting,"Enumerator"),"for",[self,method].concat(Opal.to_a(args)),block.$to_proc())},$Kernel_enum_for$20.$$arity=-1),Opal.alias(self,"to_enum","enum_for"),Opal.def(self,"$equal?",$Kernel_throw$66=function(other){return this===other},$Kernel_throw$66.$$arity=1),Opal.def(self,"$exit",$Kernel_throw$66=function(status){var $ret_or_3=nil;for(null==$gvars.__at_exit__&&($gvars.__at_exit__=nil),null==status&&(status=!0),$gvars.__at_exit__=$truthy($ret_or_3=$gvars.__at_exit__)?$ret_or_3:[];!$truthy($gvars.__at_exit__["$empty?"]());)$gvars.__at_exit__.$pop().$call();return status=status.$$is_boolean?status?0:1:$coerce_to(status,$$($nesting,"Integer"),"to_int"),Opal.exit(status),nil},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$extend",$Kernel_throw$66=function($a){for(var mods=Opal.slice.call(arguments,0,arguments.length),singleton=this.$singleton_class(),i=mods.length-1;0<=i;i--){var mod=mods[i];mod.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+mod.$class()+" (expected Module)"),mod.$append_features(singleton),mod.$extend_object(this),mod.$extended(this)}return this},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$hash",$Kernel_throw$66=function(){return this.$__id__()},$Kernel_throw$66.$$arity=0),Opal.def(self,"$initialize_copy",$Kernel_throw$66=function(){return nil},$Kernel_throw$66.$$arity=1),Opal.def(self,"$inspect",$Kernel_throw$66=function(){return this.$to_s()},$Kernel_throw$66.$$arity=0),Opal.def(self,"$instance_of?",$Kernel_throw$66=function(klass){return klass.$$is_class||klass.$$is_module||this.$raise($$($nesting,"TypeError"),"class or module required"),this.$$class===klass},$Kernel_throw$66.$$arity=1),Opal.def(self,"$instance_variable_defined?",$Kernel_throw$66=function(name){return name=$$($nesting,"Opal")["$instance_variable_name!"](name),Opal.hasOwnProperty.call(this,name.substr(1))},$Kernel_throw$66.$$arity=1),Opal.def(self,"$instance_variable_get",$Kernel_throw$66=function(ivar){ivar=$$($nesting,"Opal")["$instance_variable_name!"](ivar);ivar=this[Opal.ivar(ivar.substr(1))];return null==ivar?nil:ivar},$Kernel_throw$66.$$arity=1),Opal.def(self,"$instance_variable_set",$Kernel_throw$66=function(name,value){return name=$$($nesting,"Opal")["$instance_variable_name!"](name),this[Opal.ivar(name.substr(1))]=value},$Kernel_throw$66.$$arity=2),Opal.def(self,"$remove_instance_variable",$Kernel_throw$66=function(name){name=$$($nesting,"Opal")["$instance_variable_name!"](name);var val,key=Opal.ivar(name.substr(1));return this.hasOwnProperty(key)?(val=this[key],delete this[key],val):this.$raise($$($nesting,"NameError"),"instance variable "+name+" not defined")},$Kernel_throw$66.$$arity=1),Opal.def(self,"$instance_variables",$Kernel_throw$66=function(){var ivar,name,result=[];for(name in this)this.hasOwnProperty(name)&&"$"!==name.charAt(0)&&(ivar="$"===name.substr(-1)?name.slice(0,name.length-1):name,result.push("@"+ivar));return result},$Kernel_throw$66.$$arity=0),Opal.def(self,"$Integer",$Kernel_throw$66=function(value,base){var i,base_digits,self=this;return value.$$is_string?"0"===value?0:(void 0===base?base=0:(1===(base=$coerce_to(base,$$($nesting,"Integer"),"to_int"))||base<0||36<base)&&self.$raise($$($nesting,"ArgumentError"),"invalid radix "+base),i=(i=(i=value.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(_,head,flag){switch(flag){case"0b":if(0===base||2===base)return base=2,head;case"0":case"0o":if(0===base||8===base)return base=8,head;case"0d":if(0===base||10===base)return base=10,head;case"0x":if(0===base||16===base)return base=16,head}self.$raise($$($nesting,"ArgumentError"),'invalid value for Integer(): "'+value+'"')}),base_digits="0-"+((base=0===base?10:base)<=10?base-1:"9a-"+String.fromCharCode(base-11+97)),new RegExp("^\\s*[+-]?["+base_digits+"]+\\s*$").test(i)||self.$raise($$($nesting,"ArgumentError"),'invalid value for Integer(): "'+value+'"'),i=parseInt(i,base),isNaN(i)&&self.$raise($$($nesting,"ArgumentError"),'invalid value for Integer(): "'+value+'"'),i):(void 0!==base&&self.$raise($$($nesting,"ArgumentError"),"base specified for non string value"),value===nil&&self.$raise($$($nesting,"TypeError"),"can't convert nil into Integer"),value.$$is_number?(value!==1/0&&value!==-1/0&&!isNaN(value)||self.$raise($$($nesting,"FloatDomainError"),value),Math.floor(value)):value["$respond_to?"]("to_int")&&(i=value.$to_int())!==nil?i:$$($nesting,"Opal")["$coerce_to!"](value,$$($nesting,"Integer"),"to_i"))},$Kernel_throw$66.$$arity=-2),Opal.def(self,"$Float",$Kernel_throw$66=function(value){var str;return value===nil&&this.$raise($$($nesting,"TypeError"),"can't convert nil into Float"),value.$$is_string?(str=(str=value.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(str)?this.$Integer(str):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(str)||this.$raise($$($nesting,"ArgumentError"),'invalid value for Float(): "'+value+'"'),parseFloat(str))):$$($nesting,"Opal")["$coerce_to!"](value,$$($nesting,"Float"),"to_f")},$Kernel_throw$66.$$arity=1),Opal.def(self,"$Hash",$Kernel_throw$66=function(arg){var $ret_or_4=nil;return $truthy($truthy($ret_or_4=arg["$nil?"]())?$ret_or_4:arg["$=="]([]))?$hash2([],{}):$truthy($$($nesting,"Hash")["$==="](arg))?arg:$$($nesting,"Opal")["$coerce_to!"](arg,$$($nesting,"Hash"),"to_hash")},$Kernel_throw$66.$$arity=1),Opal.def(self,"$is_a?",$Kernel_throw$66=function(klass){return klass.$$is_class||klass.$$is_module||this.$raise($$($nesting,"TypeError"),"class or module required"),Opal.is_a(this,klass)},$Kernel_throw$66.$$arity=1),Opal.def(self,"$itself",$Kernel_throw$66=function(){return this},$Kernel_throw$66.$$arity=0),Opal.alias(self,"kind_of?","is_a?"),Opal.def(self,"$lambda",$Kernel_lambda$38=function(){var $iter=$Kernel_lambda$38.$$p,block=$iter||nil;return $iter&&($Kernel_lambda$38.$$p=null),$iter&&($Kernel_lambda$38.$$p=null),Opal.lambda(block)},$Kernel_lambda$38.$$arity=0),Opal.def(self,"$load",$Kernel_throw$66=function(file){return file=$$($nesting,"Opal")["$coerce_to!"](file,$$($nesting,"String"),"to_str"),Opal.load(file)},$Kernel_throw$66.$$arity=1),Opal.def(self,"$loop",$Kernel_loop$40=function(){var $$41,$iter=$Kernel_loop$40.$$p,$yield=$iter||nil,e=nil;if($iter&&($Kernel_loop$40.$$p=null),$yield===nil)return $send(this,"enum_for",["loop"],(($$41=function(){null==$$41.$$s||$$41.$$s;return $$$($$($nesting,"Float"),"INFINITY")}).$$s=this,$$41.$$arity=0,$$41));for(;$truthy(!0);)try{Opal.yieldX($yield,[])}catch($err){if(!Opal.rescue($err,[$$($nesting,"StopIteration")]))throw $err;e=$err;try{return e.$result()}finally{Opal.pop_exception()}}return this},$Kernel_loop$40.$$arity=0),Opal.def(self,"$nil?",$Kernel_throw$66=function(){return!1},$Kernel_throw$66.$$arity=0),Opal.alias(self,"object_id","__id__"),Opal.def(self,"$printf",$Kernel_throw$66=function($a){var args=Opal.slice.call(arguments,0,arguments.length);return $truthy(args["$any?"]())&&this.$print($send(this,"format",Opal.to_a(args))),nil},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$proc",$Kernel_proc$44=function(){var $iter=$Kernel_proc$44.$$p,block=$iter||nil;return $iter&&($Kernel_proc$44.$$p=null),$iter&&($Kernel_proc$44.$$p=null),$truthy(block)||this.$raise($$($nesting,"ArgumentError"),"tried to create Proc object without a block"),block.$$is_lambda=!1,block},$Kernel_proc$44.$$arity=0),Opal.def(self,"$puts",$Kernel_throw$66=function($a){var $post_args;return null==$gvars.stdout&&($gvars.stdout=nil),$post_args=Opal.slice.call(arguments,0,arguments.length),$send($gvars.stdout,"puts",Opal.to_a($post_args))},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$p",$Kernel_throw$66=function($a){var $$47,lhs,rhs,args=Opal.slice.call(arguments,0,arguments.length);return $send(args,"each",[],(($$47=function(obj){null==$$47.$$s||$$47.$$s;return null==$gvars.stdout&&($gvars.stdout=nil),null==obj&&(obj=nil),$gvars.stdout.$puts(obj.$inspect())}).$$s=this,$$47.$$arity=1,$$47)),$truthy((lhs=args.$length(),rhs=1,"number"==typeof lhs&&"number"==typeof rhs?lhs<=rhs:lhs["$<="](rhs)))?args["$[]"](0):args},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$print",$Kernel_throw$66=function($a){var $post_args;return null==$gvars.stdout&&($gvars.stdout=nil),$post_args=Opal.slice.call(arguments,0,arguments.length),$send($gvars.stdout,"print",Opal.to_a($post_args))},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$warn",$Kernel_throw$66=function($a,$b){var strs,uplevel,$$50,lhs,rhs,location=nil,$ret_or_5=nil;if(null==$gvars.VERBOSE&&($gvars.VERBOSE=nil),null==$gvars.stderr&&($gvars.stderr=nil),rhs=Opal.slice.call(arguments,0,arguments.length),null==(lhs=Opal.extract_kwargs(rhs)))lhs=$hash2([],{});else if(!lhs.$$is_hash)throw Opal.ArgumentError.$new("expected kwargs");return strs=rhs,null==(uplevel=lhs.$$smap.uplevel)&&(uplevel=nil),$truthy(uplevel)&&(uplevel=$$($nesting,"Opal")["$coerce_to!"](uplevel,$$($nesting,"Integer"),"to_str"),$truthy((rhs=0,"number"==typeof(lhs=uplevel)&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)))&&this.$raise($$($nesting,"ArgumentError"),"negative level ("+uplevel+")"),location=this.$caller(function(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}(uplevel,2),1).$first(),$truthy(location)&&(location+=": "),strs=$send(strs,"map",[],(($$50=function(s){null==$$50.$$s||$$50.$$s;return null==s&&(s=nil),location+"warning: "+s}).$$s=this,$$50.$$arity=1,$$50))),$truthy($truthy($ret_or_5=$gvars.VERBOSE["$nil?"]())?$ret_or_5:strs["$empty?"]())?nil:$send($gvars.stderr,"puts",Opal.to_a(strs))},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$raise",$Kernel_throw$66=function(exception,string,_backtrace){if(null==$gvars["!"]&&($gvars["!"]=nil),null==string&&(string=nil),null==_backtrace&&(_backtrace=nil),null==exception&&$gvars["!"]!==nil)throw $gvars["!"];throw null==exception?exception=$$($nesting,"RuntimeError").$new():exception.$$is_string?exception=$$($nesting,"RuntimeError").$new(exception):exception.$$is_class&&exception["$respond_to?"]("exception")?exception=exception.$exception(string):exception["$is_a?"]($$($nesting,"Exception"))||(exception=$$($nesting,"TypeError").$new("exception class/object expected")),$gvars["!"]!==nil&&Opal.exceptions.push($gvars["!"]),$gvars["!"]=exception},$Kernel_throw$66.$$arity=-1),Opal.alias(self,"fail","raise"),Opal.def(self,"$rand",$Kernel_throw$66=function(max){return void 0===max?$$$($$($nesting,"Random"),"DEFAULT").$rand():(max.$$is_number&&(max<0&&(max=Math.abs(max)),max%1!=0&&(max=max.$to_i()),0===max&&(max=void 0)),$$$($$($nesting,"Random"),"DEFAULT").$rand(max))},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$respond_to?",$Kernel_throw$66=function(name,include_all){null==include_all&&(include_all=!1);var body=this["$"+name];return"function"==typeof body&&!body.$$stub||!0!==this["$respond_to_missing?"].$$pristine&&this["$respond_to_missing?"](name,include_all)},$Kernel_throw$66.$$arity=-2),Opal.def(self,"$respond_to_missing?",$Kernel_throw$66=function(method_name,include_all){return null==include_all&&(include_all=!1),!1},$Kernel_throw$66.$$arity=-2),$$($nesting,"Opal").$pristine(self,"respond_to?","respond_to_missing?"),Opal.def(self,"$require",$Kernel_throw$66=function(file){return file=$$($nesting,"Opal")["$coerce_to!"](file,$$($nesting,"String"),"to_str"),Opal.require(file)},$Kernel_throw$66.$$arity=1),Opal.def(self,"$require_relative",$Kernel_throw$66=function(file){return $$($nesting,"Opal")["$try_convert!"](file,$$($nesting,"String"),"to_str"),file=$$($nesting,"File").$expand_path($$($nesting,"File").$join(Opal.current_file,"..",file)),Opal.require(file)},$Kernel_throw$66.$$arity=1),Opal.def(self,"$require_tree",$Kernel_throw$66=function(path){var name,result=[];for(name in path=$$($nesting,"File").$expand_path(path),"."===(path=Opal.normalize(path))&&(path=""),Opal.modules)name["$start_with?"](path)&&result.push([name,Opal.require(name)]);return result},$Kernel_throw$66.$$arity=1),Opal.alias(self,"send","__send__"),Opal.alias(self,"public_send","__send__"),Opal.def(self,"$singleton_class",$Kernel_throw$66=function(){return Opal.get_singleton_class(this)},$Kernel_throw$66.$$arity=0),Opal.def(self,"$sleep",$Kernel_throw$66=function(seconds){null==seconds&&(seconds=nil),seconds===nil&&this.$raise($$($nesting,"TypeError"),"can't convert NilClass into time interval"),seconds.$$is_number||this.$raise($$($nesting,"TypeError"),"can't convert "+seconds.$class()+" into time interval"),seconds<0&&this.$raise($$($nesting,"ArgumentError"),"time interval must be positive");for(var get_time=Opal.global.performance?function(){return performance.now()}:function(){return new Date},t=get_time();get_time()-t<=1e3*seconds;);return Math.round(seconds)},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$srand",$Kernel_throw$66=function(seed){return null==seed&&(seed=$$($nesting,"Random").$new_seed()),$$($nesting,"Random").$srand(seed)},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$String",$Kernel_throw$66=function(str){var $ret_or_6;return $truthy($ret_or_6=$$($nesting,"Opal")["$coerce_to?"](str,$$($nesting,"String"),"to_str"))?$ret_or_6:$$($nesting,"Opal")["$coerce_to!"](str,$$($nesting,"String"),"to_s")},$Kernel_throw$66.$$arity=1),Opal.def(self,"$tap",$Kernel_tap$62=function(){var $iter=$Kernel_tap$62.$$p,block=$iter||nil;return $iter&&($Kernel_tap$62.$$p=null),$iter&&($Kernel_tap$62.$$p=null),Opal.yield1(block,this),this},$Kernel_tap$62.$$arity=0),Opal.def(self,"$to_proc",$Kernel_throw$66=function(){return this},$Kernel_throw$66.$$arity=0),Opal.def(self,"$to_s",$Kernel_throw$66=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},$Kernel_throw$66.$$arity=0),Opal.def(self,"$catch",$Kernel_catch$65=function(sym){var $iter=$Kernel_catch$65.$$p,$yield=$iter||nil,e=nil;$iter&&($Kernel_catch$65.$$p=null);try{return Opal.yieldX($yield,[])}catch($err){if(!Opal.rescue($err,[$$($nesting,"UncaughtThrowError")]))throw $err;e=$err;try{return e.$sym()["$=="](sym)?e.$arg():this.$raise()}finally{Opal.pop_exception()}}},$Kernel_catch$65.$$arity=1),Opal.def(self,"$throw",$Kernel_throw$66=function($a){var args=Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"UncaughtThrowError"),args)},$Kernel_throw$66.$$arity=-1),Opal.def(self,"$open",$Kernel_open$67=function($a){var args=$Kernel_open$67.$$p,block=args||nil;return args&&($Kernel_open$67.$$p=null),args&&($Kernel_open$67.$$p=null),args=Opal.slice.call(arguments,0,arguments.length),$send($$($nesting,"File"),"open",Opal.to_a(args),block.$to_proc())},$Kernel_open$67.$$arity=-1),Opal.def(self,"$yield_self",$Kernel_yield_self$68=function(){var $$69,$iter=$Kernel_yield_self$68.$$p,$yield=$iter||nil;return $iter&&($Kernel_yield_self$68.$$p=null),$yield===nil?$send(this,"enum_for",["yield_self"],(($$69=function(){null==$$69.$$s||$$69.$$s;return 1}).$$s=this,$$69.$$arity=0,$$69)):Opal.yield1($yield,this)},$Kernel_yield_self$68.$$arity=0),Opal.alias(self,"then","yield_self"),$$($nesting,"Opal").$pristine(self,"method_missing")}($nesting[0],$nesting),function(self,$nesting){self=$klass(self,null,"Object"),$nesting=[self].concat($nesting);return self.$include($$($nesting,"Kernel"))}($nesting[0],$nesting)},Opal.modules["corelib/error"]=function(Opal){Opal.top;var $base,$super,$parent_nesting,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$send=Opal.send,$truthy=Opal.truthy,$module=Opal.module,$send2=Opal.send2,$hash2=Opal.hash2;return Opal.add_stubs(["$new","$clone","$to_s","$empty?","$class","$raise","$+","$attr_reader","$[]","$>","$length","$inspect"]),function($base,$Exception_to_s$9,$Exception_set_backtrace$8){var stack_trace_limit,$nesting=[$Exception_to_s$9=$klass($base,$Exception_to_s$9,"Exception")].concat($Exception_set_backtrace$8);$Exception_to_s$9.$$prototype.message=nil,Opal.defs($Exception_to_s$9,"$new",$Exception_set_backtrace$8=function($a){var args=Opal.slice.call(arguments,0,arguments.length),message=0<args.length?args[0]:nil,error=new this.$$constructor(message);return error.name=this.$$name,error.message=message,Opal.send(error,error.$initialize,args),Opal.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(error,stack_trace_limit),error},$Exception_set_backtrace$8.$$arity=-1),stack_trace_limit=$Exception_to_s$9.$new,Opal.defs($Exception_to_s$9,"$exception",$Exception_set_backtrace$8=function($a){var $post_args=Opal.slice.call(arguments,0,arguments.length);return $send(this,"new",Opal.to_a($post_args))},$Exception_set_backtrace$8.$$arity=-1),Opal.def($Exception_to_s$9,"$initialize",$Exception_set_backtrace$8=function($a){var $post_args=Opal.slice.call(arguments,0,arguments.length);return this.message=0<$post_args.length?$post_args[0]:nil},$Exception_set_backtrace$8.$$arity=-1),Opal.def($Exception_to_s$9,"$backtrace",$Exception_set_backtrace$8=function(){if(this.backtrace)return this.backtrace;var backtrace=this.stack;return"string"==typeof backtrace?backtrace.split("\n").slice(0,15):backtrace?backtrace.slice(0,15):[]},$Exception_set_backtrace$8.$$arity=0),Opal.def($Exception_to_s$9,"$exception",$Exception_set_backtrace$8=function(str){if(null==str&&(str=nil),str===nil||this===str)return this;var cloned=this.$clone();return cloned.message=str,cloned.stack=this.stack,cloned},$Exception_set_backtrace$8.$$arity=-1),Opal.def($Exception_to_s$9,"$message",$Exception_set_backtrace$8=function(){return this.$to_s()},$Exception_set_backtrace$8.$$arity=0),Opal.def($Exception_to_s$9,"$inspect",$Exception_set_backtrace$8=function(){var as_str=nil,as_str=this.$to_s();return $truthy(as_str["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},$Exception_set_backtrace$8.$$arity=0),Opal.def($Exception_to_s$9,"$set_backtrace",$Exception_set_backtrace$8=function(backtrace){var i,ii,valid=!0;if(backtrace===nil)this.backtrace=nil,this.stack="";else if(backtrace.$$is_string)this.backtrace=[backtrace],this.stack=backtrace;else{if(backtrace.$$is_array){for(i=0,ii=backtrace.length;i<ii;i++)if(!backtrace[i].$$is_string){valid=!1;break}}else valid=!1;!1===valid&&this.$raise($$($nesting,"TypeError"),"backtrace must be Array of String"),this.backtrace=backtrace,this.stack=backtrace.join("\n")}return backtrace},$Exception_set_backtrace$8.$$arity=1),Opal.def($Exception_to_s$9,"$to_s",$Exception_to_s$9=function(){var $ret_or_1,self=this,$ret_or_2=nil;return $truthy($ret_or_1=$truthy($ret_or_2=self.message)?self.message.$to_s():$ret_or_2)?$ret_or_1:self.$class().$to_s()},$Exception_to_s$9.$$arity=0)}($nesting[0],Error,$nesting),$base=$nesting[0],$super=$$($nesting,"Exception"),$parent_nesting=$nesting,[$klass($base,$super,"ScriptError")].concat($parent_nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"SyntaxError")].concat($parent_nesting)}($nesting[0],$$($nesting,"ScriptError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"LoadError")].concat($parent_nesting)}($nesting[0],$$($nesting,"ScriptError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"NotImplementedError")].concat($parent_nesting)}($nesting[0],$$($nesting,"ScriptError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"SystemExit")].concat($parent_nesting)}($nesting[0],$$($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"NoMemoryError")].concat($parent_nesting)}($nesting[0],$$($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"SignalException")].concat($parent_nesting)}($nesting[0],$$($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"Interrupt")].concat($parent_nesting)}($nesting[0],$$($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"SecurityError")].concat($parent_nesting)}($nesting[0],$$($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"StandardError")].concat($parent_nesting)}($nesting[0],$$($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"EncodingError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"ZeroDivisionError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"NameError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"NoMethodError")].concat($parent_nesting)}($nesting[0],$$($nesting,"NameError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"RuntimeError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"FrozenError")].concat($parent_nesting)}($nesting[0],$$($nesting,"RuntimeError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"LocalJumpError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"TypeError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"ArgumentError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"IndexError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"StopIteration")].concat($parent_nesting)}($nesting[0],$$($nesting,"IndexError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"KeyError")].concat($parent_nesting)}($nesting[0],$$($nesting,"IndexError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"RangeError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"FloatDomainError")].concat($parent_nesting)}($nesting[0],$$($nesting,"RangeError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"IOError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"SystemCallError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$nesting){!function($base,self,$parent_nesting){var $EINVAL_new$10;[self=$klass($base,self,"EINVAL")].concat($parent_nesting),Opal.defs(self,"$new",$EINVAL_new$10=function(lhs){var rhs=$EINVAL_new$10.$$p,message=nil;return rhs&&($EINVAL_new$10.$$p=null),null==lhs&&(lhs=nil),message="Invalid argument",$truthy(lhs)&&(rhs=" - "+lhs,message="number"==typeof(lhs=message)&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)),$send2(this,Opal.find_super_dispatcher(this,"new",$EINVAL_new$10,!1,!0),"new",[message],null)},$EINVAL_new$10.$$arity=-1)}(($nesting=[$module($base,"Errno")].concat($nesting))[0],$$($nesting,"SystemCallError"),$nesting)}($nesting[0],$nesting),function($base,self,$parent_nesting){var $UncaughtThrowError_initialize$11;[self=$klass($base,self,"UncaughtThrowError")].concat($parent_nesting),self.$$prototype.sym=nil,self.$attr_reader("sym","arg"),Opal.def(self,"$initialize",$UncaughtThrowError_initialize$11=function(args){var lhs,rhs=$UncaughtThrowError_initialize$11.$$p;return rhs&&($UncaughtThrowError_initialize$11.$$p=null),this.sym=args["$[]"](0),$truthy((lhs=args.$length(),rhs=1,"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)))&&(this.arg=args["$[]"](1)),$send2(this,Opal.find_super_dispatcher(this,"initialize",$UncaughtThrowError_initialize$11,!1,!0),"initialize",["uncaught throw "+this.sym.$inspect()],null)},$UncaughtThrowError_initialize$11.$$arity=1)}($nesting[0],$$($nesting,"ArgumentError"),$nesting),function(self,$parent_nesting){var $NameError_initialize$12;[self=$klass(self,null,"NameError")].concat($parent_nesting),self.$attr_reader("name"),Opal.def(self,"$initialize",$NameError_initialize$12=function(message,name){var $iter=$NameError_initialize$12.$$p;return $iter&&($NameError_initialize$12.$$p=null),null==name&&(name=nil),$send2(this,Opal.find_super_dispatcher(this,"initialize",$NameError_initialize$12,!1,!0),"initialize",[message],null),this.name=name},$NameError_initialize$12.$$arity=-2)}($nesting[0],$nesting),function(self,$parent_nesting){var $NoMethodError_initialize$13;[self=$klass(self,null,"NoMethodError")].concat($parent_nesting),self.$attr_reader("args"),Opal.def(self,"$initialize",$NoMethodError_initialize$13=function(message,name,args){var $iter=$NoMethodError_initialize$13.$$p;return $iter&&($NoMethodError_initialize$13.$$p=null),null==name&&(name=nil),null==args&&(args=[]),$send2(this,Opal.find_super_dispatcher(this,"initialize",$NoMethodError_initialize$13,!1,!0),"initialize",[message,name],null),this.args=args},$NoMethodError_initialize$13.$$arity=-2)}($nesting[0],$nesting),function(self,$parent_nesting){[self=$klass(self,null,"StopIteration")].concat($parent_nesting),self.$attr_reader("result")}($nesting[0],$nesting),function($KeyError_key$16,$KeyError_receiver$15){var $KeyError_initialize$14,$nesting=[$KeyError_key$16=$klass($KeyError_key$16,null,"KeyError")].concat($KeyError_receiver$15);$KeyError_key$16.$$prototype.receiver=$KeyError_key$16.$$prototype.key=nil,Opal.def($KeyError_key$16,"$initialize",$KeyError_initialize$14=function(message,key){var receiver=$KeyError_initialize$14.$$p;if(receiver&&($KeyError_initialize$14.$$p=null),null==key)key=$hash2([],{});else if(!key.$$is_hash)throw Opal.ArgumentError.$new("expected kwargs");return null==(receiver=key.$$smap.receiver)&&(receiver=nil),null==(key=key.$$smap.key)&&(key=nil),$send2(this,Opal.find_super_dispatcher(this,"initialize",$KeyError_initialize$14,!1,!0),"initialize",[message],null),this.receiver=receiver,this.key=key},$KeyError_initialize$14.$$arity=-2),Opal.def($KeyError_key$16,"$receiver",$KeyError_receiver$15=function(){var $ret_or_3;return $truthy($ret_or_3=this.receiver)?$ret_or_3:this.$raise($$($nesting,"ArgumentError"),"no receiver is available")},$KeyError_receiver$15.$$arity=0),Opal.def($KeyError_key$16,"$key",$KeyError_key$16=function(){var $ret_or_4;return $truthy($ret_or_4=this.key)?$ret_or_4:this.$raise($$($nesting,"ArgumentError"),"no key is available")},$KeyError_key$16.$$arity=0)}($nesting[0],$nesting),function($base,$nesting){$nesting=[$module($base,"JS")].concat($nesting);return function($base,$parent_nesting){[$klass($base,null,"Error")].concat($parent_nesting);return nil}($nesting[0],$nesting)}($nesting[0],$nesting)},Opal.modules["corelib/constants"]=function(Opal){Opal.top;var $nesting=[],$$=(Opal.nil,Opal.$$$,Opal.$$);return Opal.const_set($nesting[0],"RUBY_PLATFORM","opal"),Opal.const_set($nesting[0],"RUBY_ENGINE","opal"),Opal.const_set($nesting[0],"RUBY_VERSION","3.0.2"),Opal.const_set($nesting[0],"RUBY_ENGINE_VERSION","1.2.0"),Opal.const_set($nesting[0],"RUBY_RELEASE_DATE","2021-07-28"),Opal.const_set($nesting[0],"RUBY_PATCHLEVEL",0),Opal.const_set($nesting[0],"RUBY_REVISION","0"),Opal.const_set($nesting[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2021 Adam Beynon and the Opal contributors"),Opal.const_set($nesting[0],"RUBY_DESCRIPTION","opal "+$$($nesting,"RUBY_ENGINE_VERSION")+" ("+$$($nesting,"RUBY_RELEASE_DATE")+" revision "+$$($nesting,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(Opal){var self=Opal.top;Opal.nil,Opal.$$$,Opal.$$;return Opal.add_stubs(["$require"]),self.$require("corelib/runtime"),self.$require("corelib/helpers"),self.$require("corelib/module"),self.$require("corelib/class"),self.$require("corelib/basic_object"),self.$require("corelib/kernel"),self.$require("corelib/error"),self.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$hash2=Opal.hash2,$truthy=Opal.truthy;return Opal.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function($NilClass_instance_variables$19,$NilClass_to_r$18){var $nesting=[$NilClass_instance_variables$19=$klass($NilClass_instance_variables$19,null,"NilClass")].concat($NilClass_to_r$18);$NilClass_instance_variables$19.$$prototype.$$meta=$NilClass_instance_variables$19,function(self,$allocate$1){var $nesting=[self].concat($allocate$1);Opal.def(self,"$allocate",$allocate$1=function(){return this.$raise($$($nesting,"TypeError"),"allocator undefined for "+this.$name())},$allocate$1.$$arity=0),Opal.udef(self,"$new")}(Opal.get_singleton_class($NilClass_instance_variables$19),$nesting),Opal.def($NilClass_instance_variables$19,"$!",$NilClass_to_r$18=function(){return!0},$NilClass_to_r$18.$$arity=0),Opal.def($NilClass_instance_variables$19,"$&",$NilClass_to_r$18=function(other){return!1},$NilClass_to_r$18.$$arity=1),Opal.def($NilClass_instance_variables$19,"$|",$NilClass_to_r$18=function(other){return!1!==other&&other!==nil},$NilClass_to_r$18.$$arity=1),Opal.def($NilClass_instance_variables$19,"$^",$NilClass_to_r$18=function(other){return!1!==other&&other!==nil},$NilClass_to_r$18.$$arity=1),Opal.def($NilClass_instance_variables$19,"$==",$NilClass_to_r$18=function(other){return other===nil},$NilClass_to_r$18.$$arity=1),Opal.def($NilClass_instance_variables$19,"$dup",$NilClass_to_r$18=function(){return nil},$NilClass_to_r$18.$$arity=0),Opal.def($NilClass_instance_variables$19,"$clone",$NilClass_to_r$18=function($kwargs){if(null==$kwargs)$kwargs=$hash2([],{});else if(!$kwargs.$$is_hash)throw Opal.ArgumentError.$new("expected kwargs");return $kwargs.$$smap.freeze,nil},$NilClass_to_r$18.$$arity=-1),Opal.def($NilClass_instance_variables$19,"$inspect",$NilClass_to_r$18=function(){return"nil"},$NilClass_to_r$18.$$arity=0),Opal.def($NilClass_instance_variables$19,"$nil?",$NilClass_to_r$18=function(){return!0},$NilClass_to_r$18.$$arity=0),Opal.def($NilClass_instance_variables$19,"$singleton_class",$NilClass_to_r$18=function(){return $$($nesting,"NilClass")},$NilClass_to_r$18.$$arity=0),Opal.def($NilClass_instance_variables$19,"$to_a",$NilClass_to_r$18=function(){return[]},$NilClass_to_r$18.$$arity=0),Opal.def($NilClass_instance_variables$19,"$to_h",$NilClass_to_r$18=function(){return Opal.hash()},$NilClass_to_r$18.$$arity=0),Opal.def($NilClass_instance_variables$19,"$to_i",$NilClass_to_r$18=function(){return 0},$NilClass_to_r$18.$$arity=0),Opal.alias($NilClass_instance_variables$19,"to_f","to_i"),Opal.def($NilClass_instance_variables$19,"$to_s",$NilClass_to_r$18=function(){return""},$NilClass_to_r$18.$$arity=0),Opal.def($NilClass_instance_variables$19,"$to_c",$NilClass_to_r$18=function(){return $$($nesting,"Complex").$new(0,0)},$NilClass_to_r$18.$$arity=0),Opal.def($NilClass_instance_variables$19,"$rationalize",$NilClass_to_r$18=function($a){var lhs,rhs=Opal.slice.call(arguments,0,arguments.length);return $truthy((lhs=rhs.$length(),rhs=1,"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)))&&this.$raise($$($nesting,"ArgumentError")),this.$Rational(0,1)},$NilClass_to_r$18.$$arity=-1),Opal.def($NilClass_instance_variables$19,"$to_r",$NilClass_to_r$18=function(){return this.$Rational(0,1)},$NilClass_to_r$18.$$arity=0),Opal.def($NilClass_instance_variables$19,"$instance_variables",$NilClass_instance_variables$19=function(){return[]},$NilClass_instance_variables$19.$$arity=0)}($nesting[0],$nesting),Opal.const_set($nesting[0],"NIL",nil)},Opal.modules["corelib/boolean"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$hash2=Opal.hash2;return Opal.add_stubs(["$raise","$name"]),function($base,$Boolean_clone$11,$Boolean_dup$10){var $nesting=[$Boolean_clone$11=$klass($base,$Boolean_clone$11,"Boolean")].concat($Boolean_dup$10);Opal.defineProperty($Boolean_clone$11.$$prototype,"$$is_boolean",!0),Opal.defineProperty($Boolean_clone$11.$$prototype,"$$meta",$Boolean_clone$11),function(self,$allocate$1){var $nesting=[self].concat($allocate$1);Opal.def(self,"$allocate",$allocate$1=function(){return this.$raise($$($nesting,"TypeError"),"allocator undefined for "+this.$name())},$allocate$1.$$arity=0),Opal.udef(self,"$new")}(Opal.get_singleton_class($Boolean_clone$11),$nesting),Opal.def($Boolean_clone$11,"$__id__",$Boolean_dup$10=function(){return this.valueOf()?2:0},$Boolean_dup$10.$$arity=0),Opal.alias($Boolean_clone$11,"object_id","__id__"),Opal.def($Boolean_clone$11,"$!",$Boolean_dup$10=function(){return 1!=this},$Boolean_dup$10.$$arity=0),Opal.def($Boolean_clone$11,"$&",$Boolean_dup$10=function(other){return 1==this&&(!1!==other&&other!==nil)},$Boolean_dup$10.$$arity=1),Opal.def($Boolean_clone$11,"$|",$Boolean_dup$10=function(other){return 1==this||!1!==other&&other!==nil},$Boolean_dup$10.$$arity=1),Opal.def($Boolean_clone$11,"$^",$Boolean_dup$10=function(other){return 1==this?!1===other||other===nil:!1!==other&&other!==nil},$Boolean_dup$10.$$arity=1),Opal.def($Boolean_clone$11,"$==",$Boolean_dup$10=function(other){return 1==this===other.valueOf()},$Boolean_dup$10.$$arity=1),Opal.alias($Boolean_clone$11,"equal?","=="),Opal.alias($Boolean_clone$11,"eql?","=="),Opal.def($Boolean_clone$11,"$singleton_class",$Boolean_dup$10=function(){return $$($nesting,"Boolean")},$Boolean_dup$10.$$arity=0),Opal.def($Boolean_clone$11,"$to_s",$Boolean_dup$10=function(){return 1==this?"true":"false"},$Boolean_dup$10.$$arity=0),Opal.def($Boolean_clone$11,"$dup",$Boolean_dup$10=function(){return this},$Boolean_dup$10.$$arity=0),Opal.def($Boolean_clone$11,"$clone",$Boolean_clone$11=function($kwargs){if(null==$kwargs)$kwargs=$hash2([],{});else if(!$kwargs.$$is_hash)throw Opal.ArgumentError.$new("expected kwargs");return $kwargs.$$smap.freeze,this},$Boolean_clone$11.$$arity=-1)}($nesting[0],Boolean,$nesting),Opal.const_set($nesting[0],"TrueClass",$$($nesting,"Boolean")),Opal.const_set($nesting[0],"FalseClass",$$($nesting,"Boolean")),Opal.const_set($nesting[0],"TRUE",!0),Opal.const_set($nesting[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$falsy=Opal.falsy,$module=Opal.module,$truthy=Opal.truthy;return Opal.add_stubs(["$>","$<","$===","$raise","$class","$<=>","$equal?"]),function($base,$Comparable_clamp$7){var self=$module($base,"Comparable"),$nesting=[self].concat($Comparable_clamp$7),$case=nil;function normalize(what){return Opal.is_a(what,Opal.Integer)?what:$rb_gt(what,0)?1:$rb_lt(what,0)?-1:0}function cmp_or_fail(lhs,rhs){var cmp=lhs["$<=>"](rhs);return $falsy(cmp)&&function(lhs,class_name){$case=class_name,class_name=nil["$==="]($case)||(!0)["$==="]($case)||(!1)["$==="]($case)||$$($nesting,"Integer")["$==="]($case)||$$($nesting,"Float")["$==="]($case)?class_name.$inspect():class_name.$$class,self.$raise($$($nesting,"ArgumentError"),"comparison of "+lhs.$class()+" with "+class_name+" failed")}(lhs,rhs),normalize(cmp)}return Opal.def(self,"$==",$Comparable_clamp$7=function(other){var cmp;return!!$truthy(this["$equal?"](other))||this["$<=>"]!=Opal.Kernel["$<=>"]&&(this.$$comparable?(delete this.$$comparable,!1):!!$truthy(cmp=this["$<=>"](other))&&0==normalize(cmp))},$Comparable_clamp$7.$$arity=1),Opal.def(self,"$>",$Comparable_clamp$7=function(other){return 0<cmp_or_fail(this,other)},$Comparable_clamp$7.$$arity=1),Opal.def(self,"$>=",$Comparable_clamp$7=function(other){return 0<=cmp_or_fail(this,other)},$Comparable_clamp$7.$$arity=1),Opal.def(self,"$<",$Comparable_clamp$7=function(other){return cmp_or_fail(this,other)<0},$Comparable_clamp$7.$$arity=1),Opal.def(self,"$<=",$Comparable_clamp$7=function(other){return cmp_or_fail(this,other)<=0},$Comparable_clamp$7.$$arity=1),Opal.def(self,"$between?",$Comparable_clamp$7=function(min,max){return!$rb_lt(this,min)&&!$rb_gt(this,max)},$Comparable_clamp$7.$$arity=2),Opal.def(self,"$clamp",$Comparable_clamp$7=function(min,max){var c,excl;if(null==max&&(max=nil),max===nil&&(Opal.is_a(min,Opal.Range)||this.$raise($$($nesting,"TypeError"),"wrong argument type "+min.$class()+" (expected Range)"),excl=min.excl,max=min.end,min=min.begin,max!==nil&&excl&&this.$raise($$($nesting,"ArgumentError"),"cannot clamp with an exclusive range")),min!==nil&&max!==nil&&0<cmp_or_fail(min,max)&&this.$raise($$($nesting,"ArgumentError"),"min argument must be smaller than max argument"),min!==nil){if(0==(c=cmp_or_fail(this,min)))return this;if(c<0)return min}return max!==nil&&0<(c=cmp_or_fail(this,max))?max:this},$Comparable_clamp$7.$$arity=-2),nil&&"clamp"}($nesting[0],$nesting)},Opal.modules["corelib/regexp"]=function(Opal){Opal.top;var $base,$super,$parent_nesting,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$coerce_to=Opal.coerce_to,$klass=Opal.klass,$send2=Opal.send2,$truthy=Opal.truthy,$gvars=Opal.gvars,$send=Opal.send;return Opal.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$=~","$attr_reader","$===","$inspect","$to_a"]),$base=$nesting[0],$super=$$($nesting,"StandardError"),$parent_nesting=$nesting,[$klass($base,$super,"RegexpError")].concat($parent_nesting),function($base,self,$Regexp_casefold$ques$15){var $Regexp_match$10,$nesting=[self=$klass($base,self,"Regexp")].concat($Regexp_casefold$ques$15);Opal.const_set($nesting[0],"IGNORECASE",1),Opal.const_set($nesting[0],"EXTENDED",2),Opal.const_set($nesting[0],"MULTILINE",4),Opal.defineProperty(self.$$prototype,"$$is_regexp",!0),function(self,$new$5){var $allocate$1,$nesting=[self].concat($new$5);Opal.def(self,"$allocate",$allocate$1=function(){var $zuper_ii,$iter=$allocate$1.$$p,allocated=nil,$zuper=nil,$zuper_i=nil;for($iter&&($allocate$1.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return(allocated=$send2(this,Opal.find_super_dispatcher(this,"allocate",$allocate$1,!1,!0),"allocate",$zuper,$iter)).uninitialized=!0,allocated},$allocate$1.$$arity=0),Opal.def(self,"$escape",$new$5=function(string){return Opal.escape_regexp(string)},$new$5.$$arity=1),Opal.def(self,"$last_match",$new$5=function(n){return null==$gvars["~"]&&($gvars["~"]=nil),null==n&&(n=nil),$truthy(n["$nil?"]())?$gvars["~"]:$gvars["~"]["$[]"](n)},$new$5.$$arity=-1),Opal.alias(self,"quote","escape"),Opal.def(self,"$union",$new$5=function($a){var is_first_part_array,quoted_validated,part,options,each_part_options,parts=Opal.slice.call(arguments,0,arguments.length);if(0==parts.length)return/(?!)/;if(1==parts.length&&parts[0].$$is_regexp)return parts[0];is_first_part_array=parts[0].$$is_array,1<parts.length&&is_first_part_array&&this.$raise($$($nesting,"TypeError"),"no implicit conversion of Array into String"),is_first_part_array&&(parts=parts[0]),options=void 0,quoted_validated=[];for(var i=0;i<parts.length;i++)(part=parts[i]).$$is_string?quoted_validated.push(this.$escape(part)):part.$$is_regexp?(each_part_options=part.$options(),null!=options&&options!=each_part_options&&this.$raise($$($nesting,"TypeError"),"All expressions must use the same options"),options=each_part_options,quoted_validated.push("("+part.source+")")):quoted_validated.push(this.$escape(part.$to_str()));return this.$new(quoted_validated.$join("|"),options)},$new$5.$$arity=-1),Opal.def(self,"$new",$new$5=function(regexp,options){var temp;return regexp.$$is_regexp?new RegExp(regexp):("\\"===(regexp=$$($nesting,"Opal")["$coerce_to!"](regexp,$$($nesting,"String"),"to_str")).charAt(regexp.length-1)&&"\\"!==regexp.charAt(regexp.length-2)&&this.$raise($$($nesting,"RegexpError"),"too short escape sequence: /"+regexp+"/"),void 0===options||options["$!"]()?new RegExp(regexp):(options=options.$$is_number?(temp="",$$($nesting,"IGNORECASE")&options&&(temp+="i"),$$($nesting,"MULTILINE")&options&&(temp+="m"),temp):"i",new RegExp(regexp,options)))},$new$5.$$arity=-2),Opal.alias(self,"compile","new")}(Opal.get_singleton_class(self),$nesting),Opal.def(self,"$==",$Regexp_casefold$ques$15=function(other){return other instanceof RegExp&&this.toString()===other.toString()},$Regexp_casefold$ques$15.$$arity=1),Opal.def(self,"$===",$Regexp_casefold$ques$15=function(string){return this.$match($$($nesting,"Opal")["$coerce_to?"](string,$$($nesting,"String"),"to_str"))!==nil},$Regexp_casefold$ques$15.$$arity=1),Opal.def(self,"$=~",$Regexp_casefold$ques$15=function(string){var $ret_or_1;return null==$gvars["~"]&&($gvars["~"]=nil),$truthy($ret_or_1=this.$match(string))?$gvars["~"].$begin(0):$ret_or_1},$Regexp_casefold$ques$15.$$arity=1),Opal.alias(self,"eql?","=="),Opal.def(self,"$inspect",$Regexp_casefold$ques$15=function(){var value=this.toString(),regexp_flags=/^\/(.*)\/([^\/]*)$/.exec(value);if(regexp_flags){for(var regexp_pattern=regexp_flags[1],regexp_flags=regexp_flags[2],chars=regexp_pattern.split(""),chars_length=chars.length,char_escaped=!1,regexp_pattern_escaped="",i=0;i<chars_length;i++){var current_char=chars[i];char_escaped||"/"!=current_char||(regexp_pattern_escaped=regexp_pattern_escaped.concat("\\")),regexp_pattern_escaped=regexp_pattern_escaped.concat(current_char),char_escaped="\\"==current_char&&!char_escaped}return"/"+regexp_pattern_escaped+"/"+regexp_flags}return value},$Regexp_casefold$ques$15.$$arity=0),Opal.def(self,"$match",$Regexp_match$10=function(string,pos){var m=$Regexp_match$10.$$p,block=m||nil;if(null==$gvars["~"]&&($gvars["~"]=nil),m&&($Regexp_match$10.$$p=null),m&&($Regexp_match$10.$$p=null),this.uninitialized&&this.$raise($$($nesting,"TypeError"),"uninitialized Regexp"),void 0===pos){if(string===nil)return $gvars["~"]=nil;m=this.exec($coerce_to(string,$$($nesting,"String"),"to_str"));return m?($gvars["~"]=$$($nesting,"MatchData").$new(this,m),block===nil?$gvars["~"]:Opal.yield1(block,$gvars["~"])):$gvars["~"]=nil}if(pos=$coerce_to(pos,$$($nesting,"Integer"),"to_int"),string===nil)return $gvars["~"]=nil;if(string=$coerce_to(string,$$($nesting,"String"),"to_str"),pos<0&&(pos+=string.length)<0)return $gvars["~"]=nil;for(var md,re=Opal.global_regexp(this);;){if(null===(md=re.exec(string)))return $gvars["~"]=nil;if(md.index>=pos)return $gvars["~"]=$$($nesting,"MatchData").$new(re,md),block===nil?$gvars["~"]:Opal.yield1(block,$gvars["~"]);re.lastIndex=md.index+1}},$Regexp_match$10.$$arity=-2),Opal.def(self,"$match?",$Regexp_casefold$ques$15=function(md,pos){if(this.uninitialized&&this.$raise($$($nesting,"TypeError"),"uninitialized Regexp"),void 0===pos)return md!==nil&&this.test($coerce_to(md,$$($nesting,"String"),"to_str"));if(pos=$coerce_to(pos,$$($nesting,"Integer"),"to_int"),md===nil)return!1;if(md=$coerce_to(md,$$($nesting,"String"),"to_str"),pos<0&&(pos+=md.length)<0)return!1;md=Opal.global_regexp(this).exec(md);return!(null===md||md.index<pos)},$Regexp_casefold$ques$15.$$arity=-2),Opal.def(self,"$~",$Regexp_casefold$ques$15=function(){return null==$gvars._&&($gvars._=nil),this["$=~"]($gvars._)},$Regexp_casefold$ques$15.$$arity=0),Opal.def(self,"$source",$Regexp_casefold$ques$15=function(){return this.source},$Regexp_casefold$ques$15.$$arity=0),Opal.def(self,"$options",$Regexp_casefold$ques$15=function(){this.uninitialized&&this.$raise($$($nesting,"TypeError"),"uninitialized Regexp");var result=0;return this.multiline&&(result|=$$($nesting,"MULTILINE")),this.ignoreCase&&(result|=$$($nesting,"IGNORECASE")),result},$Regexp_casefold$ques$15.$$arity=0),Opal.def(self,"$casefold?",$Regexp_casefold$ques$15=function(){return this.ignoreCase},$Regexp_casefold$ques$15.$$arity=0),Opal.alias(self,"to_s","source")}($nesting[0],RegExp,$nesting),function($MatchData_values_at$27,$MatchData_to_s$26){var $MatchData_values_at$27=$klass($MatchData_values_at$27,null,"MatchData"),$nesting=[$MatchData_values_at$27].concat($MatchData_to_s$26);return $MatchData_values_at$27.$$prototype.matches=nil,$MatchData_values_at$27.$attr_reader("post_match","pre_match","regexp","string"),Opal.def($MatchData_values_at$27,"$initialize",$MatchData_to_s$26=function(regexp,match_groups){($gvars["~"]=this).regexp=regexp,this.begin=match_groups.index,this.string=match_groups.input,this.pre_match=match_groups.input.slice(0,match_groups.index),this.post_match=match_groups.input.slice(match_groups.index+match_groups[0].length),this.matches=[];for(var i=0,length=match_groups.length;i<length;i++){var group=match_groups[i];null==group?this.matches.push(nil):this.matches.push(group)}},$MatchData_to_s$26.$$arity=2),Opal.def($MatchData_values_at$27,"$[]",$MatchData_to_s$26=function($a){var $post_args=Opal.slice.call(arguments,0,arguments.length);return $send(this.matches,"[]",Opal.to_a($post_args))},$MatchData_to_s$26.$$arity=-1),Opal.def($MatchData_values_at$27,"$offset",$MatchData_to_s$26=function(n){return 0!==n&&this.$raise($$($nesting,"ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[n].length]},$MatchData_to_s$26.$$arity=1),Opal.def($MatchData_values_at$27,"$==",$MatchData_to_s$26=function(other){var $ret_or_2,self=this,$ret_or_3=nil,$ret_or_4=nil,$ret_or_5=nil;return!!$truthy($$($nesting,"MatchData")["$==="](other))&&($truthy($ret_or_2=$truthy($ret_or_3=$truthy($ret_or_4=$truthy($ret_or_5=self.string==other.string)?self.regexp.toString()==other.regexp.toString():$ret_or_5)?self.pre_match==other.pre_match:$ret_or_4)?self.post_match==other.post_match:$ret_or_3)?self.begin==other.begin:$ret_or_2)},$MatchData_to_s$26.$$arity=1),Opal.alias($MatchData_values_at$27,"eql?","=="),Opal.def($MatchData_values_at$27,"$begin",$MatchData_to_s$26=function(n){return 0!==n&&this.$raise($$($nesting,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},$MatchData_to_s$26.$$arity=1),Opal.def($MatchData_values_at$27,"$end",$MatchData_to_s$26=function(n){return 0!==n&&this.$raise($$($nesting,"ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[n].length},$MatchData_to_s$26.$$arity=1),Opal.def($MatchData_values_at$27,"$captures",$MatchData_to_s$26=function(){return this.matches.slice(1)},$MatchData_to_s$26.$$arity=0),Opal.def($MatchData_values_at$27,"$inspect",$MatchData_to_s$26=function(){for(var str="#<MatchData "+this.matches[0].$inspect(),i=1,length=this.matches.length;i<length;i++)str+=" "+i+":"+this.matches[i].$inspect();return str+">"},$MatchData_to_s$26.$$arity=0),Opal.def($MatchData_values_at$27,"$length",$MatchData_to_s$26=function(){return this.matches.length},$MatchData_to_s$26.$$arity=0),Opal.alias($MatchData_values_at$27,"size","length"),Opal.def($MatchData_values_at$27,"$to_a",$MatchData_to_s$26=function(){return this.matches},$MatchData_to_s$26.$$arity=0),Opal.def($MatchData_values_at$27,"$to_s",$MatchData_to_s$26=function(){return this.matches[0]},$MatchData_to_s$26.$$arity=0),Opal.def($MatchData_values_at$27,"$values_at",$MatchData_values_at$27=function($a){for(var index,args=Opal.slice.call(arguments,0,arguments.length),values=[],i=0;i<args.length;i++)args[i].$$is_range&&((index=args[i].$to_a()).unshift(i,1),Array.prototype.splice.apply(args,index)),(index=$$($nesting,"Opal")["$coerce_to!"](args[i],$$($nesting,"Integer"),"to_int"))<0&&(index+=this.matches.length)<0?values.push(nil):values.push(this.matches[index]);return values},$MatchData_values_at$27.$$arity=-1),nil&&"values_at"}($nesting[0],$nesting)},Opal.modules["corelib/string"]=function(Opal){function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$coerce_to=Opal.coerce_to,$respond_to=Opal.respond_to,$klass=Opal.klass,$send=Opal.send,$hash2=Opal.hash2,$truthy=Opal.truthy,$gvars=Opal.gvars;return Opal.add_stubs(["$require","$include","$coerce_to?","$initialize","$===","$format","$raise","$respond_to?","$to_s","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$chomp","$[]","$to_i","$each_line","$to_proc","$to_a","$class","$match","$match?","$captures","$proc","$succ","$escape","$include?","$upcase","$unicode_normalize","$pristine"]),self.$require("corelib/comparable"),self.$require("corelib/regexp"),function($base,$super,$String_frozen$ques$77){var $String_each_line$27,$String_gsub$30,$String_lines$37,$String_match$41,$String_scan$52,$String_sub$57,$String_to_proc$62,$String_upto$68,self=$klass($base,$super,"String"),$nesting=[self].concat($String_frozen$ques$77);function char_class_from_char_sets(sets){function intersection(setA,setB){if(0===setA.length)return setB;for(var chr,result="",len=setA.length,i=0;i<len;i++)chr=setA.charAt(i),-1!==setB.indexOf(chr)&&(result+=chr);return result}for(var set,neg,chr,tmp,pos_intersection="",neg_intersection="",i=0,len=sets.length;i<len;i++)set=function(set){for(var curr_char,skip_next_dash,char_code_from,char_code_upto,char_code,result="",len=set.length,i=0;i<len;i++)if("-"===(curr_char=set.charAt(i))&&0<i&&i<len-1&&!skip_next_dash){for(char_code_from=set.charCodeAt(i-1),(char_code_upto=set.charCodeAt(i+1))<char_code_from&&self.$raise($$($nesting,"ArgumentError"),'invalid range "'+char_code_from+"-"+char_code_upto+'" in string transliteration'),char_code=char_code_from+1;char_code<char_code_upto+1;char_code++)result+=String.fromCharCode(char_code);skip_next_dash=!0,i++}else skip_next_dash="\\"===curr_char,result+=curr_char;return result}((neg="^"===(set=$coerce_to(sets[i],$$($nesting,"String"),"to_str")).charAt(0)&&1<set.length)?set.slice(1):set),neg?neg_intersection=intersection(neg_intersection,set):pos_intersection=intersection(pos_intersection,set);if(0<pos_intersection.length&&0<neg_intersection.length){for(tmp="",i=0,len=pos_intersection.length;i<len;i++)chr=pos_intersection.charAt(i),-1===neg_intersection.indexOf(chr)&&(tmp+=chr);pos_intersection=tmp,neg_intersection=""}return 0<pos_intersection.length?"["+$$($nesting,"Regexp").$escape(pos_intersection)+"]":0<neg_intersection.length?"[^"+$$($nesting,"Regexp").$escape(neg_intersection)+"]":null}self.$include($$($nesting,"Comparable")),Opal.defineProperty(self.$$prototype,"$$is_string",!0),Opal.defineProperty(self.$$prototype,"$$cast",function(string){var klass=this.$$class;return klass.$$constructor===String?string:new klass.$$constructor(string)}),Opal.def(self,"$__id__",$String_frozen$ques$77=function(){return this.toString()},$String_frozen$ques$77.$$arity=0),Opal.alias(self,"object_id","__id__"),Opal.defs(self,"$try_convert",$String_frozen$ques$77=function(what){return $$($nesting,"Opal")["$coerce_to?"](what,$$($nesting,"String"),"to_str")},$String_frozen$ques$77.$$arity=1),Opal.defs(self,"$new",$String_frozen$ques$77=function($a){var args=Opal.slice.call(arguments,0,arguments.length),str=args[0]||"",opts=args[args.length-1],str=$coerce_to(str,$$($nesting,"String"),"to_str");return opts&&opts.$$is_hash&&opts.$$smap.encoding&&(str=str.$force_encoding(opts.$$smap.encoding)),(str=new this.$$constructor(str)).$initialize.$$pristine||$send(str,"initialize",Opal.to_a(args)),str},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$initialize",$String_frozen$ques$77=function($a,$b){var $post_args=Opal.slice.call(arguments,0,arguments.length),$kwargs=Opal.extract_kwargs($post_args);if(null==$kwargs)$kwargs=$hash2([],{});else if(!$kwargs.$$is_hash)throw Opal.ArgumentError.$new("expected kwargs");return 0<$post_args.length&&($post_args[0],$post_args.splice(0,1)),null==$kwargs.$$smap.encoding&&0,null==$kwargs.$$smap.capacity&&0,nil},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$%",$String_frozen$ques$77=function(data){var self=this;return $truthy($$($nesting,"Array")["$==="](data))?$send(self,"format",[self].concat(Opal.to_a(data))):self.$format(self,data)},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$*",$String_frozen$ques$77=function(count){if((count=$coerce_to(count,$$($nesting,"Integer"),"to_int"))<0&&this.$raise($$($nesting,"ArgumentError"),"negative argument"),0===count)return this.$$cast("");var result="",string=this.toString();for(string.length*count>=1<<28&&this.$raise($$($nesting,"RangeError"),"multiply count must not overflow maximum string size");1==(1&count)&&(result+=string),0!==(count>>>=1);)string+=string;return this.$$cast(result)},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$+",$String_frozen$ques$77=function(other){if(""==(other=$coerce_to(other,$$($nesting,"String"),"to_str"))&&this.$$class===Opal.String)return this;if(""==this&&other.$$class===Opal.String)return other;var out=this+other;return this.encoding===out.encoding&&other.encoding===out.encoding||"UTF-8"===this.encoding.name||"UTF-8"===other.encoding.name?out:Opal.enc(out,this.encoding)},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$<=>",$String_frozen$ques$77=function(cmp){if($truthy(cmp["$respond_to?"]("to_str")))return(cmp=cmp.$to_str().$to_s())<this?1:this<cmp?-1:0;cmp=cmp["$<=>"](this);return cmp===nil?nil:0<cmp?-1:cmp<0?1:0},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$==",$String_frozen$ques$77=function(other){return other.$$is_string?this.toString()===other.toString():!!$respond_to(other,"$to_str")&&other["$=="](this)},$String_frozen$ques$77.$$arity=1),Opal.alias(self,"eql?","=="),Opal.alias(self,"===","=="),Opal.def(self,"$=~",$String_frozen$ques$77=function(other){return other.$$is_string&&this.$raise($$($nesting,"TypeError"),"type mismatch: String given"),other["$=~"](this)},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$[]",$String_frozen$ques$77=function(index,length){var size=this.length;if(index.$$is_range)return match=index.excl,length=$coerce_to(index.end,$$($nesting,"Integer"),"to_int"),index=$coerce_to(index.begin,$$($nesting,"Integer"),"to_int"),Math.abs(index)>size?nil:(index<0&&(index+=size),length<0&&(length+=size),match||(length+=1),(length-=index)<0&&(length=0),this.$$cast(this.substr(index,length)));if(index.$$is_string)return null!=length&&this.$raise($$($nesting,"TypeError")),-1!==this.indexOf(index)?this.$$cast(index):nil;if(index.$$is_regexp){var match=this.match(index);return null===match?$gvars["~"]=nil:($gvars["~"]=$$($nesting,"MatchData").$new(index,match),null==length?this.$$cast(match[0]):(length=$coerce_to(length,$$($nesting,"Integer"),"to_int"))<0&&-length<match.length?this.$$cast(match[length+=match.length]):0<=length&&length<match.length?this.$$cast(match[length]):nil)}return(index=$coerce_to(index,$$($nesting,"Integer"),"to_int"))<0&&(index+=size),null==length?size<=index||index<0?nil:this.$$cast(this.substr(index,1)):(length=$coerce_to(length,$$($nesting,"Integer"),"to_int"))<0||size<index||index<0?nil:this.$$cast(this.substr(index,length))},$String_frozen$ques$77.$$arity=-2),Opal.alias(self,"byteslice","[]"),Opal.def(self,"$b",$String_frozen$ques$77=function(){return new String(this).$force_encoding("binary")},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$capitalize",$String_frozen$ques$77=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$casecmp",$String_frozen$ques$77=function(other){var self=this;if(!$truthy(other["$respond_to?"]("to_str")))return nil;other=$coerce_to(other,$$($nesting,"String"),"to_str").$to_s();var ascii_only=/^[\x00-\x7F]*$/;return ascii_only.test(self)&&ascii_only.test(other)&&(self=self.toLowerCase(),other=other.toLowerCase()),self["$<=>"](other)},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$casecmp?",$String_frozen$ques$77=function(cmp){cmp=this.$casecmp(cmp);return cmp===nil?nil:0===cmp},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$center",$String_frozen$ques$77=function(width,rjustified){if(null==rjustified&&(rjustified=" "),width=$coerce_to(width,$$($nesting,"Integer"),"to_int"),rjustified=$coerce_to(rjustified,$$($nesting,"String"),"to_str").$to_s(),$truthy(rjustified["$empty?"]())&&this.$raise($$($nesting,"ArgumentError"),"zero width padding"),$truthy(width<=this.length))return this;var ljustified=this.$ljust($rb_divide($rb_plus(width,this.length),2).$ceil(),rjustified),rjustified=this.$rjust($rb_divide($rb_plus(width,this.length),2).$floor(),rjustified);return this.$$cast(rjustified+ljustified.slice(this.length))},$String_frozen$ques$77.$$arity=-2),Opal.def(self,"$chomp",$String_frozen$ques$77=function(separator){var result;return null==$gvars["/"]&&($gvars["/"]=nil),null==separator&&(separator=$gvars["/"]),$truthy(separator===nil||0===this.length)?this:("\n"===(separator=$$($nesting,"Opal")["$coerce_to!"](separator,$$($nesting,"String"),"to_str").$to_s())?result=this.replace(/\r?\n?$/,""):""===separator?result=this.replace(/(\r?\n)+$/,""):this.length>=separator.length&&this.substr(this.length-separator.length,separator.length)===separator&&(result=this.substr(0,this.length-separator.length)),null!=result?this.$$cast(result):this)},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$chop",$String_frozen$ques$77=function(){var result=this.length,result=result<=1?"":"\n"===this.charAt(result-1)&&"\r"===this.charAt(result-2)?this.substr(0,result-2):this.substr(0,result-1);return this.$$cast(result)},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$chr",$String_frozen$ques$77=function(){return this.charAt(0)},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$clone",$String_frozen$ques$77=function(){var copy=nil;return(copy=new String(this)).$copy_singleton_methods(this),copy.$initialize_clone(this),copy},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$dup",$String_frozen$ques$77=function(){var copy=nil;return(copy=new String(this)).$initialize_dup(this),copy},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$count",$String_frozen$ques$77=function($a){var char_class=Opal.slice.call(arguments,0,arguments.length);0===char_class.length&&this.$raise($$($nesting,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");char_class=char_class_from_char_sets(char_class);return null===char_class?0:this.length-this.replace(new RegExp(char_class,"g"),"").length},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$delete",$String_frozen$ques$77=function($a){var char_class=Opal.slice.call(arguments,0,arguments.length);0===char_class.length&&this.$raise($$($nesting,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");char_class=char_class_from_char_sets(char_class);return null===char_class?this:this.$$cast(this.replace(new RegExp(char_class,"g"),""))},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$delete_prefix",$String_frozen$ques$77=function(prefix){return prefix.$$is_string||(prefix=$coerce_to(prefix,$$($nesting,"String"),"to_str")),this.slice(0,prefix.length)===prefix?this.$$cast(this.slice(prefix.length)):this},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$delete_suffix",$String_frozen$ques$77=function(suffix){return suffix.$$is_string||(suffix=$coerce_to(suffix,$$($nesting,"String"),"to_str")),this.slice(this.length-suffix.length)===suffix?this.$$cast(this.slice(0,this.length-suffix.length)):this},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$downcase",$String_frozen$ques$77=function(){return this.$$cast(this.toLowerCase())},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$each_line",$String_each_line$27=function(separator){var a,i,n,length,trailing,splitted,value,chomped=$String_each_line$27.$$p,block=chomped||nil;if(null==$gvars["/"]&&($gvars["/"]=nil),chomped&&($String_each_line$27.$$p=null),chomped&&($String_each_line$27.$$p=null),null==separator&&(separator=$gvars["/"]),block===nil)return this.$enum_for("each_line",separator);if(separator===nil)return Opal.yield1(block,this),this;if(0===(separator=$coerce_to(separator,$$($nesting,"String"),"to_str")).length){for(i=0,n=(a=this.split(/(\n{2,})/)).length;i<n;i+=2)(a[i]||a[i+1])&&(value=(a[i]||"")+(a[i+1]||""),Opal.yield1(block,this.$$cast(value)));return this}for(chomped=this.$chomp(separator),trailing=this.length!=chomped.length,i=0,length=(splitted=chomped.split(separator)).length;i<length;i++)i<length-1||trailing?Opal.yield1(block,this.$$cast(splitted[i]+separator)):Opal.yield1(block,this.$$cast(splitted[i]));return this},$String_each_line$27.$$arity=-1),Opal.def(self,"$empty?",$String_frozen$ques$77=function(){return 0===this.length},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$end_with?",$String_frozen$ques$77=function($a){for(var suffixes=Opal.slice.call(arguments,0,arguments.length),i=0,length=suffixes.length;i<length;i++){var suffix=$coerce_to(suffixes[i],$$($nesting,"String"),"to_str").$to_s();if(this.length>=suffix.length&&this.substr(this.length-suffix.length,suffix.length)==suffix)return!0}return!1},$String_frozen$ques$77.$$arity=-1),Opal.alias(self,"equal?","==="),Opal.def(self,"$gsub",$String_gsub$30=function(pattern,replacement){var $iter=$String_gsub$30.$$p,block=$iter||nil,self=this;if($iter&&($String_gsub$30.$$p=null),$iter&&($String_gsub$30.$$p=null),void 0===replacement&&block===nil)return self.$enum_for("gsub",pattern);var match,_replacement,lastIndex,result="",match_data=nil,index=0;for(pattern=pattern.$$is_regexp?Opal.global_multiline_regexp(pattern):(pattern=$coerce_to(pattern,$$($nesting,"String"),"to_str"),new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(match=pattern.exec(self))){$gvars["~"]=nil,result+=self.slice(index);break}match_data=$$($nesting,"MatchData").$new(pattern,match),void 0===replacement?(lastIndex=pattern.lastIndex,_replacement=block(match[0]),pattern.lastIndex=lastIndex):_replacement=replacement.$$is_hash?replacement["$[]"](match[0]).$to_s():(replacement.$$is_string||(replacement=$coerce_to(replacement,$$($nesting,"String"),"to_str")),replacement.replace(/([\\]+)([0-9+&`'])/g,function(original,slashes,command){if(slashes.length%2==0)return original;switch(command){case"+":for(var i=match.length-1;0<i;i--)if(void 0!==match[i])return slashes.slice(1)+match[i];return"";case"&":return slashes.slice(1)+match[0];case"`":return slashes.slice(1)+self.slice(0,match.index);case"'":return slashes.slice(1)+self.slice(match.index+match[0].length);default:return slashes.slice(1)+(match[command]||"")}}).replace(/\\\\/g,"\\")),pattern.lastIndex===match.index?(result+=self.slice(index,match.index)+_replacement+(self[match.index]||""),pattern.lastIndex+=1):result+=self.slice(index,match.index)+_replacement,index=pattern.lastIndex}return $gvars["~"]=match_data,self.$$cast(result)},$String_gsub$30.$$arity=-2),Opal.def(self,"$hash",$String_frozen$ques$77=function(){return this.toString()},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$hex",$String_frozen$ques$77=function(){return this.$to_i(16)},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$include?",$String_frozen$ques$77=function(other){return other.$$is_string||(other=$coerce_to(other,$$($nesting,"String"),"to_str")),-1!==this.indexOf(other)},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$index",$String_frozen$ques$77=function(search,offset){var index,match,regex;if(void 0===offset)offset=0;else if(offset=$coerce_to(offset,$$($nesting,"Integer"),"to_int"),offset<0&&(offset+=this.length)<0)return nil;if(search.$$is_regexp)for(regex=Opal.global_multiline_regexp(search);;){if(null===(match=regex.exec(this))){$gvars["~"]=nil,index=-1;break}if(match.index>=offset){$gvars["~"]=$$($nesting,"MatchData").$new(regex,match),index=match.index;break}regex.lastIndex=match.index+1}else index=0===(search=$coerce_to(search,$$($nesting,"String"),"to_str")).length&&offset>this.length?-1:this.indexOf(search,offset);return-1===index?nil:index},$String_frozen$ques$77.$$arity=-2),Opal.def(self,"$inspect",$String_frozen$ques$77=function(){var self=this,meta={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+self.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(chr){return meta[chr]||((chr=chr.charCodeAt(0))<=255&&(self.encoding["$binary?"]()||self.internal_encoding["$binary?"]())?"\\x"+("00"+chr.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+chr.toString(16).toUpperCase()).slice(-4))}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$intern",$String_frozen$ques$77=function(){return this.toString()},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$lines",$String_lines$37=function(separator){var $iter=$String_lines$37.$$p,block=$iter||nil,e=nil;return null==$gvars["/"]&&($gvars["/"]=nil),$iter&&($String_lines$37.$$p=null),$iter&&($String_lines$37.$$p=null),null==separator&&(separator=$gvars["/"]),e=$send(this,"each_line",[separator],block.$to_proc()),$truthy(block)?this:e.$to_a()},$String_lines$37.$$arity=-1),Opal.def(self,"$ljust",$String_frozen$ques$77=function(width,padstr){if(null==padstr&&(padstr=" "),width=$coerce_to(width,$$($nesting,"Integer"),"to_int"),padstr=$coerce_to(padstr,$$($nesting,"String"),"to_str").$to_s(),$truthy(padstr["$empty?"]())&&this.$raise($$($nesting,"ArgumentError"),"zero width padding"),$truthy(width<=this.length))return this;var index=-1,result="";for(width-=this.length;++index<width;)result+=padstr;return this.$$cast(this+result.slice(0,width))},$String_frozen$ques$77.$$arity=-2),Opal.def(self,"$lstrip",$String_frozen$ques$77=function(){return this.replace(/^\s*/,"")},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$ascii_only?",$String_frozen$ques$77=function(){return!!this.encoding.ascii&&/^[\x00-\x7F]*$/.test(this)},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$match",$String_match$41=function(pattern,pos){var $iter=$String_match$41.$$p,block=$iter||nil,$ret_or_1=nil;return $iter&&($String_match$41.$$p=null),$iter&&($String_match$41.$$p=null),$truthy($truthy($ret_or_1=$$($nesting,"String")["$==="](pattern))?$ret_or_1:pattern["$respond_to?"]("to_str"))&&(pattern=$$($nesting,"Regexp").$new(pattern.$to_str())),$truthy($$($nesting,"Regexp")["$==="](pattern))||this.$raise($$($nesting,"TypeError"),"wrong argument type "+pattern.$class()+" (expected Regexp)"),$send(pattern,"match",[this,pos],block.$to_proc())},$String_match$41.$$arity=-2),Opal.def(self,"$match?",$String_frozen$ques$77=function(pattern,pos){var $ret_or_2=nil;return $truthy($truthy($ret_or_2=$$($nesting,"String")["$==="](pattern))?$ret_or_2:pattern["$respond_to?"]("to_str"))&&(pattern=$$($nesting,"Regexp").$new(pattern.$to_str())),$truthy($$($nesting,"Regexp")["$==="](pattern))||this.$raise($$($nesting,"TypeError"),"wrong argument type "+pattern.$class()+" (expected Regexp)"),pattern["$match?"](this,pos)},$String_frozen$ques$77.$$arity=-2),Opal.def(self,"$next",$String_frozen$ques$77=function(){var i=this.length;if(0===i)return this.$$cast("");for(var code,result=this,first_alphanum_char_index=this.search(/[a-zA-Z0-9]/),carry=!1;i--;){if(48<=(code=this.charCodeAt(i))&&code<=57||65<=code&&code<=90||97<=code&&code<=122)switch(code){case 57:carry=!0,code=48;break;case 90:carry=!0,code=65;break;case 122:carry=!0,code=97;break;default:carry=!1,code+=1}else-1===first_alphanum_char_index?255===code?(carry=!0,code=0):(carry=!1,code+=1):carry=!0;if(result=result.slice(0,i)+String.fromCharCode(code)+result.slice(i+1),carry&&(0===i||i===first_alphanum_char_index)){switch(code){case 65:case 97:break;default:code+=1}result=0===i?String.fromCharCode(code)+result:result.slice(0,i)+String.fromCharCode(code)+result.slice(i),carry=!1}if(!carry)break}return this.$$cast(result)},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$oct",$String_frozen$ques$77=function(){var result=this,radix=8;return/^\s*_/.test(result)?0:(result=result.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(original,head,flag,tail){switch(tail.charAt(0)){case"+":case"-":return original;case"0":if("x"===tail.charAt(1)&&"0x"===flag)return original}switch(flag){case"0b":radix=2;break;case"0":case"0o":radix=8;break;case"0d":radix=10;break;case"0x":radix=16}return head+tail}),result=parseInt(result.replace(/_(?!_)/g,""),radix),isNaN(result)?0:result)},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$ord",$String_frozen$ques$77=function(){return"function"==typeof this.codePointAt?this.codePointAt(0):this.charCodeAt(0)},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$partition",$String_frozen$ques$77=function(sep){var i=sep.$$is_regexp?null===(i=sep.exec(this))?-1:($$($nesting,"MatchData").$new(sep,i),sep=i[0],i.index):(sep=$coerce_to(sep,$$($nesting,"String"),"to_str"),this.indexOf(sep));return-1===i?[this,"",""]:[this.slice(0,i),this.slice(i,i+sep.length),this.slice(i+sep.length)]},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$reverse",$String_frozen$ques$77=function(){return this.split("").reverse().join("")},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$rindex",$String_frozen$ques$77=function(search,offset){var i,m,r,_m;if(void 0===offset)offset=this.length;else if(offset=$coerce_to(offset,$$($nesting,"Integer"),"to_int"),offset<0&&(offset+=this.length)<0)return nil;if(search.$$is_regexp){for(m=null,r=Opal.global_multiline_regexp(search);!(null===(_m=r.exec(this))||_m.index>offset);)m=_m,r.lastIndex=m.index+1;i=null===m?($gvars["~"]=nil,-1):($$($nesting,"MatchData").$new(r,m),m.index)}else search=$coerce_to(search,$$($nesting,"String"),"to_str"),i=this.lastIndexOf(search,offset);return-1===i?nil:i},$String_frozen$ques$77.$$arity=-2),Opal.def(self,"$rjust",$String_frozen$ques$77=function(result,padstr){if(null==padstr&&(padstr=" "),result=$coerce_to(result,$$($nesting,"Integer"),"to_int"),padstr=$coerce_to(padstr,$$($nesting,"String"),"to_str").$to_s(),$truthy(padstr["$empty?"]())&&this.$raise($$($nesting,"ArgumentError"),"zero width padding"),$truthy(result<=this.length))return this;var remaining=Math.floor(result-this.length),result=Math.floor(remaining/padstr.length),result=Array(result+1).join(padstr),remaining=remaining-result.length;return this.$$cast(result+padstr.slice(0,remaining)+this)},$String_frozen$ques$77.$$arity=-2),Opal.def(self,"$rpartition",$String_frozen$ques$77=function(sep){var i,m,r,_m;if(sep.$$is_regexp){for(m=null,r=Opal.global_multiline_regexp(sep);null!==(_m=r.exec(this));)m=_m,r.lastIndex=m.index+1;i=null===m?-1:($$($nesting,"MatchData").$new(r,m),sep=m[0],m.index)}else sep=$coerce_to(sep,$$($nesting,"String"),"to_str"),i=this.lastIndexOf(sep);return-1===i?["","",this]:[this.slice(0,i),this.slice(i,i+sep.length),this.slice(i+sep.length)]},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$rstrip",$String_frozen$ques$77=function(){return this.replace(/[\s\u0000]*$/,"")},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$scan",$String_scan$52=function(pattern){var $iter=$String_scan$52.$$p,block=$iter||nil;$iter&&($String_scan$52.$$p=null),$iter&&($String_scan$52.$$p=null);var match,result=[],match_data=nil;for(pattern=pattern.$$is_regexp?Opal.global_multiline_regexp(pattern):(pattern=$coerce_to(pattern,$$($nesting,"String"),"to_str"),new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(match=pattern.exec(this));)match_data=$$($nesting,"MatchData").$new(pattern,match),block===nil?1==match.length?result.push(match[0]):result.push(match_data.$captures()):1==match.length?block(match[0]):block.call(this,match_data.$captures()),pattern.lastIndex===match.index&&(pattern.lastIndex+=1);return $gvars["~"]=match_data,block!==nil?this:result},$String_scan$52.$$arity=1),Opal.alias(self,"slice","[]"),Opal.def(self,"$split",$String_frozen$ques$77=function(pattern,limit){var self=this,$ret_or_3=nil;if(null==$gvars[";"]&&($gvars[";"]=nil),0===self.length)return[];if(void 0===limit)limit=0;else if(1===(limit=$$($nesting,"Opal")["$coerce_to!"](limit,$$($nesting,"Integer"),"to_int")))return[self];void 0!==pattern&&pattern!==nil||(pattern=$truthy($ret_or_3=$gvars[";"])?$ret_or_3:" ");var match,i,ii,result=[],string=self.toString(),index=0;if(pattern.$$is_regexp?pattern=Opal.global_multiline_regexp(pattern):" "===(pattern=$coerce_to(pattern,$$($nesting,"String"),"to_str").$to_s())?(pattern=/\s+/gm,string=string.replace(/^\s+/,"")):pattern=new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(result=string.split(pattern)).length&&result[0]===string)return[self.$$cast(result[0])];for(;-1!==(i=result.indexOf(void 0));)result.splice(i,1);function castResult(){for(i=0;i<result.length;i++)result[i]=self.$$cast(result[i])}if(0===limit){for(;""===result[result.length-1];)--result.length;return castResult(),result}if(match=pattern.exec(string),limit<0){if(null!==match&&""===match[0]&&-1===pattern.source.indexOf("(?="))for(i=0,ii=match.length;i<ii;i++)result.push("");return castResult(),result}if(null!==match&&""===match[0])return result.splice(limit-1,result.length-1,result.slice(limit-1).join("")),castResult(),result;if(limit>=result.length)return castResult(),result;for(i=0;null!==match&&(i++,index=pattern.lastIndex,i+1!==limit);)match=pattern.exec(string);return result.splice(limit-1,result.length-1,string.slice(index)),castResult(),result},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$squeeze",$String_frozen$ques$77=function($a){var char_class=Opal.slice.call(arguments,0,arguments.length);if(0===char_class.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));char_class=char_class_from_char_sets(char_class);return null===char_class?this:this.$$cast(this.replace(new RegExp("("+char_class+")\\1+","g"),"$1"))},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$start_with?",$String_frozen$ques$77=function($a){for(var prefixes=Opal.slice.call(arguments,0,arguments.length),i=0,length=prefixes.length;i<length;i++)if(prefixes[i].$$is_regexp){var regexp=prefixes[i],prefix=regexp.exec(this);if(null!=prefix&&0===prefix.index)return $gvars["~"]=$$($nesting,"MatchData").$new(regexp,prefix),!0;$gvars["~"]=nil}else{prefix=$coerce_to(prefixes[i],$$($nesting,"String"),"to_str").$to_s();if(0===this.indexOf(prefix))return!0}return!1},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$strip",$String_frozen$ques$77=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$sub",$String_sub$57=function(pattern,result){var $iter=$String_sub$57.$$p,block=$iter||nil,self=this;$iter&&($String_sub$57.$$p=null),$iter&&($String_sub$57.$$p=null),pattern.$$is_regexp||(pattern=$coerce_to(pattern,$$($nesting,"String"),"to_str"),pattern=new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var match=pattern.exec(self),result=null===match?($gvars["~"]=nil,self.toString()):($$($nesting,"MatchData").$new(pattern,match),void 0===result?(block===nil&&self.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (1 for 2)"),self.slice(0,match.index)+block(match[0])+self.slice(match.index+match[0].length)):result.$$is_hash?self.slice(0,match.index)+result["$[]"](match[0]).$to_s()+self.slice(match.index+match[0].length):(result=(result=$coerce_to(result,$$($nesting,"String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(original,slashes,command){if(slashes.length%2==0)return original;switch(command){case"+":for(var i=match.length-1;0<i;i--)if(void 0!==match[i])return slashes.slice(1)+match[i];return"";case"&":return slashes.slice(1)+match[0];case"`":return slashes.slice(1)+self.slice(0,match.index);case"'":return slashes.slice(1)+self.slice(match.index+match[0].length);default:return slashes.slice(1)+(match[command]||"")}}).replace(/\\\\/g,"\\"),self.slice(0,match.index)+result+self.slice(match.index+match[0].length)));return self.$$cast(result)},$String_sub$57.$$arity=-2),Opal.alias(self,"succ","next"),Opal.def(self,"$sum",$String_frozen$ques$77=function(n){null==n&&(n=16),n=$coerce_to(n,$$($nesting,"Integer"),"to_int");for(var result=0,length=this.length,i=0;i<length;i++)result+=this.charCodeAt(i);return n<=0?result:result&Math.pow(2,n)-1},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$swapcase",$String_frozen$ques$77=function(){var str=this.replace(/([a-z]+)|([A-Z]+)/g,function($0,$1,$2){return $1?$0.toUpperCase():$0.toLowerCase()});return this.constructor===String?str:this.$class().$new(str)},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$to_f",$String_frozen$ques$77=function(){if("_"===this.charAt(0))return 0;var result=parseFloat(this.replace(/_/g,""));return isNaN(result)||result==1/0||result==-1/0?0:result},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$to_i",$String_frozen$ques$77=function(base){null==base&&(base=10);var result=this.toLowerCase(),radix=$coerce_to(base,$$($nesting,"Integer"),"to_int");return(1===radix||radix<0||36<radix)&&this.$raise($$($nesting,"ArgumentError"),"invalid radix "+radix),/^\s*_/.test(result)?0:(result=result.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(original,head,flag,tail){switch(tail.charAt(0)){case"+":case"-":return original;case"0":if("x"===tail.charAt(1)&&"0x"===flag&&(0===radix||16===radix))return original}switch(flag){case"0b":if(0===radix||2===radix)return radix=2,head+tail;break;case"0":case"0o":if(0===radix||8===radix)return radix=8,head+tail;break;case"0d":if(0===radix||10===radix)return radix=10,head+tail;break;case"0x":if(0===radix||16===radix)return radix=16,head+tail}return original}),result=parseInt(result.replace(/_(?!_)/g,""),radix),isNaN(result)?0:result)},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$to_proc",$String_to_proc$62=function(){var $$63,method_name,$iter=$String_to_proc$62.$$p;return $iter&&($String_to_proc$62.$$p=null),method_name=$rb_plus("$",this.valueOf()),$send(this,"proc",[],(($$63=function($a){var args,body=null==$$63.$$s?this:$$63.$$s,recv=$$63.$$p,block=recv||nil;recv&&($$63.$$p=null),0===(args=Opal.slice.call(arguments,0,arguments.length)).length&&body.$raise($$($nesting,"ArgumentError"),"no receiver given");recv=args[0];null==recv&&(recv=nil);body=recv[method_name];return body?("function"==typeof block&&(body.$$p=block),1===args.length?body.call(recv):body.apply(recv,args.slice(1))):recv.$method_missing.apply(recv,args)}).$$s=this,$$63.$$arity=-1,$$63))},$String_to_proc$62.$$arity=0),Opal.def(self,"$to_s",$String_frozen$ques$77=function(){return this.toString()},$String_frozen$ques$77.$$arity=0),Opal.alias(self,"to_str","to_s"),Opal.alias(self,"to_sym","intern"),Opal.def(self,"$tr",$String_frozen$ques$77=function(from,to){var c,ch,start,end,length;if(from=$coerce_to(from,$$($nesting,"String"),"to_str").$to_s(),to=$coerce_to(to,$$($nesting,"String"),"to_str").$to_s(),0==from.length||from===to)return this;var subs={},from_chars=from.split(""),from_length=from_chars.length,to_chars=to.split(""),to_length=to_chars.length,inverse=!1,global_sub=null;"^"===from_chars[0]&&1<from_chars.length&&(inverse=!0,from_chars.shift(),global_sub=to_chars[to_length-1],--from_length);var from_chars_expanded=[],last_from=null;for(in_range=!1,i=0;i<from_length;i++)if(ch=from_chars[i],null==last_from)last_from=ch,from_chars_expanded.push(ch);else if("-"===ch)"-"===last_from?(from_chars_expanded.push("-"),from_chars_expanded.push("-")):i==from_length-1?from_chars_expanded.push("-"):in_range=!0;else if(in_range){for(start=last_from.charCodeAt(0),(end=ch.charCodeAt(0))<start&&this.$raise($$($nesting,"ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration'),c=start+1;c<end;c++)from_chars_expanded.push(String.fromCharCode(c));from_chars_expanded.push(ch),last_from=in_range=null}else from_chars_expanded.push(ch);if(from_length=(from_chars=from_chars_expanded).length,inverse)for(i=0;i<from_length;i++)subs[from_chars[i]]=!0;else{if(0<to_length){for(var to_chars_expanded=[],last_to=null,in_range=!1,i=0;i<to_length;i++)if(ch=to_chars[i],null==last_to)last_to=ch,to_chars_expanded.push(ch);else if("-"===ch)"-"===last_to?(to_chars_expanded.push("-"),to_chars_expanded.push("-")):i==to_length-1?to_chars_expanded.push("-"):in_range=!0;else if(in_range){for(start=last_to.charCodeAt(0),(end=ch.charCodeAt(0))<start&&this.$raise($$($nesting,"ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration'),c=start+1;c<end;c++)to_chars_expanded.push(String.fromCharCode(c));to_chars_expanded.push(ch),last_to=in_range=null}else to_chars_expanded.push(ch);to_length=(to_chars=to_chars_expanded).length}var length_diff=from_length-to_length;if(0<length_diff){var pad_char=0<to_length?to_chars[to_length-1]:"";for(i=0;i<length_diff;i++)to_chars.push(pad_char)}for(i=0;i<from_length;i++)subs[from_chars[i]]=to_chars[i]}var new_str="";for(i=0,length=this.length;i<length;i++){var sub=subs[ch=this.charAt(i)];new_str+=inverse?null==sub?global_sub:ch:null!=sub?sub:ch}return this.$$cast(new_str)},$String_frozen$ques$77.$$arity=2),Opal.def(self,"$tr_s",$String_frozen$ques$77=function(from,to){var c,ch,start,end,length;if(from=$coerce_to(from,$$($nesting,"String"),"to_str").$to_s(),to=$coerce_to(to,$$($nesting,"String"),"to_str").$to_s(),0==from.length)return this;var subs={},from_chars=from.split(""),from_length=from_chars.length,to_chars=to.split(""),to_length=to_chars.length,inverse=!1,global_sub=null;"^"===from_chars[0]&&1<from_chars.length&&(inverse=!0,from_chars.shift(),global_sub=to_chars[to_length-1],--from_length);var from_chars_expanded=[],last_from=null;for(in_range=!1,i=0;i<from_length;i++)if(ch=from_chars[i],null==last_from)last_from=ch,from_chars_expanded.push(ch);else if("-"===ch)"-"===last_from?(from_chars_expanded.push("-"),from_chars_expanded.push("-")):i==from_length-1?from_chars_expanded.push("-"):in_range=!0;else if(in_range){for(start=last_from.charCodeAt(0),(end=ch.charCodeAt(0))<start&&this.$raise($$($nesting,"ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration'),c=start+1;c<end;c++)from_chars_expanded.push(String.fromCharCode(c));from_chars_expanded.push(ch),last_from=in_range=null}else from_chars_expanded.push(ch);if(from_length=(from_chars=from_chars_expanded).length,inverse)for(i=0;i<from_length;i++)subs[from_chars[i]]=!0;else{if(0<to_length){for(var to_chars_expanded=[],in_range=!1,i=0;i<to_length;i++)if(ch=to_chars[i],null==last_from)last_from=ch,to_chars_expanded.push(ch);else if("-"===ch)i==to_length-1?to_chars_expanded.push("-"):in_range=!0;else if(in_range){for(start=last_from.charCodeAt(0),(end=ch.charCodeAt(0))<start&&this.$raise($$($nesting,"ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration'),c=start+1;c<end;c++)to_chars_expanded.push(String.fromCharCode(c));to_chars_expanded.push(ch),last_from=in_range=null}else to_chars_expanded.push(ch);to_length=(to_chars=to_chars_expanded).length}var length_diff=from_length-to_length;if(0<length_diff){var pad_char=0<to_length?to_chars[to_length-1]:"";for(i=0;i<length_diff;i++)to_chars.push(pad_char)}for(i=0;i<from_length;i++)subs[from_chars[i]]=to_chars[i]}var new_str="",last_substitute=null;for(i=0,length=this.length;i<length;i++){var sub=subs[ch=this.charAt(i)];inverse?null==sub?null==last_substitute&&(new_str+=global_sub,last_substitute=!0):(new_str+=ch,last_substitute=null):null!=sub?null!=last_substitute&&last_substitute===sub||(new_str+=sub,last_substitute=sub):(new_str+=ch,last_substitute=null)}return this.$$cast(new_str)},$String_frozen$ques$77.$$arity=2),Opal.def(self,"$upcase",$String_frozen$ques$77=function(){return this.$$cast(this.toUpperCase())},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$upto",$String_upto$68=function(stop,excl){var $iter=$String_upto$68.$$p,block=$iter||nil;if($iter&&($String_upto$68.$$p=null),$iter&&($String_upto$68.$$p=null),null==excl&&(excl=!1),block===nil)return this.$enum_for("upto",stop,excl);var a,b,s=this.toString();if(stop=$coerce_to(stop,$$($nesting,"String"),"to_str"),1===s.length&&1===stop.length)for(a=s.charCodeAt(0),b=stop.charCodeAt(0);a<=b&&(!excl||a!==b);)block(String.fromCharCode(a)),a+=1;else if(parseInt(s,10).toString()===s&&parseInt(stop,10).toString()===stop)for(a=parseInt(s,10),b=parseInt(stop,10);a<=b&&(!excl||a!==b);)block(a.toString()),a+=1;else for(;s.length<=stop.length&&s<=stop&&(!excl||s!==stop);)block(s),s=s.$succ();return this},$String_upto$68.$$arity=-2),Opal.def(self,"$instance_variables",$String_frozen$ques$77=function(){return[]},$String_frozen$ques$77.$$arity=0),Opal.defs(self,"$_load",$String_frozen$ques$77=function($a){var $post_args=Opal.slice.call(arguments,0,arguments.length);return $send(this,"new",Opal.to_a($post_args))},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$unicode_normalize",$String_frozen$ques$77=function(form){return null==form&&(form="nfc"),$truthy(["nfc","nfd","nfkc","nfkd"]["$include?"](form))||this.$raise($$($nesting,"ArgumentError"),"Invalid normalization form "+form),this.normalize(form.$upcase())},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$unicode_normalized?",$String_frozen$ques$77=function(form){return null==form&&(form="nfc"),this.$unicode_normalize(form)["$=="](this)},$String_frozen$ques$77.$$arity=-1),Opal.def(self,"$unpack",$String_frozen$ques$77=function(){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$unpack1",$String_frozen$ques$77=function(){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},$String_frozen$ques$77.$$arity=1),Opal.def(self,"$freeze",$String_frozen$ques$77=function(){return"string"==typeof this||(this.$$frozen=!0),this},$String_frozen$ques$77.$$arity=0),Opal.alias(self,"+@","dup"),Opal.def(self,"$-@",$String_frozen$ques$77=function(){return"string"==typeof this||!0===this.$$frozen?this:"UTF-8"==this.encoding.name&&"UTF-8"==this.internal_encoding.name?this.toString():this.$dup().$freeze()},$String_frozen$ques$77.$$arity=0),Opal.def(self,"$frozen?",$String_frozen$ques$77=function(){return"string"==typeof this||!0===this.$$frozen},$String_frozen$ques$77.$$arity=0),$$($nesting,"Opal").$pristine(self,"initialize")}($nesting[0],String,$nesting),Opal.const_set($nesting[0],"Symbol",$$($nesting,"String"))},Opal.modules["corelib/enumerable"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_le(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<=rhs:lhs["$<="](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$falsy=Opal.falsy,$truthy=Opal.truthy,$coerce_to=Opal.coerce_to,$module=Opal.module,$send=Opal.send,$hash2=Opal.hash2,$lambda=Opal.lambda;return Opal.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$try_convert","$<","$+","$-","$ceil","$/","$size","$select","$to_proc","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$take","$sort_by","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$transform_values","$group_by","$to_h","$coerce_to?","$class","$zip"]),function(self,$Enumerable_tally$108){var $Enumerable_all$ques$1,$Enumerable_any$ques$5,$Enumerable_chunk$9,$Enumerable_chunk_while$12,$Enumerable_collect$14,$Enumerable_collect_concat$16,$Enumerable_count$19,$Enumerable_cycle$23,$Enumerable_detect$25,$Enumerable_drop_while$28,$Enumerable_each_cons$29,$Enumerable_each_entry$31,$Enumerable_each_slice$33,$Enumerable_each_with_index$35,$Enumerable_each_with_object$37,$Enumerable_filter_map$40,$Enumerable_find_all$42,$Enumerable_find_index$44,$Enumerable_grep$50,$Enumerable_grep_v$52,$Enumerable_group_by$54,$Enumerable_inject$58,$Enumerable_max$62,$Enumerable_max_by$63,$Enumerable_min$65,$Enumerable_min_by$67,$Enumerable_minmax$69,$Enumerable_minmax_by$71,$Enumerable_none$ques$73,$Enumerable_one$ques$77,$Enumerable_partition$81,$Enumerable_reject$83,$Enumerable_reverse_each$85,$Enumerable_slice_before$87,$Enumerable_slice_after$89,$Enumerable_slice_when$92,$Enumerable_sort$94,$Enumerable_sort_by$96,$Enumerable_sum$101,$Enumerable_take_while$104,$Enumerable_uniq$106,$Enumerable_to_h$109,$Enumerable_zip$110,self=$module(self,"Enumerable"),$nesting=[self].concat($Enumerable_tally$108);function comparableForPattern(value){return 0===value.length&&(value=[nil]),1<value.length&&(value=[value]),value}return Opal.def(self,"$all?",$Enumerable_all$ques$1=function(pattern){try{var $$2,$$3,$$4,$iter=$Enumerable_all$ques$1.$$p,block=$iter||nil;return $iter&&($Enumerable_all$ques$1.$$p=null),$iter&&($Enumerable_all$ques$1.$$p=null),$truthy(void 0!==pattern)?$send(this,"each",[],(($$2=function($a){null==$$2.$$s||$$2.$$s;var comparable=comparableForPattern(Opal.slice.call(arguments,0,arguments.length));if($truthy($send(pattern,"public_send",["==="].concat(Opal.to_a(comparable)))))return nil;Opal.ret(!1)}).$$s=this,$$2.$$arity=-1,$$2)):$send(this,"each",[],block!==nil?(($$3=function($a){null==$$3.$$s||$$3.$$s;var $post_args=Opal.slice.call(arguments,0,arguments.length);if($truthy(Opal.yieldX(block,Opal.to_a($post_args))))return nil;Opal.ret(!1)}).$$s=this,$$3.$$arity=-1,$$3):(($$4=function($a){null==$$4.$$s||$$4.$$s;var value=Opal.slice.call(arguments,0,arguments.length);if($truthy($$($nesting,"Opal").$destructure(value)))return nil;Opal.ret(!1)}).$$s=this,$$4.$$arity=-1,$$4)),!0}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},$Enumerable_all$ques$1.$$arity=-1),Opal.def(self,"$any?",$Enumerable_any$ques$5=function(pattern){try{var $$6,$$7,$$8,$iter=$Enumerable_any$ques$5.$$p,block=$iter||nil;return $iter&&($Enumerable_any$ques$5.$$p=null),$iter&&($Enumerable_any$ques$5.$$p=null),$truthy(void 0!==pattern)?$send(this,"each",[],(($$6=function($a){null==$$6.$$s||$$6.$$s;var comparable=comparableForPattern(Opal.slice.call(arguments,0,arguments.length));if(!$truthy($send(pattern,"public_send",["==="].concat(Opal.to_a(comparable)))))return nil;Opal.ret(!0)}).$$s=this,$$6.$$arity=-1,$$6)):$send(this,"each",[],block!==nil?(($$7=function($a){null==$$7.$$s||$$7.$$s;var $post_args=Opal.slice.call(arguments,0,arguments.length);if(!$truthy(Opal.yieldX(block,Opal.to_a($post_args))))return nil;Opal.ret(!0)}).$$s=this,$$7.$$arity=-1,$$7):(($$8=function($a){null==$$8.$$s||$$8.$$s;var value=Opal.slice.call(arguments,0,arguments.length);if(!$truthy($$($nesting,"Opal").$destructure(value)))return nil;Opal.ret(!0)}).$$s=this,$$8.$$arity=-1,$$8)),!1}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},$Enumerable_any$ques$5.$$arity=-1),Opal.def(self,"$chunk",$Enumerable_chunk$9=function(){var $$10,$$11,$iter=$Enumerable_chunk$9.$$p,block=$iter||nil;return $iter&&($Enumerable_chunk$9.$$p=null),$iter&&($Enumerable_chunk$9.$$p=null),block===nil?$send(this,"to_enum",["chunk"],(($$10=function(){return(null==$$10.$$s?this:$$10.$$s).$enumerator_size()}).$$s=this,$$10.$$arity=0,$$10)):$send($$$("::","Enumerator"),"new",[],(($$11=function(yielder){var self=null==$$11.$$s?this:$$11.$$s;null==yielder&&(yielder=nil);var previous=nil,accumulate=[];function releaseAccumulate(){0<accumulate.length&&yielder.$yield(previous,accumulate)}self.$each.$$p=function(value){var key=Opal.yield1(block,value);previous=key===nil?(releaseAccumulate(),accumulate=[],nil):(previous===nil||previous===key?accumulate.push(value):(releaseAccumulate(),accumulate=[value]),key)},self.$each(),releaseAccumulate()}).$$s=this,$$11.$$arity=1,$$11))},$Enumerable_chunk$9.$$arity=0),Opal.def(self,"$chunk_while",$Enumerable_chunk_while$12=function(){var $$13,$iter=$Enumerable_chunk_while$12.$$p,block=$iter||nil;return $iter&&($Enumerable_chunk_while$12.$$p=null),$iter&&($Enumerable_chunk_while$12.$$p=null),block!==nil||this.$raise($$($nesting,"ArgumentError"),"no block given"),$send(this,"slice_when",[],(($$13=function(before,after){null==$$13.$$s||$$13.$$s;return null==before&&(before=nil),null==after&&(after=nil),Opal.yieldX(block,[before,after])["$!"]()}).$$s=this,$$13.$$arity=2,$$13))},$Enumerable_chunk_while$12.$$arity=0),Opal.def(self,"$collect",$Enumerable_collect$14=function(){var $$15,$iter=$Enumerable_collect$14.$$p,block=$iter||nil;if($iter&&($Enumerable_collect$14.$$p=null),$iter&&($Enumerable_collect$14.$$p=null),block===nil)return $send(this,"enum_for",["collect"],(($$15=function(){return(null==$$15.$$s?this:$$15.$$s).$enumerator_size()}).$$s=this,$$15.$$arity=0,$$15));var result=[];return this.$each.$$p=function(){var value=Opal.yieldX(block,arguments);result.push(value)},this.$each(),result},$Enumerable_collect$14.$$arity=0),Opal.def(self,"$collect_concat",$Enumerable_collect_concat$16=function(){var $$17,$$18,$iter=$Enumerable_collect_concat$16.$$p,block=$iter||nil;return $iter&&($Enumerable_collect_concat$16.$$p=null),$iter&&($Enumerable_collect_concat$16.$$p=null),block===nil?$send(this,"enum_for",["collect_concat"],(($$17=function(){return(null==$$17.$$s?this:$$17.$$s).$enumerator_size()}).$$s=this,$$17.$$arity=0,$$17)):$send(this,"map",[],(($$18=function(item){null==$$18.$$s||$$18.$$s;return null==item&&(item=nil),Opal.yield1(block,item)}).$$s=this,$$18.$$arity=1,$$18)).$flatten(1)},$Enumerable_collect_concat$16.$$arity=0),Opal.def(self,"$count",$Enumerable_count$19=function(object){var $$20,$$21,$$22,$iter=$Enumerable_count$19.$$p,block=$iter||nil,result=nil;return $iter&&($Enumerable_count$19.$$p=null),$iter&&($Enumerable_count$19.$$p=null),result=0,null!=object&&block!==nil&&this.$warn("warning: given block not used"),$truthy(null!=object)?block=$send(this,"proc",[],(($$20=function($a){null==$$20.$$s||$$20.$$s;var args=Opal.slice.call(arguments,0,arguments.length);return $$($nesting,"Opal").$destructure(args)["$=="](object)}).$$s=this,$$20.$$arity=-1,$$20)):$truthy(block["$nil?"]())&&(block=$send(this,"proc",[],(($$21=function(){null==$$21.$$s||$$21.$$s;return!0}).$$s=this,$$21.$$arity=0,$$21))),$send(this,"each",[],(($$22=function($a){null==$$22.$$s||$$22.$$s;var $post_args=Opal.slice.call(arguments,0,arguments.length);return $truthy(Opal.yieldX(block,$post_args))?result++:nil}).$$s=this,$$22.$$arity=-1,$$22)),result},$Enumerable_count$19.$$arity=-1),Opal.def(self,"$cycle",$Enumerable_cycle$23=function(n){var $$24,$iter=$Enumerable_cycle$23.$$p,block=$iter||nil;if($iter&&($Enumerable_cycle$23.$$p=null),$iter&&($Enumerable_cycle$23.$$p=null),null==n&&(n=nil),block===nil)return $send(this,"enum_for",["cycle",n],(($$24=function(){var lhs,rhs=null==$$24.$$s?this:$$24.$$s;return $truthy(n["$nil?"]())?$truthy(rhs["$respond_to?"]("size"))?$$$($$($nesting,"Float"),"INFINITY"):nil:(n=$$($nesting,"Opal")["$coerce_to!"](n,$$($nesting,"Integer"),"to_int"),$truthy($rb_gt(n,0))?(lhs=rhs.$enumerator_size(),rhs=n,"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)):0)}).$$s=this,$$24.$$arity=0,$$24));if(!$truthy(n["$nil?"]())&&(n=$$($nesting,"Opal")["$coerce_to!"](n,$$($nesting,"Integer"),"to_int"),$truthy(n<=0)))return nil;var i,length,all=[];if(this.$each.$$p=function(){var param=$$($nesting,"Opal").$destructure(arguments);Opal.yield1(block,param);all.push(param)},this.$each(),0===all.length)return nil;if(n===nil)for(;;)for(i=0,length=all.length;i<length;i++)Opal.yield1(block,all[i]);else for(;1<n;){for(i=0,length=all.length;i<length;i++)Opal.yield1(block,all[i]);n--}},$Enumerable_cycle$23.$$arity=-1),Opal.def(self,"$detect",$Enumerable_detect$25=function(ifnone){try{var $$26,$iter=$Enumerable_detect$25.$$p,block=$iter||nil;return($iter&&($Enumerable_detect$25.$$p=null),$iter&&($Enumerable_detect$25.$$p=null),block===nil)?this.$enum_for("detect",ifnone):($send(this,"each",[],(($$26=function($a){null==$$26.$$s||$$26.$$s;var args=Opal.slice.call(arguments,0,arguments.length),value=$$($nesting,"Opal").$destructure(args);if(!$truthy(Opal.yield1(block,value)))return nil;Opal.ret(value)}).$$s=this,$$26.$$arity=-1,$$26)),void 0!==ifnone?"function"==typeof ifnone?ifnone():ifnone:nil)}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},$Enumerable_detect$25.$$arity=-1),Opal.def(self,"$drop",$Enumerable_tally$108=function(number){number=$coerce_to(number,$$($nesting,"Integer"),"to_int"),$truthy(number<0)&&this.$raise($$($nesting,"ArgumentError"),"attempt to drop negative size");var result=[],current=0;return this.$each.$$p=function(){number<=current&&result.push($$($nesting,"Opal").$destructure(arguments)),current++},this.$each(),result},$Enumerable_tally$108.$$arity=1),Opal.def(self,"$drop_while",$Enumerable_drop_while$28=function(){var $iter=$Enumerable_drop_while$28.$$p,block=$iter||nil;if($iter&&($Enumerable_drop_while$28.$$p=null),$iter&&($Enumerable_drop_while$28.$$p=null),block===nil)return this.$enum_for("drop_while");var result=[],dropping=!0;return this.$each.$$p=function(){var value,param=$$($nesting,"Opal").$destructure(arguments);dropping?(value=Opal.yield1(block,param),$falsy(value)&&(dropping=!1,result.push(param))):result.push(param)},this.$each(),result},$Enumerable_drop_while$28.$$arity=0),Opal.def(self,"$each_cons",$Enumerable_each_cons$29=function(n){var $$30,$iter=$Enumerable_each_cons$29.$$p,block=$iter||nil;if($iter&&($Enumerable_each_cons$29.$$p=null),$iter&&($Enumerable_each_cons$29.$$p=null),$truthy(1!=arguments.length)&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),n=$$($nesting,"Opal").$try_convert(n,$$($nesting,"Integer"),"to_int"),$truthy(n<=0)&&this.$raise($$($nesting,"ArgumentError"),"invalid size"),block===nil)return $send(this,"enum_for",["each_cons",n],(($$30=function(){var rhs=null==$$30.$$s?this:$$30.$$s,enum_size=nil,lhs=nil,enum_size=rhs.$enumerator_size();return $truthy(enum_size["$nil?"]())?nil:$truthy($truthy(lhs=enum_size["$=="](0))?lhs:(rhs=n,"number"==typeof(lhs=enum_size)&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)))?0:$rb_plus($rb_minus(enum_size,n),1)}).$$s=this,$$30.$$arity=0,$$30));var buffer=[];return this.$each.$$p=function(){var element=$$($nesting,"Opal").$destructure(arguments);buffer.push(element),buffer.length>n&&buffer.shift(),buffer.length==n&&Opal.yield1(block,buffer.slice(0,n))},this.$each(),nil},$Enumerable_each_cons$29.$$arity=1),Opal.def(self,"$each_entry",$Enumerable_each_entry$31=function($a){var $$32,data=$Enumerable_each_entry$31.$$p,block=data||nil;return data&&($Enumerable_each_entry$31.$$p=null),data&&($Enumerable_each_entry$31.$$p=null),data=Opal.slice.call(arguments,0,arguments.length),block===nil?$send(this,"to_enum",["each_entry"].concat(Opal.to_a(data)),(($$32=function(){return(null==$$32.$$s?this:$$32.$$s).$enumerator_size()}).$$s=this,$$32.$$arity=0,$$32)):(this.$each.$$p=function(){var item=$$($nesting,"Opal").$destructure(arguments);Opal.yield1(block,item)},this.$each.apply(this,data),this)},$Enumerable_each_entry$31.$$arity=-1),Opal.def(self,"$each_slice",$Enumerable_each_slice$33=function(n){var $$34,$iter=$Enumerable_each_slice$33.$$p,block=$iter||nil;if($iter&&($Enumerable_each_slice$33.$$p=null),$iter&&($Enumerable_each_slice$33.$$p=null),n=$coerce_to(n,$$($nesting,"Integer"),"to_int"),$truthy(n<=0)&&this.$raise($$($nesting,"ArgumentError"),"invalid slice size"),block===nil)return $send(this,"enum_for",["each_slice",n],(($$34=function(){var lhs,rhs=null==$$34.$$s?this:$$34.$$s;return $truthy(rhs["$respond_to?"]("size"))?(lhs=rhs.$size(),rhs=n,("number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)).$ceil()):nil}).$$s=this,$$34.$$arity=0,$$34));var slice=[];return this.$each.$$p=function(){var param=$$($nesting,"Opal").$destructure(arguments);slice.push(param),slice.length===n&&(Opal.yield1(block,slice),slice=[])},this.$each(),0<slice.length&&Opal.yield1(block,slice),nil},$Enumerable_each_slice$33.$$arity=1),Opal.def(self,"$each_with_index",$Enumerable_each_with_index$35=function($a){var $$36,args=$Enumerable_each_with_index$35.$$p,block=args||nil;if(args&&($Enumerable_each_with_index$35.$$p=null),args&&($Enumerable_each_with_index$35.$$p=null),args=Opal.slice.call(arguments,0,arguments.length),args=args,block===nil)return $send(this,"enum_for",["each_with_index"].concat(Opal.to_a(args)),(($$36=function(){return(null==$$36.$$s?this:$$36.$$s).$enumerator_size()}).$$s=this,$$36.$$arity=0,$$36));var index=0;return this.$each.$$p=function(){var param=$$($nesting,"Opal").$destructure(arguments);block(param,index),index++},this.$each.apply(this,args),this},$Enumerable_each_with_index$35.$$arity=-1),Opal.def(self,"$each_with_object",$Enumerable_each_with_object$37=function(object){var $$38,$iter=$Enumerable_each_with_object$37.$$p,block=$iter||nil;return $iter&&($Enumerable_each_with_object$37.$$p=null),$iter&&($Enumerable_each_with_object$37.$$p=null),block===nil?$send(this,"enum_for",["each_with_object",object],(($$38=function(){return(null==$$38.$$s?this:$$38.$$s).$enumerator_size()}).$$s=this,$$38.$$arity=0,$$38)):(this.$each.$$p=function(){var param=$$($nesting,"Opal").$destructure(arguments);block(param,object)},this.$each(),object)},$Enumerable_each_with_object$37.$$arity=1),Opal.def(self,"$entries",$Enumerable_tally$108=function($a){var args=Opal.slice.call(arguments,0,arguments.length),result=[];return this.$each.$$p=function(){result.push($$($nesting,"Opal").$destructure(arguments))},this.$each.apply(this,args),result},$Enumerable_tally$108.$$arity=-1),Opal.def(self,"$filter_map",$Enumerable_filter_map$40=function(){var $$41,$iter=$Enumerable_filter_map$40.$$p,block=$iter||nil;return $iter&&($Enumerable_filter_map$40.$$p=null),$iter&&($Enumerable_filter_map$40.$$p=null),block===nil?$send(this,"enum_for",["filter_map"],(($$41=function(){return(null==$$41.$$s?this:$$41.$$s).$enumerator_size()}).$$s=this,$$41.$$arity=0,$$41)):$send($send(this,"map",[],block.$to_proc()),"select",[],"itself".$to_proc())},$Enumerable_filter_map$40.$$arity=0),Opal.alias(self,"find","detect"),Opal.def(self,"$find_all",$Enumerable_find_all$42=function(){var $$43,$iter=$Enumerable_find_all$42.$$p,block=$iter||nil;if($iter&&($Enumerable_find_all$42.$$p=null),$iter&&($Enumerable_find_all$42.$$p=null),block===nil)return $send(this,"enum_for",["find_all"],(($$43=function(){return(null==$$43.$$s?this:$$43.$$s).$enumerator_size()}).$$s=this,$$43.$$arity=0,$$43));var result=[];return this.$each.$$p=function(){var param=$$($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);$truthy(value)&&result.push(param)},this.$each(),result},$Enumerable_find_all$42.$$arity=0),Opal.alias(self,"filter","find_all"),Opal.def(self,"$find_index",$Enumerable_find_index$44=function(object){try{var $$45,$$46,$iter=$Enumerable_find_index$44.$$p,block=$iter||nil,index=nil;return($iter&&($Enumerable_find_index$44.$$p=null),$iter&&($Enumerable_find_index$44.$$p=null),$truthy(void 0===object&&block===nil))?this.$enum_for("find_index"):(null!=object&&block!==nil&&this.$warn("warning: given block not used"),index=0,$truthy(null!=object)?$send(this,"each",[],(($$45=function($a){null==$$45.$$s||$$45.$$s;var value=Opal.slice.call(arguments,0,arguments.length);return $$($nesting,"Opal").$destructure(value)["$=="](object)&&Opal.ret(index),index+=1}).$$s=this,$$45.$$arity=-1,$$45)):$send(this,"each",[],(($$46=function($a){null==$$46.$$s||$$46.$$s;var $post_args=Opal.slice.call(arguments,0,arguments.length);return $truthy(Opal.yieldX(block,Opal.to_a($post_args)))&&Opal.ret(index),index+=1}).$$s=this,$$46.$$arity=-1,$$46)),nil)}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},$Enumerable_find_index$44.$$arity=-1),Opal.def(self,"$first",$Enumerable_tally$108=function(number){try{var $$48,$$49,result=nil,current=nil;return $truthy(void 0===number)?$send(this,"each",[],(($$48=function(value){null==$$48.$$s||$$48.$$s;null==value&&(value=nil),Opal.ret(value)}).$$s=this,$$48.$$arity=1,$$48)):(result=[],number=$coerce_to(number,$$($nesting,"Integer"),"to_int"),$truthy(number<0)&&this.$raise($$($nesting,"ArgumentError"),"attempt to take negative size"),$truthy(0==number)?[]:(current=0,$send(this,"each",[],(($$49=function($a){null==$$49.$$s||$$49.$$s;var args=Opal.slice.call(arguments,0,arguments.length);if(result.push($$($nesting,"Opal").$destructure(args)),!$truthy(number<=++current))return nil;Opal.ret(result)}).$$s=this,$$49.$$arity=-1,$$49)),result))}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},$Enumerable_tally$108.$$arity=-1),Opal.alias(self,"flat_map","collect_concat"),Opal.def(self,"$grep",$Enumerable_grep$50=function(pattern){var $$51,$iter=$Enumerable_grep$50.$$p,block=$iter||nil,result=nil;return $iter&&($Enumerable_grep$50.$$p=null),$iter&&($Enumerable_grep$50.$$p=null),result=[],$send(this,"each",[],(($$51=function($a){null==$$51.$$s||$$51.$$s;var value=Opal.slice.call(arguments,0,arguments.length),cmp=comparableForPattern(value);return $truthy($send(pattern,"__send__",["==="].concat(Opal.to_a(cmp))))?(block!==nil?($truthy($rb_gt(value.$length(),1))&&(value=[value]),value=Opal.yieldX(block,Opal.to_a(value))):$truthy($rb_le(value.$length(),1))&&(value=value["$[]"](0)),result.$push(value)):nil}).$$s=this,$$51.$$arity=-1,$$51)),result},$Enumerable_grep$50.$$arity=1),Opal.def(self,"$grep_v",$Enumerable_grep_v$52=function(pattern){var $$53,$iter=$Enumerable_grep_v$52.$$p,block=$iter||nil,result=nil;return $iter&&($Enumerable_grep_v$52.$$p=null),$iter&&($Enumerable_grep_v$52.$$p=null),result=[],$send(this,"each",[],(($$53=function($a){null==$$53.$$s||$$53.$$s;var value=Opal.slice.call(arguments,0,arguments.length),cmp=comparableForPattern(value);return $truthy($send(pattern,"__send__",["==="].concat(Opal.to_a(cmp))))?nil:(block!==nil?($truthy($rb_gt(value.$length(),1))&&(value=[value]),value=Opal.yieldX(block,Opal.to_a(value))):$truthy($rb_le(value.$length(),1))&&(value=value["$[]"](0)),result.$push(value))}).$$s=this,$$53.$$arity=-1,$$53)),result},$Enumerable_grep_v$52.$$arity=1),Opal.def(self,"$group_by",$Enumerable_group_by$54=function(){var $$55,$iter=$Enumerable_group_by$54.$$p,block=$iter||nil,hash=nil,$ret_or_2=nil,$writer=nil;return $iter&&($Enumerable_group_by$54.$$p=null),$iter&&($Enumerable_group_by$54.$$p=null),block===nil?$send(this,"enum_for",["group_by"],(($$55=function(){return(null==$$55.$$s?this:$$55.$$s).$enumerator_size()}).$$s=this,$$55.$$arity=0,$$55)):(hash=$hash2([],{}),this.$each.$$p=function(){var param=$$($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);($truthy($ret_or_2=hash["$[]"](value))?$ret_or_2:($writer=[value,[]],$send(hash,"[]=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)]))["$<<"](param)},this.$each(),hash)},$Enumerable_group_by$54.$$arity=0),Opal.def(self,"$include?",$Enumerable_tally$108=function(obj){try{var $$57;return $send(this,"each",[],(($$57=function($a){null==$$57.$$s||$$57.$$s;var args=Opal.slice.call(arguments,0,arguments.length);if(!$$($nesting,"Opal").$destructure(args)["$=="](obj))return nil;Opal.ret(!0)}).$$s=this,$$57.$$arity=-1,$$57)),!1}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},$Enumerable_tally$108.$$arity=1),Opal.def(self,"$inject",$Enumerable_inject$58=function(object,sym){var $iter=$Enumerable_inject$58.$$p,block=$iter||nil;$iter&&($Enumerable_inject$58.$$p=null),$iter&&($Enumerable_inject$58.$$p=null);var result=object;return block!==nil&&void 0===sym?this.$each.$$p=function(){var value=$$($nesting,"Opal").$destructure(arguments);result=(void 0!==result&&(value=Opal.yieldX(block,[result,value])),value)}:(void 0===sym&&($$($nesting,"Symbol")["$==="](object)||this.$raise($$($nesting,"TypeError"),object.$inspect()+" is not a Symbol"),sym=object,result=void 0),this.$each.$$p=function(){var value=$$($nesting,"Opal").$destructure(arguments);result=void 0!==result?result.$__send__(sym,value):value}),this.$each(),null==result?nil:result},$Enumerable_inject$58.$$arity=-1),Opal.def(self,"$lazy",$Enumerable_tally$108=function(){var $$60;return $send($$$($$($nesting,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(($$60=function(enum$,$a){var $post_args;null==$$60.$$s||$$60.$$s;return null==enum$&&(enum$=nil),$post_args=Opal.slice.call(arguments,1,arguments.length),$send(enum$,"yield",Opal.to_a($post_args))}).$$s=this,$$60.$$arity=-2,$$60))},$Enumerable_tally$108.$$arity=0),Opal.def(self,"$enumerator_size",$Enumerable_tally$108=function(){return $truthy(this["$respond_to?"]("size"))?this.$size():nil},$Enumerable_tally$108.$$arity=0),Opal.alias(self,"map","collect"),Opal.def(self,"$max",$Enumerable_max$62=function(n){var result,value,$iter=$Enumerable_max$62.$$p,block=$iter||nil,self=this;return $iter&&($Enumerable_max$62.$$p=null),$iter&&($Enumerable_max$62.$$p=null),void 0===n||n===nil?(self.$each.$$p=function(){var item=$$($nesting,"Opal").$destructure(arguments);void 0!==result?((value=block!==nil?Opal.yieldX(block,[item,result]):item["$<=>"](result))===nil&&self.$raise($$($nesting,"ArgumentError"),"comparison failed"),0<value&&(result=item)):result=item},self.$each(),void 0===result?nil:result):(n=$coerce_to(n,$$($nesting,"Integer"),"to_int"),$send(self,"sort",[],block.$to_proc()).$reverse().$first(n))},$Enumerable_max$62.$$arity=-1),Opal.def(self,"$max_by",$Enumerable_max_by$63=function(n){var $$64,result,by,$iter=$Enumerable_max_by$63.$$p,block=$iter||nil;return $iter&&($Enumerable_max_by$63.$$p=null),$iter&&($Enumerable_max_by$63.$$p=null),null==n&&(n=nil),$truthy(block)?$truthy(n["$nil?"]())?(this.$each.$$p=function(){var param=$$($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);if(void 0===result)return result=param,void(by=value);0<value["$<=>"](by)&&(result=param,by=value)},this.$each(),void 0===result?nil:result):$send(this,"sort_by",[],block.$to_proc()).$reverse().$take(n):$send(this,"enum_for",["max_by",n],(($$64=function(){return(null==$$64.$$s?this:$$64.$$s).$enumerator_size()}).$$s=this,$$64.$$arity=0,$$64))},$Enumerable_max_by$63.$$arity=-1),Opal.alias(self,"member?","include?"),Opal.def(self,"$min",$Enumerable_min$65=function(n){var $$66,result,$iter=$Enumerable_min$65.$$p,block=$iter||nil,self=this;return $iter&&($Enumerable_min$65.$$p=null),$iter&&($Enumerable_min$65.$$p=null),null==n&&(n=nil),$truthy(n["$nil?"]())?(self.$each.$$p=block!==nil?function(){var value,param=$$($nesting,"Opal").$destructure(arguments);void 0!==result?((value=block(param,result))===nil&&self.$raise($$($nesting,"ArgumentError"),"comparison failed"),value<0&&(result=param)):result=param}:function(){var param=$$($nesting,"Opal").$destructure(arguments);(void 0===result||$$($nesting,"Opal").$compare(param,result)<0)&&(result=param)},self.$each(),void 0===result?nil:result):(block!==nil?$send(self,"sort",[],(($$66=function(a,b){null==$$66.$$s||$$66.$$s;return null==a&&(a=nil),null==b&&(b=nil),Opal.yieldX(block,[a,b])}).$$s=self,$$66.$$arity=2,$$66)):self.$sort()).$take(n)},$Enumerable_min$65.$$arity=-1),Opal.def(self,"$min_by",$Enumerable_min_by$67=function(n){var $$68,result,by,$iter=$Enumerable_min_by$67.$$p,block=$iter||nil;return $iter&&($Enumerable_min_by$67.$$p=null),$iter&&($Enumerable_min_by$67.$$p=null),null==n&&(n=nil),$truthy(block)?$truthy(n["$nil?"]())?(this.$each.$$p=function(){var param=$$($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);if(void 0===result)return result=param,void(by=value);value["$<=>"](by)<0&&(result=param,by=value)},this.$each(),void 0===result?nil:result):$send(this,"sort_by",[],block.$to_proc()).$take(n):$send(this,"enum_for",["min_by",n],(($$68=function(){return(null==$$68.$$s?this:$$68.$$s).$enumerator_size()}).$$s=this,$$68.$$arity=0,$$68))},$Enumerable_min_by$67.$$arity=-1),Opal.def(self,"$minmax",$Enumerable_minmax$69=function(){var $$70,$ret_or_3,$iter=$Enumerable_minmax$69.$$p,block=$iter||nil,self=this;$iter&&($Enumerable_minmax$69.$$p=null),$iter&&($Enumerable_minmax$69.$$p=null),block=$truthy($ret_or_3=block)?$ret_or_3:$send(self,"proc",[],(($$70=function(a,b){null==$$70.$$s||$$70.$$s;return null==a&&(a=nil),null==b&&(b=nil),a["$<=>"](b)}).$$s=self,$$70.$$arity=2,$$70));var min=nil,max=nil,first_time=!0;return self.$each.$$p=function(){var max_cmp,element=$$($nesting,"Opal").$destructure(arguments);first_time?(min=max=element,first_time=!1):((max_cmp=block.$call(min,element))===nil?self.$raise($$($nesting,"ArgumentError"),"comparison failed"):0<max_cmp&&(min=element),(max_cmp=block.$call(max,element))===nil?self.$raise($$($nesting,"ArgumentError"),"comparison failed"):max_cmp<0&&(max=element))},self.$each(),[min,max]},$Enumerable_minmax$69.$$arity=0),Opal.def(self,"$minmax_by",$Enumerable_minmax_by$71=function(){var $$72,$iter=$Enumerable_minmax_by$71.$$p,block=$iter||nil;if($iter&&($Enumerable_minmax_by$71.$$p=null),$iter&&($Enumerable_minmax_by$71.$$p=null),!$truthy(block))return $send(this,"enum_for",["minmax_by"],(($$72=function(){return(null==$$72.$$s?this:$$72.$$s).$enumerator_size()}).$$s=this,$$72.$$arity=0,$$72));var min_by,max_by,min_result=nil,max_result=nil;return this.$each.$$p=function(){var param=$$($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);(void 0===min_by||value["$<=>"](min_by)<0)&&(min_result=param,min_by=value),(void 0===max_by||0<value["$<=>"](max_by))&&(max_result=param,max_by=value)},this.$each(),[min_result,max_result]},$Enumerable_minmax_by$71.$$arity=0),Opal.def(self,"$none?",$Enumerable_none$ques$73=function(pattern){try{var $$74,$$75,$$76,$iter=$Enumerable_none$ques$73.$$p,block=$iter||nil;return $iter&&($Enumerable_none$ques$73.$$p=null),$iter&&($Enumerable_none$ques$73.$$p=null),$truthy(void 0!==pattern)?$send(this,"each",[],(($$74=function($a){null==$$74.$$s||$$74.$$s;var comparable=comparableForPattern(Opal.slice.call(arguments,0,arguments.length));if(!$truthy($send(pattern,"public_send",["==="].concat(Opal.to_a(comparable)))))return nil;Opal.ret(!1)}).$$s=this,$$74.$$arity=-1,$$74)):$send(this,"each",[],block!==nil?(($$75=function($a){null==$$75.$$s||$$75.$$s;var $post_args=Opal.slice.call(arguments,0,arguments.length);if(!$truthy(Opal.yieldX(block,Opal.to_a($post_args))))return nil;Opal.ret(!1)}).$$s=this,$$75.$$arity=-1,$$75):(($$76=function($a){null==$$76.$$s||$$76.$$s;var value=Opal.slice.call(arguments,0,arguments.length),item=$$($nesting,"Opal").$destructure(value);if(!$truthy(item))return nil;Opal.ret(!1)}).$$s=this,$$76.$$arity=-1,$$76)),!0}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},$Enumerable_none$ques$73.$$arity=-1),Opal.def(self,"$one?",$Enumerable_one$ques$77=function(pattern){try{var $$78,$$79,$$80,$iter=$Enumerable_one$ques$77.$$p,block=$iter||nil,count=nil;return $iter&&($Enumerable_one$ques$77.$$p=null),$iter&&($Enumerable_one$ques$77.$$p=null),$truthy(void(count=0)!==pattern)?$send(this,"each",[],(($$78=function($a){null==$$78.$$s||$$78.$$s;var comparable=comparableForPattern(Opal.slice.call(arguments,0,arguments.length));return $truthy($send(pattern,"public_send",["==="].concat(Opal.to_a(comparable))))?(count=$rb_plus(count,1),$truthy($rb_gt(count,1))?void Opal.ret(!1):nil):nil}).$$s=this,$$78.$$arity=-1,$$78)):$send(this,"each",[],block!==nil?(($$79=function($a){null==$$79.$$s||$$79.$$s;var value=Opal.slice.call(arguments,0,arguments.length);return $truthy(Opal.yieldX(block,Opal.to_a(value)))?(count=$rb_plus(count,1),$truthy($rb_gt(count,1))?void Opal.ret(!1):nil):nil}).$$s=this,$$79.$$arity=-1,$$79):(($$80=function($a){null==$$80.$$s||$$80.$$s;var value=Opal.slice.call(arguments,0,arguments.length);return $truthy($$($nesting,"Opal").$destructure(value))?(count=$rb_plus(count,1),$truthy($rb_gt(count,1))?void Opal.ret(!1):nil):nil}).$$s=this,$$80.$$arity=-1,$$80)),count["$=="](1)}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},$Enumerable_one$ques$77.$$arity=-1),Opal.def(self,"$partition",$Enumerable_partition$81=function(){var $$82,$iter=$Enumerable_partition$81.$$p,block=$iter||nil;if($iter&&($Enumerable_partition$81.$$p=null),$iter&&($Enumerable_partition$81.$$p=null),block===nil)return $send(this,"enum_for",["partition"],(($$82=function(){return(null==$$82.$$s?this:$$82.$$s).$enumerator_size()}).$$s=this,$$82.$$arity=0,$$82));var truthy=[],falsy=[];return this.$each.$$p=function(){var param=$$($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);($truthy(value)?truthy:falsy).push(param)},this.$each(),[truthy,falsy]},$Enumerable_partition$81.$$arity=0),Opal.alias(self,"reduce","inject"),Opal.def(self,"$reject",$Enumerable_reject$83=function(){var $$84,$iter=$Enumerable_reject$83.$$p,block=$iter||nil;if($iter&&($Enumerable_reject$83.$$p=null),$iter&&($Enumerable_reject$83.$$p=null),block===nil)return $send(this,"enum_for",["reject"],(($$84=function(){return(null==$$84.$$s?this:$$84.$$s).$enumerator_size()}).$$s=this,$$84.$$arity=0,$$84));var result=[];return this.$each.$$p=function(){var param=$$($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);$falsy(value)&&result.push(param)},this.$each(),result},$Enumerable_reject$83.$$arity=0),Opal.def(self,"$reverse_each",$Enumerable_reverse_each$85=function(){var $$86,$iter=$Enumerable_reverse_each$85.$$p,block=$iter||nil;if($iter&&($Enumerable_reverse_each$85.$$p=null),$iter&&($Enumerable_reverse_each$85.$$p=null),block===nil)return $send(this,"enum_for",["reverse_each"],(($$86=function(){return(null==$$86.$$s?this:$$86.$$s).$enumerator_size()}).$$s=this,$$86.$$arity=0,$$86));var result=[];this.$each.$$p=function(){result.push(arguments)},this.$each();for(var i=result.length-1;0<=i;i--)Opal.yieldX(block,result[i]);return result},$Enumerable_reverse_each$85.$$arity=0),Opal.alias(self,"select","find_all"),Opal.def(self,"$slice_before",$Enumerable_slice_before$87=function(pattern){var $$88,$iter=$Enumerable_slice_before$87.$$p,block=$iter||nil;return $iter&&($Enumerable_slice_before$87.$$p=null),$iter&&($Enumerable_slice_before$87.$$p=null),$truthy(void 0===pattern&&block===nil)&&this.$raise($$($nesting,"ArgumentError"),"both pattern and block are given"),$truthy(void 0!==pattern&&block!==nil||1<arguments.length)&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),$send($$($nesting,"Enumerator"),"new",[],(($$88=function(e){var self=null==$$88.$$s?this:$$88.$$s;null==e&&(e=nil);var slice=[];self.$each.$$p=block!==nil?void 0===pattern?function(){var param=$$($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);$truthy(value)&&0<slice.length&&(e["$<<"](slice),slice=[]),slice.push(param)}:function(){var param=$$($nesting,"Opal").$destructure(arguments),value=block(param,pattern.$dup());$truthy(value)&&0<slice.length&&(e["$<<"](slice),slice=[]),slice.push(param)}:function(){var param=$$($nesting,"Opal").$destructure(arguments),value=pattern["$==="](param);$truthy(value)&&0<slice.length&&(e["$<<"](slice),slice=[]),slice.push(param)},self.$each(),0<slice.length&&e["$<<"](slice)}).$$s=this,$$88.$$arity=1,$$88))},$Enumerable_slice_before$87.$$arity=-1),Opal.def(self,"$slice_after",$Enumerable_slice_after$89=function(pattern){var $$90,$$91,$iter=$Enumerable_slice_after$89.$$p,block=$iter||nil;return $iter&&($Enumerable_slice_after$89.$$p=null),$iter&&($Enumerable_slice_after$89.$$p=null),$truthy(void 0===pattern&&block===nil)&&this.$raise($$($nesting,"ArgumentError"),"both pattern and block are given"),$truthy(void 0!==pattern&&block!==nil||1<arguments.length)&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),$truthy(void 0!==pattern)&&(block=$send(this,"proc",[],(($$90=function(e){null==$$90.$$s||$$90.$$s;return null==e&&(e=nil),pattern["$==="](e)}).$$s=this,$$90.$$arity=1,$$90))),$send($$($nesting,"Enumerator"),"new",[],(($$91=function(yielder){var accumulate,self=null==$$91.$$s?this:$$91.$$s;null==yielder&&(yielder=nil),self.$each.$$p=function(){var element=$$($nesting,"Opal").$destructure(arguments),end_chunk=Opal.yield1(block,element);null==accumulate&&(accumulate=[]),$truthy(end_chunk)?(accumulate.push(element),yielder.$yield(accumulate),accumulate=null):accumulate.push(element)},self.$each(),null!=accumulate&&yielder.$yield(accumulate)}).$$s=this,$$91.$$arity=1,$$91))},$Enumerable_slice_after$89.$$arity=-1),Opal.def(self,"$slice_when",$Enumerable_slice_when$92=function(){var $$93,$iter=$Enumerable_slice_when$92.$$p,block=$iter||nil;return $iter&&($Enumerable_slice_when$92.$$p=null),$iter&&($Enumerable_slice_when$92.$$p=null),block!==nil||this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1)"),$send($$($nesting,"Enumerator"),"new",[],(($$93=function(yielder){var self=null==$$93.$$s?this:$$93.$$s;null==yielder&&(yielder=nil);var slice=nil,last_after=nil;self.$each_cons.$$p=function(){var match=$$($nesting,"Opal").$destructure(arguments),before=match[0],after=match[1],match=Opal.yieldX(block,[before,after]);last_after=after,slice===nil&&(slice=[]),$truthy(match)?(slice.push(before),yielder.$yield(slice),slice=[]):slice.push(before)},self.$each_cons(2),slice!==nil&&(slice.push(last_after),yielder.$yield(slice))}).$$s=this,$$93.$$arity=1,$$93))},$Enumerable_slice_when$92.$$arity=0),Opal.def(self,"$sort",$Enumerable_sort$94=function(){var $$95,ary,$iter=$Enumerable_sort$94.$$p,block=$iter||nil;return $iter&&($Enumerable_sort$94.$$p=null),$iter&&($Enumerable_sort$94.$$p=null),ary=this.$to_a(),block!==nil||(block=$lambda((($$95=function(a,b){null==$$95.$$s||$$95.$$s;return null==a&&(a=nil),null==b&&(b=nil),a["$<=>"](b)}).$$s=this,$$95.$$arity=2,$$95))),$send(ary,"sort",[],block.$to_proc())},$Enumerable_sort$94.$$arity=0),Opal.def(self,"$sort_by",$Enumerable_sort_by$96=function(){var $$97,$$98,$$99,$$100,dup,$iter=$Enumerable_sort_by$96.$$p,block=$iter||nil;return $iter&&($Enumerable_sort_by$96.$$p=null),$iter&&($Enumerable_sort_by$96.$$p=null),block===nil?$send(this,"enum_for",["sort_by"],(($$97=function(){return(null==$$97.$$s?this:$$97.$$s).$enumerator_size()}).$$s=this,$$97.$$arity=0,$$97)):(dup=$send(this,"map",[],(($$98=function(){null==$$98.$$s||$$98.$$s;var arg=$$($nesting,"Opal").$destructure(arguments);return[Opal.yield1(block,arg),arg]}).$$s=this,$$98.$$arity=0,$$98)),$send(dup,"sort!",[],(($$99=function(a,b){null==$$99.$$s||$$99.$$s;return null==a&&(a=nil),null==b&&(b=nil),a[0]["$<=>"](b[0])}).$$s=this,$$99.$$arity=2,$$99)),$send(dup,"map!",[],(($$100=function(i){null==$$100.$$s||$$100.$$s;return null==i&&(i=nil),i[1]}).$$s=this,$$100.$$arity=1,$$100)))},$Enumerable_sort_by$96.$$arity=0),Opal.def(self,"$sum",$Enumerable_sum$101=function(initial){var $$102,$iter=$Enumerable_sum$101.$$p,$yield=$iter||nil,result=nil;return $iter&&($Enumerable_sum$101.$$p=null),null==initial&&(initial=0),result=initial,$send(this,"each",[],(($$102=function($a){null==$$102.$$s||$$102.$$s;var args=Opal.slice.call(arguments,0,arguments.length),item=$yield!==nil?Opal.yieldX($yield,Opal.to_a(args)):$$($nesting,"Opal").$destructure(args);return result=$rb_plus(result,item)}).$$s=this,$$102.$$arity=-1,$$102)),result},$Enumerable_sum$101.$$arity=-1),Opal.def(self,"$take",$Enumerable_tally$108=function(num){return this.$first(num)},$Enumerable_tally$108.$$arity=1),Opal.def(self,"$take_while",$Enumerable_take_while$104=function(){try{var $$105,$iter=$Enumerable_take_while$104.$$p,block=$iter||nil,result=nil;return($iter&&($Enumerable_take_while$104.$$p=null),$iter&&($Enumerable_take_while$104.$$p=null),$truthy(block))?(result=[],$send(this,"each",[],(($$105=function($a){null==$$105.$$s||$$105.$$s;var args=Opal.slice.call(arguments,0,arguments.length),value=$$($nesting,"Opal").$destructure(args);return $truthy(Opal.yield1(block,value))||Opal.ret(result),result.push(value)}).$$s=this,$$105.$$arity=-1,$$105))):this.$enum_for("take_while")}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},$Enumerable_take_while$104.$$arity=0),Opal.def(self,"$uniq",$Enumerable_uniq$106=function(){var $$107,$iter=$Enumerable_uniq$106.$$p,block=$iter||nil,hash=nil;return $iter&&($Enumerable_uniq$106.$$p=null),$iter&&($Enumerable_uniq$106.$$p=null),hash=$hash2([],{}),$send(this,"each",[],(($$107=function($a){null==$$107.$$s||$$107.$$s;var $writer,args=Opal.slice.call(arguments,0,arguments.length),value=$$($nesting,"Opal").$destructure(args),produced=block!==nil?Opal.yield1(block,value):value;return $truthy(hash["$key?"](produced))?nil:($writer=[produced,value],$send(hash,"[]=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)])}).$$s=this,$$107.$$arity=-1,$$107)),hash.$values()},$Enumerable_uniq$106.$$arity=0),Opal.def(self,"$tally",$Enumerable_tally$108=function(){return $send($send(this,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc())},$Enumerable_tally$108.$$arity=0),Opal.alias(self,"to_a","entries"),Opal.def(self,"$to_h",$Enumerable_to_h$109=function($a){var args=$Enumerable_to_h$109.$$p,block=args||nil,self=this;if(args&&($Enumerable_to_h$109.$$p=null),args&&($Enumerable_to_h$109.$$p=null),args=Opal.slice.call(arguments,0,arguments.length),block!==nil)return $send($send(self,"map",[],block.$to_proc()),"to_h",Opal.to_a(args));var hash=$hash2([],{});return self.$each.$$p=function(){var key=$$($nesting,"Opal").$destructure(arguments),val=$$($nesting,"Opal")["$coerce_to?"](key,$$($nesting,"Array"),"to_ary");val.$$is_array||self.$raise($$($nesting,"TypeError"),"wrong element type "+val.$class()+" (expected array)"),2!==val.length&&self.$raise($$($nesting,"ArgumentError"),"wrong array length (expected 2, was "+val.$length()+")"),key=val[0],val=val[1],Opal.hash_put(hash,key,val)},self.$each.apply(self,args),hash},$Enumerable_to_h$109.$$arity=-1),Opal.def(self,"$zip",$Enumerable_zip$110=function($a){var others=$Enumerable_zip$110.$$p;return others&&($Enumerable_zip$110.$$p=null),others&&($Enumerable_zip$110.$$p=null),others=Opal.slice.call(arguments,0,arguments.length),$send(this.$to_a(),"zip",Opal.to_a(others))},$Enumerable_zip$110.$$arity=-1),nil&&"zip"}($nesting[0],$nesting)},Opal.modules["corelib/enumerator"]=function(Opal){function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$breaker=Opal.breaker,$slice=Opal.slice,$falsy=Opal.falsy,$truthy=Opal.truthy,$coerce_to=Opal.coerce_to,$klass=Opal.klass,$send=Opal.send,$send2=Opal.send2;return Opal.add_stubs(["$require","$include","$allocate","$new","$to_proc","$!","$respond_to?","$nil?","$empty?","$+","$class","$__send__","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$try_convert","$<","$===","$for"]),self.$require("corelib/enumerable"),function($Yielder_$lt$lt$14,$Yielder_yield$13){var $Enumerator_for$1,$Enumerator_initialize$2,$Enumerator_each$3,$Enumerator_with_index$5,$Enumerator_each_with_index$7,$Yielder_initialize$12,self=$klass($Yielder_$lt$lt$14,null,"Enumerator"),$nesting=[self].concat($Yielder_yield$13);return self.$$prototype.size=self.$$prototype.args=self.$$prototype.object=self.$$prototype.method=nil,self.$include($$($nesting,"Enumerable")),self.$$prototype.$$is_enumerator=!0,Opal.defs(self,"$for",$Enumerator_for$1=function(object,$a,$b){var method,args=$Enumerator_for$1.$$p,block=args||nil;args&&($Enumerator_for$1.$$p=null),args&&($Enumerator_for$1.$$p=null),0<(obj=Opal.slice.call(arguments,1,arguments.length)).length&&(method=obj[0],obj.splice(0,1)),null==method&&(method="each"),args=obj;var obj=this.$allocate();return obj.object=object,obj.size=block,obj.method=method,obj.args=args,obj},$Enumerator_for$1.$$arity=-2),Opal.def(self,"$initialize",$Enumerator_initialize$2=function($a,argument_1){var $iter=$Enumerator_initialize$2.$$p,block=$iter||nil,self=this,$ret_or_1=nil;return $iter&&($Enumerator_initialize$2.$$p=null),$iter&&($Enumerator_initialize$2.$$p=null),Opal.slice.call(arguments,0,arguments.length),$truthy(block)?(self.object=$send($$($nesting,"Generator"),"new",[],block.$to_proc()),self.method="each",self.args=[],self.size=$a||nil,$truthy($truthy($ret_or_1=self.size)?self.size["$respond_to?"]("call")["$!"]():$ret_or_1)?self.size=$coerce_to(self.size,$$($nesting,"Integer"),"to_int"):nil):(self.object=$a,self.method=argument_1||"each",self.args=$slice.call(arguments,2),self.size=nil)},$Enumerator_initialize$2.$$arity=-1),Opal.def(self,"$each",$Enumerator_each$3=function($a){var args=$Enumerator_each$3.$$p,block=args||nil,$ret_or_2=nil;return args&&($Enumerator_each$3.$$p=null),args&&($Enumerator_each$3.$$p=null),args=Opal.slice.call(arguments,0,arguments.length),args=args,$truthy($truthy($ret_or_2=block["$nil?"]())?args["$empty?"]():$ret_or_2)?this:(args=$rb_plus(this.args,args),$truthy(block["$nil?"]())?$send(this.$class(),"new",[this.object,this.method].concat(Opal.to_a(args))):$send(this.object,"__send__",[this.method].concat(Opal.to_a(args)),block.$to_proc()))},$Enumerator_each$3.$$arity=-1),Opal.def(self,"$size",$Yielder_$lt$lt$14=function(){return $truthy(this.size["$respond_to?"]("call"))?$send(this.size,"call",Opal.to_a(this.args)):this.size},$Yielder_$lt$lt$14.$$arity=0),Opal.def(self,"$with_index",$Enumerator_with_index$5=function(offset){var $$6,$iter=$Enumerator_with_index$5.$$p,block=$iter||nil;if($iter&&($Enumerator_with_index$5.$$p=null),$iter&&($Enumerator_with_index$5.$$p=null),null==offset&&(offset=0),offset=$truthy(offset)?$coerce_to(offset,$$($nesting,"Integer"),"to_int"):0,!$truthy(block))return $send(this,"enum_for",["with_index",offset],(($$6=function(){return(null==$$6.$$s?this:$$6.$$s).$size()}).$$s=this,$$6.$$arity=0,$$6));var index=offset;return this.$each.$$p=function(){var value=$$($nesting,"Opal").$destructure(arguments),value=block(value,index);return index++,value},this.$each()},$Enumerator_with_index$5.$$arity=-1),Opal.alias(self,"with_object","each_with_object"),Opal.def(self,"$each_with_index",$Enumerator_each_with_index$7=function(){var $$8,$zuper_ii,$iter=$Enumerator_each_with_index$7.$$p,block=$iter||nil,$zuper=nil,$zuper_i=nil;for($iter&&($Enumerator_each_with_index$7.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $iter&&($Enumerator_each_with_index$7.$$p=null),block===nil?$send(this,"enum_for",["each_with_index"],(($$8=function(){return(null==$$8.$$s?this:$$8.$$s).$size()}).$$s=this,$$8.$$arity=0,$$8)):($send2(this,Opal.find_super_dispatcher(this,"each_with_index",$Enumerator_each_with_index$7,!1,!0),"each_with_index",$zuper,$iter),this.object)},$Enumerator_each_with_index$7.$$arity=0),Opal.def(self,"$inspect",$Yielder_yield$13=function(){var result=nil,result="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;return $truthy(this.args["$any?"]())&&(result=$rb_plus(result,"("+this.args.$inspect()["$[]"]($$($nesting,"Range").$new(1,-2))+")")),$rb_plus(result,">")},$Yielder_yield$13.$$arity=0),function(self,$parent_nesting){var $Generator_initialize$10,$Generator_each$11,$nesting=[self=$klass(self,null,"Generator")].concat($parent_nesting);self.$$prototype.block=nil,self.$include($$($nesting,"Enumerable")),Opal.def(self,"$initialize",$Generator_initialize$10=function(){var $iter=$Generator_initialize$10.$$p,block=$iter||nil;return $iter&&($Generator_initialize$10.$$p=null),$iter&&($Generator_initialize$10.$$p=null),$truthy(block)||this.$raise($$($nesting,"LocalJumpError"),"no block given"),this.block=block},$Generator_initialize$10.$$arity=0),Opal.def(self,"$each",$Generator_each$11=function($a){var args,yielder,$iter=$Generator_each$11.$$p,block=$iter||nil;$iter&&($Generator_each$11.$$p=null),$iter&&($Generator_each$11.$$p=null),args=Opal.slice.call(arguments,0,arguments.length),yielder=$send($$($nesting,"Yielder"),"new",[],block.$to_proc());try{args.unshift(yielder),Opal.yieldX(this.block,args)}catch(e){if(e===$breaker)return $breaker.$v;throw e}return this},$Generator_each$11.$$arity=-1)}($nesting[0],$nesting),$Yielder_$lt$lt$14=$nesting[0],$Yielder_yield$13=$nesting,[$Yielder_$lt$lt$14=$klass($Yielder_$lt$lt$14,null,"Yielder")].concat($Yielder_yield$13),$Yielder_$lt$lt$14.$$prototype.block=nil,Opal.def($Yielder_$lt$lt$14,"$initialize",$Yielder_initialize$12=function(){var $iter=$Yielder_initialize$12.$$p,block=$iter||nil;return $iter&&($Yielder_initialize$12.$$p=null),$iter&&($Yielder_initialize$12.$$p=null),this.block=block},$Yielder_initialize$12.$$arity=0),Opal.def($Yielder_$lt$lt$14,"$yield",$Yielder_yield$13=function($a){var value=Opal.slice.call(arguments,0,arguments.length),value=Opal.yieldX(this.block,value);if(value===$breaker)throw $breaker;return value},$Yielder_yield$13.$$arity=-1),Opal.def($Yielder_$lt$lt$14,"$<<",$Yielder_$lt$lt$14=function($a){var $post_args=Opal.slice.call(arguments,0,arguments.length);return $send(this,"yield",Opal.to_a($post_args)),this},$Yielder_$lt$lt$14.$$arity=-1),function($base,$Lazy_inspect$41,$Lazy_take$37){var $Lazy_initialize$15,$Lazy_collect$19,$Lazy_collect_concat$21,$Lazy_drop_while$27,$Lazy_enum_for$29,$Lazy_find_all$30,$Lazy_grep$32,$Lazy_reject$35,$Lazy_take_while$39,$nesting=[$Lazy_inspect$41=$klass($base,$Lazy_inspect$41,"Lazy")].concat($Lazy_take$37);$Lazy_inspect$41.$$prototype.enumerator=nil,function($base,$super,$parent_nesting){[$klass($base,$super,"StopLazyError")].concat($parent_nesting)}($nesting[0],$$($nesting,"Exception"),$nesting),Opal.def($Lazy_inspect$41,"$initialize",$Lazy_initialize$15=function(object,size){var $$16,$iter=$Lazy_initialize$15.$$p,block=$iter||nil;return $iter&&($Lazy_initialize$15.$$p=null),$iter&&($Lazy_initialize$15.$$p=null),null==size&&(size=nil),block!==nil||this.$raise($$($nesting,"ArgumentError"),"tried to call lazy new without a block"),this.enumerator=object,$send2(this,Opal.find_super_dispatcher(this,"initialize",$Lazy_initialize$15,!1,!0),"initialize",[size],(($$16=function(yielder,$a){var each_args,$$17,self=null==$$16.$$s?this:$$16.$$s;null==yielder&&(yielder=nil),each_args=Opal.slice.call(arguments,1,arguments.length);try{return $send(object,"each",Opal.to_a(each_args),(($$17=function($b){null==$$17.$$s||$$17.$$s;var args=Opal.slice.call(arguments,0,arguments.length);args.unshift(yielder),Opal.yieldX(block,args)}).$$s=self,$$17.$$arity=-1,$$17))}catch($err){if(!Opal.rescue($err,[$$($nesting,"Exception")]))throw $err;try{return nil}finally{Opal.pop_exception()}}}).$$s=this,$$16.$$arity=-2,$$16))},$Lazy_initialize$15.$$arity=-2),Opal.alias($Lazy_inspect$41,"force","to_a"),Opal.def($Lazy_inspect$41,"$lazy",$Lazy_take$37=function(){return this},$Lazy_take$37.$$arity=0),Opal.def($Lazy_inspect$41,"$collect",$Lazy_collect$19=function(){var $$20,$iter=$Lazy_collect$19.$$p,block=$iter||nil;return $iter&&($Lazy_collect$19.$$p=null),$iter&&($Lazy_collect$19.$$p=null),$truthy(block)||this.$raise($$($nesting,"ArgumentError"),"tried to call lazy map without a block"),$send($$($nesting,"Lazy"),"new",[this,this.$enumerator_size()],(($$20=function(enum$,$a){null==$$20.$$s||$$20.$$s;null==enum$&&(enum$=nil),value=Opal.slice.call(arguments,1,arguments.length);var value=Opal.yieldX(block,value);enum$.$yield(value)}).$$s=this,$$20.$$arity=-2,$$20))},$Lazy_collect$19.$$arity=0),Opal.def($Lazy_inspect$41,"$collect_concat",$Lazy_collect_concat$21=function(){var $$22,$iter=$Lazy_collect_concat$21.$$p,block=$iter||nil;return $iter&&($Lazy_collect_concat$21.$$p=null),$iter&&($Lazy_collect_concat$21.$$p=null),$truthy(block)||this.$raise($$($nesting,"ArgumentError"),"tried to call lazy map without a block"),$send($$($nesting,"Lazy"),"new",[this,nil],(($$22=function(enum$,$a){var $$23,$$24,self=null==$$22.$$s?this:$$22.$$s;null==enum$&&(enum$=nil),value=Opal.slice.call(arguments,1,arguments.length);var value=Opal.yieldX(block,value);value["$respond_to?"]("force")&&value["$respond_to?"]("each")?$send(value,"each",[],(($$23=function(v){null==$$23.$$s||$$23.$$s;return null==v&&(v=nil),enum$.$yield(v)}).$$s=self,$$23.$$arity=1,$$23)):$$($nesting,"Opal").$try_convert(value,$$($nesting,"Array"),"to_ary")===nil?enum$.$yield(value):$send(value,"each",[],(($$24=function(v){null==$$24.$$s||$$24.$$s;return null==v&&(v=nil),enum$.$yield(v)}).$$s=self,$$24.$$arity=1,$$24))}).$$s=this,$$22.$$arity=-2,$$22))},$Lazy_collect_concat$21.$$arity=0),Opal.def($Lazy_inspect$41,"$drop",$Lazy_take$37=function(n){var $$26,current_size,set_size,dropped=nil;return n=$coerce_to(n,$$($nesting,"Integer"),"to_int"),$truthy($rb_lt(n,0))&&this.$raise($$($nesting,"ArgumentError"),"attempt to drop negative size"),current_size=this.$enumerator_size(),set_size=$truthy($$($nesting,"Integer")["$==="](current_size))&&$truthy($rb_lt(n,current_size))?n:current_size,dropped=0,$send($$($nesting,"Lazy"),"new",[this,set_size],(($$26=function(enum$,$a){var args;null==$$26.$$s||$$26.$$s;return null==enum$&&(enum$=nil),args=Opal.slice.call(arguments,1,arguments.length),$truthy($rb_lt(dropped,n))?dropped=$rb_plus(dropped,1):$send(enum$,"yield",Opal.to_a(args))}).$$s=this,$$26.$$arity=-2,$$26))},$Lazy_take$37.$$arity=1),Opal.def($Lazy_inspect$41,"$drop_while",$Lazy_drop_while$27=function(){var $$28,$iter=$Lazy_drop_while$27.$$p,block=$iter||nil,succeeding=nil;return $iter&&($Lazy_drop_while$27.$$p=null),$iter&&($Lazy_drop_while$27.$$p=null),$truthy(block)||this.$raise($$($nesting,"ArgumentError"),"tried to call lazy drop_while without a block"),succeeding=!0,$send($$($nesting,"Lazy"),"new",[this,nil],(($$28=function(enum$,$a){var args;null==$$28.$$s||$$28.$$s;if(null==enum$&&(enum$=nil),args=Opal.slice.call(arguments,1,arguments.length),!$truthy(succeeding))return $send(enum$,"yield",Opal.to_a(args));var value=Opal.yieldX(block,args);$falsy(value)&&(succeeding=!1,$send(enum$,"yield",Opal.to_a(args)))}).$$s=this,$$28.$$arity=-2,$$28))},$Lazy_drop_while$27.$$arity=0),Opal.def($Lazy_inspect$41,"$enum_for",$Lazy_enum_for$29=function($a,$b){var method,args=$Lazy_enum_for$29.$$p,block=args||nil,self=this;return args&&($Lazy_enum_for$29.$$p=null),args&&($Lazy_enum_for$29.$$p=null),0<(args=Opal.slice.call(arguments,0,arguments.length)).length&&(method=args[0],args.splice(0,1)),null==method&&(method="each"),args=args,$send(self.$class(),"for",[self,method].concat(Opal.to_a(args)),block.$to_proc())},$Lazy_enum_for$29.$$arity=-1),Opal.alias($Lazy_inspect$41,"filter","find_all"),Opal.def($Lazy_inspect$41,"$find_all",$Lazy_find_all$30=function(){var $$31,$iter=$Lazy_find_all$30.$$p,block=$iter||nil;return $iter&&($Lazy_find_all$30.$$p=null),$iter&&($Lazy_find_all$30.$$p=null),$truthy(block)||this.$raise($$($nesting,"ArgumentError"),"tried to call lazy select without a block"),$send($$($nesting,"Lazy"),"new",[this,nil],(($$31=function(enum$,$a){var args;null==$$31.$$s||$$31.$$s;null==enum$&&(enum$=nil),args=Opal.slice.call(arguments,1,arguments.length);var value=Opal.yieldX(block,args);$truthy(value)&&$send(enum$,"yield",Opal.to_a(args))}).$$s=this,$$31.$$arity=-2,$$31))},$Lazy_find_all$30.$$arity=0),Opal.alias($Lazy_inspect$41,"flat_map","collect_concat"),Opal.def($Lazy_inspect$41,"$grep",$Lazy_grep$32=function(pattern){var $$33,$$34,$iter=$Lazy_grep$32.$$p,block=$iter||nil;return $iter&&($Lazy_grep$32.$$p=null),$iter&&($Lazy_grep$32.$$p=null),$truthy(block)?$send($$($nesting,"Lazy"),"new",[this,nil],(($$33=function(enum$,$a){null==$$33.$$s||$$33.$$s;null==enum$&&(enum$=nil),value=Opal.slice.call(arguments,1,arguments.length);var param=$$($nesting,"Opal").$destructure(value),value=pattern["$==="](param);$truthy(value)&&(Opal.yield1(block,param),enum$.$yield(Opal.yield1(block,param)))}).$$s=this,$$33.$$arity=-2,$$33)):$send($$($nesting,"Lazy"),"new",[this,nil],(($$34=function(enum$,$a){null==$$34.$$s||$$34.$$s;null==enum$&&(enum$=nil),value=Opal.slice.call(arguments,1,arguments.length);var param=$$($nesting,"Opal").$destructure(value),value=pattern["$==="](param);$truthy(value)&&enum$.$yield(param)}).$$s=this,$$34.$$arity=-2,$$34))},$Lazy_grep$32.$$arity=1),Opal.alias($Lazy_inspect$41,"map","collect"),Opal.alias($Lazy_inspect$41,"select","find_all"),Opal.def($Lazy_inspect$41,"$reject",$Lazy_reject$35=function(){var $$36,$iter=$Lazy_reject$35.$$p,block=$iter||nil;return $iter&&($Lazy_reject$35.$$p=null),$iter&&($Lazy_reject$35.$$p=null),$truthy(block)||this.$raise($$($nesting,"ArgumentError"),"tried to call lazy reject without a block"),$send($$($nesting,"Lazy"),"new",[this,nil],(($$36=function(enum$,$a){var args;null==$$36.$$s||$$36.$$s;null==enum$&&(enum$=nil),args=Opal.slice.call(arguments,1,arguments.length);var value=Opal.yieldX(block,args);$falsy(value)&&$send(enum$,"yield",Opal.to_a(args))}).$$s=this,$$36.$$arity=-2,$$36))},$Lazy_reject$35.$$arity=0),Opal.def($Lazy_inspect$41,"$take",$Lazy_take$37=function(n){var $$38,current_size,set_size,taken=nil;return n=$coerce_to(n,$$($nesting,"Integer"),"to_int"),$truthy($rb_lt(n,0))&&this.$raise($$($nesting,"ArgumentError"),"attempt to take negative size"),current_size=this.$enumerator_size(),set_size=$truthy($$($nesting,"Integer")["$==="](current_size))&&$truthy($rb_lt(n,current_size))?n:current_size,taken=0,$send($$($nesting,"Lazy"),"new",[this,set_size],(($$38=function(enum$,$a){var args,self=null==$$38.$$s?this:$$38.$$s;return null==enum$&&(enum$=nil),args=Opal.slice.call(arguments,1,arguments.length),$truthy($rb_lt(taken,n))?($send(enum$,"yield",Opal.to_a(args)),taken=$rb_plus(taken,1)):self.$raise($$($nesting,"StopLazyError"))}).$$s=this,$$38.$$arity=-2,$$38))},$Lazy_take$37.$$arity=1),Opal.def($Lazy_inspect$41,"$take_while",$Lazy_take_while$39=function(){var $$40,$iter=$Lazy_take_while$39.$$p,block=$iter||nil;return $iter&&($Lazy_take_while$39.$$p=null),$iter&&($Lazy_take_while$39.$$p=null),$truthy(block)||this.$raise($$($nesting,"ArgumentError"),"tried to call lazy take_while without a block"),$send($$($nesting,"Lazy"),"new",[this,nil],(($$40=function(enum$,$a){var args,self=null==$$40.$$s?this:$$40.$$s;null==enum$&&(enum$=nil),args=Opal.slice.call(arguments,1,arguments.length);var value=Opal.yieldX(block,args);$truthy(value)?$send(enum$,"yield",Opal.to_a(args)):self.$raise($$($nesting,"StopLazyError"))}).$$s=this,$$40.$$arity=-2,$$40))},$Lazy_take_while$39.$$arity=0),Opal.alias($Lazy_inspect$41,"to_enum","enum_for"),Opal.def($Lazy_inspect$41,"$inspect",$Lazy_inspect$41=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},$Lazy_inspect$41.$$arity=0)}($nesting[0],self,$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"ArithmeticSequence")].concat($parent_nesting);return nil}($nesting[0],self,$nesting)}($nesting[0],$nesting)},Opal.modules["corelib/numeric"]=function(Opal){function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_times(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$truthy=Opal.truthy,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$<=>","$compare","$enum_for","$to_proc","$negative?","$>=","$<=","$+","$to_i","$truncate","$>"]),self.$require("corelib/comparable"),function($Numeric_infinite$ques$38,$Numeric_finite$ques$37){var $Numeric_step$28,$Numeric_infinite$ques$38=$klass($Numeric_infinite$ques$38,null,"Numeric"),$nesting=[$Numeric_infinite$ques$38].concat($Numeric_finite$ques$37);return $Numeric_infinite$ques$38.$include($$($nesting,"Comparable")),Opal.def($Numeric_infinite$ques$38,"$coerce",$Numeric_finite$ques$37=function(other){return $truthy(other["$instance_of?"](this.$class()))?[other,this]:[this.$Float(other),this.$Float(this)]},$Numeric_finite$ques$37.$$arity=1),Opal.def($Numeric_infinite$ques$38,"$__coerced__",$Numeric_finite$ques$37=function(method,other){var $a,b,self=this,a=nil,$case=nil;return $truthy(other["$respond_to?"]("coerce"))?($a=other.$coerce(self),a=null==($a=Opal.to_ary($a))[0]?nil:$a[0],b=null==$a[1]?nil:$a[1],a.$__send__(method,b)):"+"["$==="]($case=method)||"-"["$==="]($case)||"*"["$==="]($case)||"/"["$==="]($case)||"%"["$==="]($case)||"&"["$==="]($case)||"|"["$==="]($case)||"^"["$==="]($case)||"**"["$==="]($case)?self.$raise($$($nesting,"TypeError"),other.$class()+" can't be coerced into Numeric"):">"["$==="]($case)||">="["$==="]($case)||"<"["$==="]($case)||"<="["$==="]($case)||"<=>"["$==="]($case)?self.$raise($$($nesting,"ArgumentError"),"comparison of "+self.$class()+" with "+other.$class()+" failed"):nil},$Numeric_finite$ques$37.$$arity=2),Opal.def($Numeric_infinite$ques$38,"$<=>",$Numeric_finite$ques$37=function(other){return $truthy(this["$equal?"](other))?0:nil},$Numeric_finite$ques$37.$$arity=1),Opal.def($Numeric_infinite$ques$38,"$+@",$Numeric_finite$ques$37=function(){return this},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$-@",$Numeric_finite$ques$37=function(){return $rb_minus(0,this)},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$%",$Numeric_finite$ques$37=function(other){return $rb_minus(this,$rb_times(other,this.$div(other)))},$Numeric_finite$ques$37.$$arity=1),Opal.def($Numeric_infinite$ques$38,"$abs",$Numeric_finite$ques$37=function(){return $rb_lt(this,0)?this["$-@"]():this},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$abs2",$Numeric_finite$ques$37=function(){return $rb_times(this,this)},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$angle",$Numeric_finite$ques$37=function(){return $rb_lt(this,0)?$$$($$($nesting,"Math"),"PI"):0},$Numeric_finite$ques$37.$$arity=0),Opal.alias($Numeric_infinite$ques$38,"arg","angle"),Opal.def($Numeric_infinite$ques$38,"$ceil",$Numeric_finite$ques$37=function(ndigits){return null==ndigits&&(ndigits=0),this.$to_f().$ceil(ndigits)},$Numeric_finite$ques$37.$$arity=-1),Opal.def($Numeric_infinite$ques$38,"$conj",$Numeric_finite$ques$37=function(){return this},$Numeric_finite$ques$37.$$arity=0),Opal.alias($Numeric_infinite$ques$38,"conjugate","conj"),Opal.def($Numeric_infinite$ques$38,"$denominator",$Numeric_finite$ques$37=function(){return this.$to_r().$denominator()},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$div",$Numeric_finite$ques$37=function(other){return other["$=="](0)&&this.$raise($$($nesting,"ZeroDivisionError"),"divided by o"),$rb_divide(this,other).$floor()},$Numeric_finite$ques$37.$$arity=1),Opal.def($Numeric_infinite$ques$38,"$divmod",$Numeric_finite$ques$37=function(other){return[this.$div(other),this["$%"](other)]},$Numeric_finite$ques$37.$$arity=1),Opal.def($Numeric_infinite$ques$38,"$fdiv",$Numeric_finite$ques$37=function(other){return $rb_divide(this.$to_f(),other)},$Numeric_finite$ques$37.$$arity=1),Opal.def($Numeric_infinite$ques$38,"$floor",$Numeric_finite$ques$37=function(ndigits){return null==ndigits&&(ndigits=0),this.$to_f().$floor(ndigits)},$Numeric_finite$ques$37.$$arity=-1),Opal.def($Numeric_infinite$ques$38,"$i",$Numeric_finite$ques$37=function(){return this.$Complex(0,this)},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$imag",$Numeric_finite$ques$37=function(){return 0},$Numeric_finite$ques$37.$$arity=0),Opal.alias($Numeric_infinite$ques$38,"imaginary","imag"),Opal.def($Numeric_infinite$ques$38,"$integer?",$Numeric_finite$ques$37=function(){return!1},$Numeric_finite$ques$37.$$arity=0),Opal.alias($Numeric_infinite$ques$38,"magnitude","abs"),Opal.alias($Numeric_infinite$ques$38,"modulo","%"),Opal.def($Numeric_infinite$ques$38,"$nonzero?",$Numeric_finite$ques$37=function(){return $truthy(this["$zero?"]())?nil:this},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$numerator",$Numeric_finite$ques$37=function(){return this.$to_r().$numerator()},$Numeric_finite$ques$37.$$arity=0),Opal.alias($Numeric_infinite$ques$38,"phase","arg"),Opal.def($Numeric_infinite$ques$38,"$polar",$Numeric_finite$ques$37=function(){return[this.$abs(),this.$arg()]},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$quo",$Numeric_finite$ques$37=function(other){return $rb_divide($$($nesting,"Opal")["$coerce_to!"](this,$$($nesting,"Rational"),"to_r"),other)},$Numeric_finite$ques$37.$$arity=1),Opal.def($Numeric_infinite$ques$38,"$real",$Numeric_finite$ques$37=function(){return this},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$real?",$Numeric_finite$ques$37=function(){return!0},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$rect",$Numeric_finite$ques$37=function(){return[this,0]},$Numeric_finite$ques$37.$$arity=0),Opal.alias($Numeric_infinite$ques$38,"rectangular","rect"),Opal.def($Numeric_infinite$ques$38,"$round",$Numeric_finite$ques$37=function(digits){return this.$to_f().$round(digits)},$Numeric_finite$ques$37.$$arity=-1),Opal.def($Numeric_infinite$ques$38,"$step",$Numeric_step$28=function($a,$b,$c){var to,isInf=$Numeric_step$28.$$p,block=isInf||nil,self=this,counter=nil;if(isInf&&($Numeric_step$28.$$p=null),isInf&&($Numeric_step$28.$$p=null),to=Opal.slice.call(arguments,0,arguments.length),null==(isInf=Opal.extract_kwargs(to)))isInf=$hash2([],{});else if(!isInf.$$is_hash)throw Opal.ArgumentError.$new("expected kwargs");function validateParameters(){step===nil&&self.$raise($$($nesting,"TypeError"),"step must be numeric"),null!=step&&step["$=="](0)&&self.$raise($$($nesting,"ArgumentError"),"step can't be 0"),step!==nil&&null!=step||(step=1);var sign=step["$<=>"](0);sign===nil&&self.$raise($$($nesting,"ArgumentError"),"0 can't be coerced into "+step.$class()),limit!==nil&&null!=limit||(limit=0<sign?$$$($$($nesting,"Float"),"INFINITY"):$$$($$($nesting,"Float"),"INFINITY")["$-@"]()),$$($nesting,"Opal").$compare(self,limit)}function stepFloatSize(){if(0<step&&limit<self||step<0&&self<limit)return 0;if(step===1/0||step===-1/0)return 1;var err=Math.abs,floor=Math.floor,err=(err(self)+err(limit)+err(limit-self))/err(step)*$$$($$($nesting,"Float"),"EPSILON");return err===1/0||err===-1/0?0:(.5<err&&(err=.5),floor((limit-self)/step+err)+1)}if(0<to.length&&(limit=to[0],to.splice(0,1)),0<to.length&&(step=to[0],to.splice(0,1)),to=isInf.$$smap.to,isInf=isInf.$$smap.by,void 0!==limit&&void 0!==to&&self.$raise($$($nesting,"ArgumentError"),"to is given twice"),void 0!==step&&void 0!==isInf&&self.$raise($$($nesting,"ArgumentError"),"step is given twice"),void 0!==to&&(limit=to),void 0!==isInf&&(step=isInf),void 0===limit&&(limit=nil),block===nil)return $send(self,"enum_for",["step",limit,step],function(){if(validateParameters(),0===step)return 1/0;if(step%1!=0)return stepFloatSize();if(0<step&&limit<self||step<0&&self<limit)return 0;var ceil=Math.ceil,abs=Math.abs;return ceil((abs(self-limit)+1)/abs(step))}.$to_proc());validateParameters();var lhs,rhs,isDesc=step["$negative?"](),isInf=step["$=="](0)||limit===1/0&&!isDesc||limit===-1/0&&isDesc;if(self.$$is_number&&step.$$is_number&&limit.$$is_number){if(self%1!=0||!isInf&&limit%1!=0||step%1!=0){var begin=self.$to_f().valueOf(),step=step.$to_f().valueOf(),limit=limit.$to_f().valueOf(),n=stepFloatSize();if(isFinite(step))if(0===step)for(;;)block(begin);else for(var i=0;i<n;i++){var d=i*step+self;(0<=step?limit<d:d<limit)&&(d=limit),block(d)}else 0!==n&&block(begin);return self}var value=self;if(isInf)for(;;value+=step)block(value);else if(isDesc)for(;limit<=value;value+=step)block(value);else for(;value<=limit;value+=step)block(value);return self}for(counter=self;$truthy(isDesc?(rhs=limit,"number"==typeof(lhs=counter)&&"number"==typeof rhs?rhs<=lhs:lhs["$>="](rhs)):function(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<=rhs:lhs["$<="](rhs)}(counter,limit));)Opal.yield1(block,counter),counter=function(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}(counter,step)},$Numeric_step$28.$$arity=-1),Opal.def($Numeric_infinite$ques$38,"$to_c",$Numeric_finite$ques$37=function(){return this.$Complex(this,0)},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$to_int",$Numeric_finite$ques$37=function(){return this.$to_i()},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$truncate",$Numeric_finite$ques$37=function(ndigits){return null==ndigits&&(ndigits=0),this.$to_f().$truncate(ndigits)},$Numeric_finite$ques$37.$$arity=-1),Opal.def($Numeric_infinite$ques$38,"$zero?",$Numeric_finite$ques$37=function(){return this["$=="](0)},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$positive?",$Numeric_finite$ques$37=function(){var lhs,rhs;return rhs=0,"number"==typeof(lhs=this)&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$negative?",$Numeric_finite$ques$37=function(){return $rb_lt(this,0)},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$dup",$Numeric_finite$ques$37=function(){return this},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$clone",$Numeric_finite$ques$37=function($kwargs){if(null==$kwargs)$kwargs=$hash2([],{});else if(!$kwargs.$$is_hash)throw Opal.ArgumentError.$new("expected kwargs");return $kwargs.$$smap.freeze,this},$Numeric_finite$ques$37.$$arity=-1),Opal.def($Numeric_infinite$ques$38,"$finite?",$Numeric_finite$ques$37=function(){return!0},$Numeric_finite$ques$37.$$arity=0),Opal.def($Numeric_infinite$ques$38,"$infinite?",$Numeric_infinite$ques$38=function(){return nil},$Numeric_infinite$ques$38.$$arity=0),nil&&"infinite?"}($nesting[0],$nesting)},Opal.modules["corelib/array"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$truthy=Opal.truthy,$falsy=Opal.falsy,$hash_ids=Opal.hash_ids,$yield1=Opal.yield1,$hash_get=Opal.hash_get,$hash_put=Opal.hash_put,$hash_delete=Opal.hash_delete,$coerce_to=Opal.coerce_to,$respond_to=Opal.respond_to,$klass=Opal.klass,$hash2=Opal.hash2,$send2=Opal.send2,$send=Opal.send,$gvars=Opal.gvars;return Opal.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to?","$===","$join","$to_str","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$class","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$reduce","$-","$[]","$dig","$eql?","$length","$exclude_end?","$flatten","$__id__","$&","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$<<","$uniq","$|","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),self.$require("corelib/enumerable"),self.$require("corelib/numeric"),function($base,$Array_pack$126,$Array_inherited$123){var $Array_initialize$2,$Array_any$ques$14,$Array_bsearch_index$17,$Array_bsearch$18,$Array_cycle$19,$Array_count$22,$Array_collect$24,$Array_collect$excl$26,$Array_combination$28,$Array_repeated_combination$30,$Array_delete$37,$Array_delete_if$39,$Array_dup$45,$Array_each$46,$Array_each_index$48,$Array_fetch$52,$Array_fill$53,$Array_index$59,$Array_keep_if$65,$Array_max$69,$Array_min$70,$Array_permutation$71,$Array_repeated_permutation$73,$Array_product$76,$Array_reject$79,$Array_reject$excl$81,$Array_reverse_each$86,$Array_rindex$88,$Array_select$94,$Array_select$excl$96,$Array_sort$102,$Array_sort$excl$103,$Array_sort_by$excl$104,$Array_take_while$107,$Array_to_h$110,$Array_uniq$116,$Array_uniq$excl$117,$Array_zip$122,$Array_instance_variables$124,$Array_pack$126=$klass($base,$Array_pack$126,"Array"),$nesting=[$Array_pack$126].concat($Array_inherited$123);function filterIf(self,filter,block){for(var value,raised=null,updated=new Array(self.length),i=0,i2=0,length=self.length;i<length;i++){if(!raised)try{value=$yield1(block,self[i])}catch(error){raised=error}(raised||filter(value))&&(updated[i2]=self[i],i2+=1)}if(i2!==i&&(self.splice.apply(self,[0,updated.length].concat(updated)),self.splice(i2,updated.length)),raised)throw raised}function binomial_coefficient(n,k){return n===k||0===k?1:0<k&&k<n?binomial_coefficient(n-1,k-1)+binomial_coefficient(n-1,k):0}return $Array_pack$126.$include($$($nesting,"Enumerable")),Opal.defineProperty($Array_pack$126.$$prototype,"$$is_array",!0),Opal.defs($Array_pack$126,"$[]",$Array_inherited$123=function($a){var obj,klass=Opal.slice.call(arguments,0,arguments.length);return obj=klass,(klass=this).$$name===Opal.Array?obj:klass.$allocate().$replace(obj.$to_a())},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$initialize",$Array_initialize$2=function(size,obj){var i,value,$iter=$Array_initialize$2.$$p,block=$iter||nil;if($iter&&($Array_initialize$2.$$p=null),$iter&&($Array_initialize$2.$$p=null),null==size&&(size=nil),null==obj&&(obj=nil),obj!==nil&&block!==nil&&this.$warn("warning: block supersedes default value argument"),size>$$$($$($nesting,"Integer"),"MAX")&&this.$raise($$($nesting,"ArgumentError"),"array size too big"),2<arguments.length&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(size.$$is_array)return this.$replace(size.$to_a()),this;if(size["$respond_to?"]("to_ary"))return this.$replace(size.$to_ary()),this}if((size=$coerce_to(size,$$($nesting,"Integer"),"to_int"))<0&&this.$raise($$($nesting,"ArgumentError"),"negative array size"),this.splice(0,this.length),block===nil)for(i=0;i<size;i++)this.push(obj);else for(i=0;i<size;i++)value=block(i),this[i]=value;return this},$Array_initialize$2.$$arity=-1),Opal.defs($Array_pack$126,"$try_convert",$Array_inherited$123=function(obj){return $$($nesting,"Opal")["$coerce_to?"](obj,$$($nesting,"Array"),"to_ary")},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$&",$Array_inherited$123=function(other){other=($truthy($$($nesting,"Array")["$==="](other))?other:$coerce_to(other,$$($nesting,"Array"),"to_ary")).$to_a();for(var item,result=[],hash=$hash2([],{}),i=0,length=other.length;i<length;i++)$hash_put(hash,other[i],!0);for(i=0,length=this.length;i<length;i++)item=this[i],void 0!==$hash_delete(hash,item)&&result.push(item);return result},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$|",$Array_inherited$123=function(other){other=($truthy($$($nesting,"Array")["$==="](other))?other:$coerce_to(other,$$($nesting,"Array"),"to_ary")).$to_a();for(var hash=$hash2([],{}),i=0,length=this.length;i<length;i++)$hash_put(hash,this[i],!0);for(i=0,length=other.length;i<length;i++)$hash_put(hash,other[i],!0);return hash.$keys()},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$*",$Array_inherited$123=function(other){if($truthy(other["$respond_to?"]("to_str")))return this.$join(other.$to_str());other=$coerce_to(other,$$($nesting,"Integer"),"to_int"),$truthy(other<0)&&this.$raise($$($nesting,"ArgumentError"),"negative argument");for(var result=[],converted=this.$to_a(),i=0;i<other;i++)result=result.concat(converted);return result},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$+",$Array_inherited$123=function(other){return other=($truthy($$($nesting,"Array")["$==="](other))?other:$coerce_to(other,$$($nesting,"Array"),"to_ary")).$to_a(),this.concat(other)},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$-",$Array_inherited$123=function(other){if(other=($truthy($$($nesting,"Array")["$==="](other))?other:$coerce_to(other,$$($nesting,"Array"),"to_ary")).$to_a(),$truthy(0===this.length))return[];if($truthy(0===other.length))return this.slice();for(var item,result=[],hash=$hash2([],{}),i=0,length=other.length;i<length;i++)$hash_put(hash,other[i],!0);for(i=0,length=this.length;i<length;i++)item=this[i],void 0===$hash_get(hash,item)&&result.push(item);return result},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$<<",$Array_inherited$123=function(object){return this.push(object),this},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$<=>",$Array_inherited$123=function(other){if($truthy($$($nesting,"Array")["$==="](other)))other=other.$to_a();else{if(!$truthy(other["$respond_to?"]("to_ary")))return nil;other=other.$to_ary().$to_a()}if(this.$hash()===other.$hash())return 0;for(var count=Math.min(this.length,other.length),i=0;i<count;i++){var tmp=this[i]["$<=>"](other[i]);if(0!==tmp)return tmp}return this.length["$<=>"](other.length)},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$==",$Array_inherited$123=function(other){var recursed={};return function _eqeq(array,other){var i,length,a,b;if(array===other)return!0;if(!other.$$is_array)return!!$respond_to(other,"$to_ary")&&other["$=="](array);if(array.$$constructor!==Array&&(array=array.$to_a()),other.$$constructor!==Array&&(other=other.$to_a()),array.length!==other.length)return!1;for(recursed[array.$object_id()]=!0,i=0,length=array.length;i<length;i++)if(a=array[i],b=other[i],a.$$is_array){if(b.$$is_array&&b.length!==a.length)return!1;if(!recursed.hasOwnProperty(a.$object_id())&&!_eqeq(a,b))return!1}else if(!a["$=="](b))return!1;return!0}(this,other)},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$[]",$Array_inherited$123=function(index,length){return index.$$is_range?function(self,to){var size=self.length,exclude=to.excl,from=$coerce_to(to.begin,Opal.Integer,"to_int"),to=$coerce_to(to.end,Opal.Integer,"to_int");return from<0&&(from+=size)<0||size<from?nil:to<0&&(to+=size)<0?[]:(exclude||(to+=1),self.slice(from,to))}(this,index):function(self,index,length){var size=self.length;return(index=$coerce_to(index,Opal.Integer,"to_int"))<0&&(index+=size)<0?nil:void 0===length?size<=index||index<0?nil:self[index]:(length=$coerce_to(length,Opal.Integer,"to_int"))<0||size<index||index<0?nil:self.slice(index,index+length)}(this,index,length)},$Array_inherited$123.$$arity=-2),Opal.def($Array_pack$126,"$[]=",$Array_inherited$123=function(index,value,extra){var i,data=nil,length=nil,size=this.length;if($truthy($$($nesting,"Range")["$==="](index))){data=$truthy($$($nesting,"Array")["$==="](value))?value.$to_a():$truthy(value["$respond_to?"]("to_ary"))?value.$to_ary().$to_a():[value];var exclude=index.excl,from=$coerce_to(index.begin,$$($nesting,"Integer"),"to_int"),old=$coerce_to(index.end,$$($nesting,"Integer"),"to_int");if(from<0&&(from+=size)<0&&this.$raise($$($nesting,"RangeError"),index.$inspect()+" out of range"),old<0&&(old+=size),exclude||(old+=1),size<from)for(i=size;i<from;i++)this[i]=nil;return old<0?this.splice.apply(this,[from,0].concat(data)):this.splice.apply(this,[from,old-from].concat(data)),value}if($truthy(void 0===extra)?length=1:(length=value,value=extra,data=$truthy($$($nesting,"Array")["$==="](value))?value.$to_a():$truthy(value["$respond_to?"]("to_ary"))?value.$to_ary().$to_a():[value]),index=$coerce_to(index,$$($nesting,"Integer"),"to_int"),length=$coerce_to(length,$$($nesting,"Integer"),"to_int"),index<0&&(old=index,(index+=size)<0&&this.$raise($$($nesting,"IndexError"),"index "+old+" too small for array; minimum "+-this.length)),length<0&&this.$raise($$($nesting,"IndexError"),"negative length ("+length+")"),size<index)for(i=size;i<index;i++)this[i]=nil;return void 0===extra?this[index]=value:this.splice.apply(this,[index,length].concat(data)),value},$Array_inherited$123.$$arity=-3),Opal.def($Array_pack$126,"$any?",$Array_any$ques$14=function(pattern){var $zuper_ii,$iter=$Array_any$ques$14.$$p,$zuper=nil,$zuper_i=nil;for($iter&&($Array_any$ques$14.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $iter&&($Array_any$ques$14.$$p=null),0!==this.length&&$send2(this,Opal.find_super_dispatcher(this,"any?",$Array_any$ques$14,!1,!0),"any?",$zuper,$iter)},$Array_any$ques$14.$$arity=-1),Opal.def($Array_pack$126,"$assoc",$Array_inherited$123=function(object){for(var item,i=0,length=this.length;i<length;i++)if((item=this[i]).length&&item[0]["$=="](object))return item;return nil},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$at",$Array_inherited$123=function(index){return(index=$coerce_to(index,$$($nesting,"Integer"),"to_int"))<0&&(index+=this.length),index<0||index>=this.length?nil:this[index]},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$bsearch_index",$Array_bsearch_index$17=function(){var $iter=$Array_bsearch_index$17.$$p,block=$iter||nil;if($iter&&($Array_bsearch_index$17.$$p=null),$iter&&($Array_bsearch_index$17.$$p=null),block===nil)return this.$enum_for("bsearch_index");for(var mid,ret,min=0,max=this.length,smaller=!1,satisfied=nil;min<max;){if(ret=this[mid=min+Math.floor((max-min)/2)],!0===(ret=$yield1(block,ret)))satisfied=mid,smaller=!0;else if(!1===ret||ret===nil)smaller=!1;else if(ret.$$is_number){if(0===ret)return mid;smaller=ret<0}else this.$raise($$($nesting,"TypeError"),"wrong argument type "+ret.$class()+" (must be numeric, true, false or nil)");smaller?max=mid:min=mid+1}return satisfied},$Array_bsearch_index$17.$$arity=0),Opal.def($Array_pack$126,"$bsearch",$Array_bsearch$18=function(){var index,$iter=$Array_bsearch$18.$$p,block=$iter||nil;return $iter&&($Array_bsearch$18.$$p=null),$iter&&($Array_bsearch$18.$$p=null),block===nil?this.$enum_for("bsearch"):null!=(index=$send(this,"bsearch_index",[],block.$to_proc()))&&index.$$is_number?this[index]:index},$Array_bsearch$18.$$arity=0),Opal.def($Array_pack$126,"$cycle",$Array_cycle$19=function(n){var $$20,i,length,$iter=$Array_cycle$19.$$p,block=$iter||nil,self=this,$ret_or_1=nil;if($iter&&($Array_cycle$19.$$p=null),$iter&&($Array_cycle$19.$$p=null),null==n&&(n=nil),block===nil)return $send(self,"enum_for",["cycle",n],(($$20=function(){var lhs,rhs=null==$$20.$$s?this:$$20.$$s;return $truthy(n["$nil?"]())?$$$($$($nesting,"Float"),"INFINITY"):(n=$$($nesting,"Opal")["$coerce_to!"](n,$$($nesting,"Integer"),"to_int"),$truthy($rb_gt(n,0))?(lhs=rhs.$enumerator_size(),rhs=n,"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)):0)}).$$s=self,$$20.$$arity=0,$$20));if($truthy($truthy($ret_or_1=self["$empty?"]())?$ret_or_1:n["$=="](0)))return nil;if(n===nil)for(;;)for(i=0,length=self.length;i<length;i++)$yield1(block,self[i]);else{if((n=$$($nesting,"Opal")["$coerce_to!"](n,$$($nesting,"Integer"),"to_int"))<=0)return self;for(;0<n;){for(i=0,length=self.length;i<length;i++)$yield1(block,self[i]);n--}}return self},$Array_cycle$19.$$arity=-1),Opal.def($Array_pack$126,"$clear",$Array_inherited$123=function(){return this.splice(0,this.length),this},$Array_inherited$123.$$arity=0),Opal.def($Array_pack$126,"$count",$Array_count$22=function(object){var $zuper_ii,$iter=$Array_count$22.$$p,block=$iter||nil,$ret_or_2=nil,$zuper=nil,$zuper_i=nil;for($iter&&($Array_count$22.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $iter&&($Array_count$22.$$p=null),null==object&&(object=nil),$truthy($truthy($ret_or_2=object)?$ret_or_2:block)?$send2(this,Opal.find_super_dispatcher(this,"count",$Array_count$22,!1,!0),"count",$zuper,$iter):this.$size()},$Array_count$22.$$arity=-1),Opal.def($Array_pack$126,"$initialize_copy",$Array_inherited$123=function(other){return this.$replace(other)},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$collect",$Array_collect$24=function(){var $$25,$iter=$Array_collect$24.$$p,block=$iter||nil;if($iter&&($Array_collect$24.$$p=null),$iter&&($Array_collect$24.$$p=null),block===nil)return $send(this,"enum_for",["collect"],(($$25=function(){return(null==$$25.$$s?this:$$25.$$s).$size()}).$$s=this,$$25.$$arity=0,$$25));for(var result=[],i=0,length=this.length;i<length;i++){var value=$yield1(block,this[i]);result.push(value)}return result},$Array_collect$24.$$arity=0),Opal.def($Array_pack$126,"$collect!",$Array_collect$excl$26=function(){var $$27,$iter=$Array_collect$excl$26.$$p,block=$iter||nil;if($iter&&($Array_collect$excl$26.$$p=null),$iter&&($Array_collect$excl$26.$$p=null),block===nil)return $send(this,"enum_for",["collect!"],(($$27=function(){return(null==$$27.$$s?this:$$27.$$s).$size()}).$$s=this,$$27.$$arity=0,$$27));for(var i=0,length=this.length;i<length;i++){var value=$yield1(block,this[i]);this[i]=value}return this},$Array_collect$excl$26.$$arity=0),Opal.def($Array_pack$126,"$combination",$Array_combination$28=function(n){var $$29,num,i,length,stack,chosen,lev,done,next,$iter=$Array_combination$28.$$p,$yield=$iter||nil;if($iter&&($Array_combination$28.$$p=null),num=$$($nesting,"Opal")["$coerce_to!"](n,$$($nesting,"Integer"),"to_int"),$yield===nil)return $send(this,"enum_for",["combination",num],(($$29=function(){return binomial_coefficient((null==$$29.$$s?this:$$29.$$s).length,num)}).$$s=this,$$29.$$arity=0,$$29));if(0===num)Opal.yield1($yield,[]);else if(1===num)for(i=0,length=this.length;i<length;i++)Opal.yield1($yield,[this[i]]);else if(num===this.length)Opal.yield1($yield,this.slice());else if(0<=num&&num<this.length){for(stack=[],i=0;i<=num+1;i++)stack.push(0);for(done=!(chosen=[]),stack[lev=0]=-1;!done;){for(chosen[lev]=this[stack[lev+1]];lev<num-1;)next=stack[++lev+1]=stack[lev]+1,chosen[lev]=this[next];for(Opal.yield1($yield,chosen.slice()),lev++;done=0===lev,stack[lev]++,lev--,stack[lev+1]+num===this.length+lev+1;);}}return this},$Array_combination$28.$$arity=1),Opal.def($Array_pack$126,"$repeated_combination",$Array_repeated_combination$30=function(n){var $$31,num,$iter=$Array_repeated_combination$30.$$p,$yield=$iter||nil;return $iter&&($Array_repeated_combination$30.$$p=null),num=$$($nesting,"Opal")["$coerce_to!"](n,$$($nesting,"Integer"),"to_int"),$yield===nil?$send(this,"enum_for",["repeated_combination",num],(($$31=function(){return binomial_coefficient((null==$$31.$$s?this:$$31.$$s).length+num-1,num)}).$$s=this,$$31.$$arity=0,$$31)):(0<=num&&function iterate(max,copy,buffer,self){if(buffer.length!=max)for(var i=copy;i<self.length;i++)buffer.push(self[i]),iterate(max,i,buffer,self),buffer.pop();else copy=buffer.slice(),Opal.yield1($yield,copy)}(num,0,[],this),this)},$Array_repeated_combination$30.$$arity=1),Opal.def($Array_pack$126,"$compact",$Array_inherited$123=function(){for(var item,result=[],i=0,length=this.length;i<length;i++)(item=this[i])!==nil&&result.push(item);return result},$Array_inherited$123.$$arity=0),Opal.def($Array_pack$126,"$compact!",$Array_inherited$123=function(){for(var original=this.length,i=0,length=this.length;i<length;i++)this[i]===nil&&(this.splice(i,1),length--,i--);return this.length===original?nil:this},$Array_inherited$123.$$arity=0),Opal.def($Array_pack$126,"$concat",$Array_inherited$123=function($a){var $$35,$$36,others=Opal.slice.call(arguments,0,arguments.length);return others=$send(others,"map",[],(($$35=function(other){var self=null==$$35.$$s?this:$$35.$$s;return null==other&&(other=nil),other=($truthy($$($nesting,"Array")["$==="](other))?other:$coerce_to(other,$$($nesting,"Array"),"to_ary")).$to_a(),$truthy(other["$equal?"](self))&&(other=other.$dup()),other}).$$s=this,$$35.$$arity=1,$$35)),$send(others,"each",[],(($$36=function(other){var self=null==$$36.$$s?this:$$36.$$s;null==other&&(other=nil);for(var i=0,length=other.length;i<length;i++)self.push(other[i])}).$$s=this,$$36.$$arity=1,$$36)),this},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$delete",$Array_delete$37=function(object){var original=$Array_delete$37.$$p,$yield=original||nil;original&&($Array_delete$37.$$p=null);for(var original=this.length,i=0,length=original;i<length;i++)this[i]["$=="](object)&&(this.splice(i,1),length--,i--);return this.length===original?$yield!==nil?Opal.yieldX($yield,[]):nil:object},$Array_delete$37.$$arity=1),Opal.def($Array_pack$126,"$delete_at",$Array_inherited$123=function(index){if((index=$coerce_to(index,$$($nesting,"Integer"),"to_int"))<0&&(index+=this.length),index<0||index>=this.length)return nil;var result=this[index];return this.splice(index,1),result},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$delete_if",$Array_delete_if$39=function(){var $$40,$iter=$Array_delete_if$39.$$p,block=$iter||nil;return $iter&&($Array_delete_if$39.$$p=null),$iter&&($Array_delete_if$39.$$p=null),block===nil?$send(this,"enum_for",["delete_if"],(($$40=function(){return(null==$$40.$$s?this:$$40.$$s).$size()}).$$s=this,$$40.$$arity=0,$$40)):(filterIf(this,$falsy,block),this)},$Array_delete_if$39.$$arity=0),Opal.def($Array_pack$126,"$difference",$Array_inherited$123=function($a){var $$42,$post_args=Opal.slice.call(arguments,0,arguments.length);return $send($post_args,"reduce",[this.$to_a().$dup()],(($$42=function(a,b){null==$$42.$$s||$$42.$$s;return null==a&&(a=nil),null==b&&(b=nil),$rb_minus(a,b)}).$$s=this,$$42.$$arity=2,$$42))},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$dig",$Array_inherited$123=function(idx,$a){var item=nil,idxs=Opal.slice.call(arguments,1,arguments.length);return(item=this["$[]"](idx))===nil||0===idxs.length?item:($truthy(item["$respond_to?"]("dig"))||this.$raise($$($nesting,"TypeError"),item.$class()+" does not have #dig method"),$send(item,"dig",Opal.to_a(idxs)))},$Array_inherited$123.$$arity=-2),Opal.def($Array_pack$126,"$drop",$Array_inherited$123=function(number){return number<0&&this.$raise($$($nesting,"ArgumentError")),this.slice(number)},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$dup",$Array_dup$45=function(){var $zuper_ii,$iter=$Array_dup$45.$$p,$zuper=nil,$zuper_i=nil;for($iter&&($Array_dup$45.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return this.$$class===Opal.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):$send2(this,Opal.find_super_dispatcher(this,"dup",$Array_dup$45,!1,!0),"dup",$zuper,$iter)},$Array_dup$45.$$arity=0),Opal.def($Array_pack$126,"$each",$Array_each$46=function(){var $$47,$iter=$Array_each$46.$$p,block=$iter||nil;if($iter&&($Array_each$46.$$p=null),$iter&&($Array_each$46.$$p=null),block===nil)return $send(this,"enum_for",["each"],(($$47=function(){return(null==$$47.$$s?this:$$47.$$s).$size()}).$$s=this,$$47.$$arity=0,$$47));for(var i=0,length=this.length;i<length;i++)$yield1(block,this[i]);return this},$Array_each$46.$$arity=0),Opal.def($Array_pack$126,"$each_index",$Array_each_index$48=function(){var $$49,$iter=$Array_each_index$48.$$p,block=$iter||nil;if($iter&&($Array_each_index$48.$$p=null),$iter&&($Array_each_index$48.$$p=null),block===nil)return $send(this,"enum_for",["each_index"],(($$49=function(){return(null==$$49.$$s?this:$$49.$$s).$size()}).$$s=this,$$49.$$arity=0,$$49));for(var i=0,length=this.length;i<length;i++)$yield1(block,i);return this},$Array_each_index$48.$$arity=0),Opal.def($Array_pack$126,"$empty?",$Array_inherited$123=function(){return 0===this.length},$Array_inherited$123.$$arity=0),Opal.def($Array_pack$126,"$eql?",$Array_inherited$123=function(other){var recursed={};return function _eql(array,other){var i,length,a,b;if(!other.$$is_array)return!1;if(other=other.$to_a(),array.length!==other.length)return!1;for(recursed[array.$object_id()]=!0,i=0,length=array.length;i<length;i++)if(a=array[i],b=other[i],a.$$is_array){if(b.$$is_array&&b.length!==a.length)return!1;if(!recursed.hasOwnProperty(a.$object_id())&&!_eql(a,b))return!1}else if(!a["$eql?"](b))return!1;return!0}(this,other)},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$fetch",$Array_fetch$52=function(index,defaults){var original=$Array_fetch$52.$$p,block=original||nil;original&&($Array_fetch$52.$$p=null),original&&($Array_fetch$52.$$p=null);original=index;return(index=$coerce_to(index,$$($nesting,"Integer"),"to_int"))<0&&(index+=this.length),0<=index&&index<this.length?this[index]:(block!==nil&&null!=defaults&&this.$warn("warning: block supersedes default value argument"),block!==nil?block(original):null!=defaults?defaults:void(0===this.length?this.$raise($$($nesting,"IndexError"),"index "+original+" outside of array bounds: 0...0"):this.$raise($$($nesting,"IndexError"),"index "+original+" outside of array bounds: -"+this.length+"..."+this.length)))},$Array_fetch$52.$$arity=-2),Opal.def($Array_pack$126,"$fill",$Array_fill$53=function($a){var $b,$c,i,value,args=$Array_fill$53.$$p,block=args||nil,one=nil,two=nil,obj=nil,left=nil,right=nil;if(args&&($Array_fill$53.$$p=null),args&&($Array_fill$53.$$p=null),args=Opal.slice.call(arguments,0,arguments.length),two=$truthy(block)?($truthy(2<args.length)&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+args.$length()+" for 0..2)"),$c=args,one=null==($b=Opal.to_ary($c))[0]?nil:$b[0],null==$b[1]?nil:$b[1]):($truthy(0==args.length)?this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):$truthy(3<args.length)&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+args.$length()+" for 1..3)"),$c=args,obj=null==($b=Opal.to_ary($c))[0]?nil:$b[0],one=null==$b[1]?nil:$b[1],null==$b[2]?nil:$b[2]),$truthy($$($nesting,"Range")["$==="](one))){if($truthy(two)&&this.$raise($$($nesting,"TypeError"),"length invalid with range"),left=$coerce_to(one.begin,$$($nesting,"Integer"),"to_int"),$truthy(left<0)&&(left+=this.length),$truthy(left<0)&&this.$raise($$($nesting,"RangeError"),one.$inspect()+" out of range"),right=$coerce_to(one.end,$$($nesting,"Integer"),"to_int"),$truthy(right<0)&&(right+=this.length),$truthy(one["$exclude_end?"]())||(right+=1),$truthy(right<=left))return this}else if($truthy(one))if(left=$coerce_to(one,$$($nesting,"Integer"),"to_int"),$truthy(left<0)&&(left+=this.length),$truthy(left<0)&&(left=0),$truthy(two)){if(right=$coerce_to(two,$$($nesting,"Integer"),"to_int"),$truthy(0==right))return this;right+=left}else right=this.length;else left=0,right=this.length;if($truthy(left>this.length))for(i=this.length;i<right;i++)this[i]=nil;if($truthy(right>this.length)&&(this.length=right),$truthy(block))for(this.length;left<right;left++)value=block(left),this[left]=value;else for(this.length;left<right;left++)this[left]=obj;return this},$Array_fill$53.$$arity=-1),Opal.def($Array_pack$126,"$first",$Array_inherited$123=function(count){return null==count?0===this.length?nil:this[0]:((count=$coerce_to(count,$$($nesting,"Integer"),"to_int"))<0&&this.$raise($$($nesting,"ArgumentError"),"negative array size"),this.slice(0,count))},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$flatten",$Array_inherited$123=function(level){var self=this;return void 0!==level&&(level=$coerce_to(level,$$($nesting,"Integer"),"to_int")),function _flatten(array,level){for(var item,ary,result=[],i=0,length=(array=array.$to_a()).length;i<length;i++)if(item=array[i],$respond_to(item,"$to_ary",!0))if((ary=item.$to_ary())!==nil)switch(ary.$$is_array||self.$raise($$($nesting,"TypeError")),ary===self&&self.$raise($$($nesting,"ArgumentError")),level){case void 0:result=result.concat(_flatten(ary));break;case 0:result.push(ary);break;default:result.push.apply(result,_flatten(ary,level-1))}else result.push(item);else result.push(item);return result}(self,level)},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$flatten!",$Array_inherited$123=function(level){var flattened=this.$flatten(level);if(this.length==flattened.length){for(var i=0,length=this.length;i<length&&this[i]===flattened[i];i++);if(i==length)return nil}return this.$replace(flattened),this},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$hash",$Array_inherited$123=function(){var item,i,key,top=void 0===$hash_ids,result=["A"],hash_id=this.$object_id();try{if(top&&($hash_ids=Object.create(null)),$hash_ids[hash_id])return"self";for(key in $hash_ids)if(item=$hash_ids[key],this["$eql?"](item))return"self";for($hash_ids[hash_id]=this,i=0;i<this.length;i++)item=this[i],result.push(item.$hash());return result.join(",")}finally{top&&($hash_ids=void 0)}},$Array_inherited$123.$$arity=0),Opal.def($Array_pack$126,"$include?",$Array_inherited$123=function(member){for(var i=0,length=this.length;i<length;i++)if(this[i]["$=="](member))return!0;return!1},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$index",$Array_index$59=function(object){var i,length,value,$iter=$Array_index$59.$$p,block=$iter||nil;if($iter&&($Array_index$59.$$p=null),$iter&&($Array_index$59.$$p=null),null!=object&&block!==nil&&this.$warn("warning: given block not used"),null!=object){for(i=0,length=this.length;i<length;i++)if(this[i]["$=="](object))return i}else{if(block===nil)return this.$enum_for("index");for(i=0,length=this.length;i<length;i++)if(!1!==(value=block(this[i]))&&value!==nil)return i}return nil},$Array_index$59.$$arity=-1),Opal.def($Array_pack$126,"$insert",$Array_inherited$123=function(index,$a){var objects=Opal.slice.call(arguments,1,arguments.length);if(index=$coerce_to(index,$$($nesting,"Integer"),"to_int"),0<objects.length){if(index<0&&(index+=this.length+1)<0&&this.$raise($$($nesting,"IndexError"),index+" is out of bounds"),index>this.length)for(var i=this.length;i<index;i++)this.push(nil);this.splice.apply(this,[index,0].concat(objects))}return this},$Array_inherited$123.$$arity=-2),Opal.def($Array_pack$126,"$inspect",$Array_inherited$123=function(){for(var result=[],id=this.$__id__(),i=0,length=this.length;i<length;i++){var item=this["$[]"](i);item.$__id__()===id?result.push("[...]"):result.push(item.$inspect())}return"["+result.join(", ")+"]"},$Array_inherited$123.$$arity=0),Opal.def($Array_pack$126,"$intersection",$Array_inherited$123=function($a){var $$63,$post_args=Opal.slice.call(arguments,0,arguments.length);return $send($post_args,"reduce",[this.$to_a().$dup()],(($$63=function(a,b){null==$$63.$$s||$$63.$$s;return null==a&&(a=nil),null==b&&(b=nil),a["$&"](b)}).$$s=this,$$63.$$arity=2,$$63))},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$join",$Array_inherited$123=function(sep){if(null==$gvars[","]&&($gvars[","]=nil),null==sep&&(sep=nil),$truthy(0===this.length))return"";$truthy(sep===nil)&&(sep=$gvars[","]);for(var item,tmp,result=[],i=0,length=this.length;i<length;i++)item=this[i],$respond_to(item,"$to_str")&&(tmp=item.$to_str())!==nil?result.push(tmp.$to_s()):$respond_to(item,"$to_ary")&&((tmp=item.$to_ary())===this&&this.$raise($$($nesting,"ArgumentError")),tmp!==nil)?result.push(tmp.$join(sep)):$respond_to(item,"$to_s")&&(tmp=item.$to_s())!==nil?result.push(tmp):this.$raise($$($nesting,"NoMethodError").$new(Opal.inspect(item)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return sep===nil?result.join(""):result.join($$($nesting,"Opal")["$coerce_to!"](sep,$$($nesting,"String"),"to_str").$to_s())},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$keep_if",$Array_keep_if$65=function(){var $$66,$iter=$Array_keep_if$65.$$p,block=$iter||nil;return $iter&&($Array_keep_if$65.$$p=null),$iter&&($Array_keep_if$65.$$p=null),block===nil?$send(this,"enum_for",["keep_if"],(($$66=function(){return(null==$$66.$$s?this:$$66.$$s).$size()}).$$s=this,$$66.$$arity=0,$$66)):(filterIf(this,$truthy,block),this)},$Array_keep_if$65.$$arity=0),Opal.def($Array_pack$126,"$last",$Array_inherited$123=function(count){return null==count?0===this.length?nil:this[this.length-1]:((count=$coerce_to(count,$$($nesting,"Integer"),"to_int"))<0&&this.$raise($$($nesting,"ArgumentError"),"negative array size"),count>this.length&&(count=this.length),this.slice(this.length-count,this.length))},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$length",$Array_inherited$123=function(){return this.length},$Array_inherited$123.$$arity=0),Opal.alias($Array_pack$126,"map","collect"),Opal.alias($Array_pack$126,"map!","collect!"),Opal.def($Array_pack$126,"$max",$Array_max$69=function(n){var $iter=$Array_max$69.$$p,block=$iter||nil;return $iter&&($Array_max$69.$$p=null),$iter&&($Array_max$69.$$p=null),$send(this.$each(),"max",[n],block.$to_proc())},$Array_max$69.$$arity=-1),Opal.def($Array_pack$126,"$min",$Array_min$70=function(){var $iter=$Array_min$70.$$p,block=$iter||nil;return $iter&&($Array_min$70.$$p=null),$iter&&($Array_min$70.$$p=null),$send(this.$each(),"min",[],block.$to_proc())},$Array_min$70.$$arity=0),Opal.def($Array_pack$126,"$permutation",$Array_permutation$71=function(num){var $$72,perm,used,permute,output,offensive=$Array_permutation$71.$$p,block=offensive||nil,self=this;if(offensive&&($Array_permutation$71.$$p=null),offensive&&($Array_permutation$71.$$p=null),block===nil)return $send(self,"enum_for",["permutation",num],(($$72=function(){var self=null==$$72.$$s?this:$$72.$$s;return function(from,how_many){for(var count=0<=how_many?1:0;how_many;)count*=from,from--,how_many--;return count}(self.length,void 0===num?self.length:num)}).$$s=self,$$72.$$arity=0,$$72));if(num=void 0===num?self.length:$coerce_to(num,$$($nesting,"Integer"),"to_int"),!(num<0||self.length<num))if(0===num)Opal.yield1(block,[]);else if(1===num)for(var i=0;i<self.length;i++)Opal.yield1(block,[self[i]]);else perm=$$($nesting,"Array").$new(num),used=$$($nesting,"Array").$new(self.length,!1),permute=function(num,perm,index,used,blk){self=this;for(var i=0;i<self.length;i++)if(used["$[]"](i)["$!"]())if(perm[index]=i,index<num-1)used[i]=!0,permute.call(self,num,perm,index+1,used,blk),used[i]=!1;else{output=[];for(var j=0;j<perm.length;j++)output.push(self[perm[j]]);$yield1(blk,output)}},block!==nil?(offensive=self.slice(),permute.call(offensive,num,perm,0,used,block)):permute.call(self,num,perm,0,used,block);return self},$Array_permutation$71.$$arity=-1),Opal.def($Array_pack$126,"$repeated_permutation",$Array_repeated_permutation$73=function(n){var $$74,num,$iter=$Array_repeated_permutation$73.$$p,$yield=$iter||nil;return $iter&&($Array_repeated_permutation$73.$$p=null),num=$$($nesting,"Opal")["$coerce_to!"](n,$$($nesting,"Integer"),"to_int"),$yield===nil?$send(this,"enum_for",["repeated_permutation",num],(($$74=function(){var lhs,rhs,self=null==$$74.$$s?this:$$74.$$s;return $truthy((rhs=0,"number"==typeof(lhs=num)&&"number"==typeof rhs?rhs<=lhs:lhs["$>="](rhs)))?self.$size()["$**"](num):0}).$$s=this,$$74.$$arity=0,$$74)):(function iterate(max,buffer,self){if(buffer.length!=max)for(var i=0;i<self.length;i++)buffer.push(self[i]),iterate(max,buffer,self),buffer.pop();else{var copy=buffer.slice();Opal.yield1($yield,copy)}}(num,[],this.slice()),this)},$Array_repeated_permutation$73.$$arity=1),Opal.def($Array_pack$126,"$pop",$Array_inherited$123=function(count){return $truthy(void 0===count)?$truthy(0===this.length)?nil:this.pop():(count=$coerce_to(count,$$($nesting,"Integer"),"to_int"),$truthy(count<0)&&this.$raise($$($nesting,"ArgumentError"),"negative array size"),$truthy(0===this.length)?[]:$truthy(1===count)?[this.pop()]:$truthy(count>this.length)?this.splice(0,this.length):this.splice(this.length-count,this.length))},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$product",$Array_product$76=function($a){var args,$post_args=$Array_product$76.$$p,block=$post_args||nil;$post_args&&($Array_product$76.$$p=null),$post_args&&($Array_product$76.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length);var i,m,subarray,len,result=block!==nil?null:[],n=(args=$post_args).length+1,counters=new Array(n),lengths=new Array(n),arrays=new Array(n),resultlen=1;for(arrays[0]=this,i=1;i<n;i++)arrays[i]=$coerce_to(args[i-1],$$($nesting,"Array"),"to_ary");for(i=0;i<n;i++){if(0===(len=arrays[i].length))return result||this;2147483647<(resultlen*=len)&&this.$raise($$($nesting,"RangeError"),"too big to product"),lengths[i]=len,counters[i]=0}outer_loop:for(;;){for(subarray=[],i=0;i<n;i++)subarray.push(arrays[i][counters[i]]);for(result?result.push(subarray):Opal.yield1(block,subarray),counters[m=n-1]++;counters[m]===lengths[m];){if(counters[m]=0,--m<0)break outer_loop;counters[m]++}}return result||this},$Array_product$76.$$arity=-1),Opal.def($Array_pack$126,"$push",$Array_inherited$123=function($a){for(var objects=Opal.slice.call(arguments,0,arguments.length),i=0,length=objects.length;i<length;i++)this.push(objects[i]);return this},$Array_inherited$123.$$arity=-1),Opal.alias($Array_pack$126,"append","push"),Opal.def($Array_pack$126,"$rassoc",$Array_inherited$123=function(object){for(var item,i=0,length=this.length;i<length;i++)if(item=this[i],item.length&&void 0!==item[1]&&item[1]["$=="](object))return item;return nil},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$reject",$Array_reject$79=function(){var $$80,$iter=$Array_reject$79.$$p,block=$iter||nil;if($iter&&($Array_reject$79.$$p=null),$iter&&($Array_reject$79.$$p=null),block===nil)return $send(this,"enum_for",["reject"],(($$80=function(){return(null==$$80.$$s?this:$$80.$$s).$size()}).$$s=this,$$80.$$arity=0,$$80));for(var value,result=[],i=0,length=this.length;i<length;i++)!1!==(value=block(this[i]))&&value!==nil||result.push(this[i]);return result},$Array_reject$79.$$arity=0),Opal.def($Array_pack$126,"$reject!",$Array_reject$excl$81=function(){var $$82,original,$iter=$Array_reject$excl$81.$$p,block=$iter||nil;return $iter&&($Array_reject$excl$81.$$p=null),$iter&&($Array_reject$excl$81.$$p=null),block===nil?$send(this,"enum_for",["reject!"],(($$82=function(){return(null==$$82.$$s?this:$$82.$$s).$size()}).$$s=this,$$82.$$arity=0,$$82)):(original=this.$length(),$send(this,"delete_if",[],block.$to_proc()),this.$length()["$=="](original)?nil:this)},$Array_reject$excl$81.$$arity=0),Opal.def($Array_pack$126,"$replace",$Array_inherited$123=function(other){return other=($truthy($$($nesting,"Array")["$==="](other))?other:$coerce_to(other,$$($nesting,"Array"),"to_ary")).$to_a(),this.splice(0,this.length),this.push.apply(this,other),this},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$reverse",$Array_inherited$123=function(){return this.slice(0).reverse()},$Array_inherited$123.$$arity=0),Opal.def($Array_pack$126,"$reverse!",$Array_inherited$123=function(){return this.reverse()},$Array_inherited$123.$$arity=0),Opal.def($Array_pack$126,"$reverse_each",$Array_reverse_each$86=function(){var $$87,$iter=$Array_reverse_each$86.$$p,block=$iter||nil;return $iter&&($Array_reverse_each$86.$$p=null),$iter&&($Array_reverse_each$86.$$p=null),block===nil?$send(this,"enum_for",["reverse_each"],(($$87=function(){return(null==$$87.$$s?this:$$87.$$s).$size()}).$$s=this,$$87.$$arity=0,$$87)):($send(this.$reverse(),"each",[],block.$to_proc()),this)},$Array_reverse_each$86.$$arity=0),Opal.def($Array_pack$126,"$rindex",$Array_rindex$88=function(object){var i,value,$iter=$Array_rindex$88.$$p,block=$iter||nil;if($iter&&($Array_rindex$88.$$p=null),$iter&&($Array_rindex$88.$$p=null),null!=object&&block!==nil&&this.$warn("warning: given block not used"),null!=object){for(i=this.length-1;0<=i&&!(i>=this.length);i--)if(this[i]["$=="](object))return i}else if(block!==nil){for(i=this.length-1;0<=i&&!(i>=this.length);i--)if(!1!==(value=block(this[i]))&&value!==nil)return i}else if(null==object)return this.$enum_for("rindex");return nil},$Array_rindex$88.$$arity=-1),Opal.def($Array_pack$126,"$rotate",$Array_inherited$123=function(firstPart){var ary,lastPart;return null==firstPart&&(firstPart=1),firstPart=$coerce_to(firstPart,$$($nesting,"Integer"),"to_int"),1===this.length?this.slice():0===this.length?[]:(lastPart=firstPart%(ary=this.slice()).length,firstPart=ary.slice(lastPart),lastPart=ary.slice(0,lastPart),firstPart.concat(lastPart))},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$rotate!",$Array_inherited$123=function(cnt){var ary;return null==cnt&&(cnt=1),0===this.length||1===this.length?this:(cnt=$coerce_to(cnt,$$($nesting,"Integer"),"to_int"),ary=this.$rotate(cnt),this.$replace(ary))},$Array_inherited$123.$$arity=-1),function($SampleRandom_rand$92,$SampleRandom_initialize$91){var $nesting=[$SampleRandom_rand$92=$klass($SampleRandom_rand$92,null,"SampleRandom")].concat($SampleRandom_initialize$91);$SampleRandom_rand$92.$$prototype.rng=nil,Opal.def($SampleRandom_rand$92,"$initialize",$SampleRandom_initialize$91=function(rng){return this.rng=rng},$SampleRandom_initialize$91.$$arity=1),Opal.def($SampleRandom_rand$92,"$rand",$SampleRandom_rand$92=function(size){var random=$coerce_to(this.rng.$rand(size),$$($nesting,"Integer"),"to_int");return $truthy(random<0)&&this.$raise($$($nesting,"RangeError"),"random value must be >= 0"),$truthy(random<size)||this.$raise($$($nesting,"RangeError"),"random value must be less than Array size"),random},$SampleRandom_rand$92.$$arity=1)}($nesting[0],$nesting),Opal.def($Array_pack$126,"$sample",$Array_inherited$123=function(count,options){var o,abandon,spin,result,i,j,k,targetIndex,oldValue,$ret_or_3=nil,rng=nil,$ret_or_4=nil;if($truthy(void 0===count))return this.$at($$($nesting,"Kernel").$rand(this.length));if($truthy(void 0===options)?count=$truthy(o=$$($nesting,"Opal")["$coerce_to?"](count,$$($nesting,"Hash"),"to_hash"))?(options=o,nil):(options=nil,$coerce_to(count,$$($nesting,"Integer"),"to_int")):(count=$coerce_to(count,$$($nesting,"Integer"),"to_int"),options=$coerce_to(options,$$($nesting,"Hash"),"to_hash")),$truthy($truthy($ret_or_3=count)?count<0:$ret_or_3)&&this.$raise($$($nesting,"ArgumentError"),"count must be greater than 0"),$truthy(options)&&(rng=options["$[]"]("random")),rng=$truthy($truthy($ret_or_4=rng)?rng["$respond_to?"]("rand"):$ret_or_4)?$$($nesting,"SampleRandom").$new(rng):$$($nesting,"Kernel"),!$truthy(count))return this[rng.$rand(this.length)];switch(count>this.length&&(count=this.length),count){case 0:return[];case 1:return[this[rng.$rand(this.length)]];case 2:return(i=rng.$rand(this.length))===(j=rng.$rand(this.length))&&(j=0===i?i+1:i-1),[this[i],this[j]];default:if(3<this.length/count){for(abandon=!1,spin=0,i=1,(result=$$($nesting,"Array").$new(count))[0]=rng.$rand(this.length);i<count;){for(k=rng.$rand(this.length),j=0;j<i;){for(;k===result[j];){if(100<++spin){abandon=!0;break}k=rng.$rand(this.length)}if(abandon)break;j++}if(abandon)break;result[i]=k,i++}if(!abandon){for(i=0;i<count;)result[i]=this[result[i]],i++;return result}}result=this.slice();for(var c=0;c<count;c++)targetIndex=rng.$rand(this.length),oldValue=result[c],result[c]=result[targetIndex],result[targetIndex]=oldValue;return count===this.length?result:result["$[]"](0,count)}},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$select",$Array_select$94=function(){var $$95,$iter=$Array_select$94.$$p,block=$iter||nil;if($iter&&($Array_select$94.$$p=null),$iter&&($Array_select$94.$$p=null),block===nil)return $send(this,"enum_for",["select"],(($$95=function(){return(null==$$95.$$s?this:$$95.$$s).$size()}).$$s=this,$$95.$$arity=0,$$95));for(var item,value,result=[],i=0,length=this.length;i<length;i++)item=this[i],value=$yield1(block,item),$truthy(value)&&result.push(item);return result},$Array_select$94.$$arity=0),Opal.def($Array_pack$126,"$select!",$Array_select$excl$96=function(){var $$97,original=$Array_select$excl$96.$$p,block=original||nil;if(original&&($Array_select$excl$96.$$p=null),original&&($Array_select$excl$96.$$p=null),block===nil)return $send(this,"enum_for",["select!"],(($$97=function(){return(null==$$97.$$s?this:$$97.$$s).$size()}).$$s=this,$$97.$$arity=0,$$97));original=this.length;return $send(this,"keep_if",[],block.$to_proc()),this.length===original?nil:this},$Array_select$excl$96.$$arity=0),Opal.alias($Array_pack$126,"filter","select"),Opal.alias($Array_pack$126,"filter!","select!"),Opal.def($Array_pack$126,"$shift",$Array_inherited$123=function(count){return $truthy(void 0===count)?$truthy(0===this.length)?nil:function(list){for(var r=list[0],index=1,length=list.length;index<length;index++)list[index-1]=list[index];return list.pop(),r}(this):(count=$coerce_to(count,$$($nesting,"Integer"),"to_int"),$truthy(count<0)&&this.$raise($$($nesting,"ArgumentError"),"negative array size"),$truthy(0===this.length)?[]:this.splice(0,count))},$Array_inherited$123.$$arity=-1),Opal.alias($Array_pack$126,"size","length"),Opal.def($Array_pack$126,"$shuffle",$Array_inherited$123=function(rng){return this.$dup().$to_a()["$shuffle!"](rng)},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$shuffle!",$Array_inherited$123=function(rng){var randgen,j,tmp,i=this.length;for(void 0!==rng&&(rng=$$($nesting,"Opal")["$coerce_to?"](rng,$$($nesting,"Hash"),"to_hash"))!==nil&&(rng=rng["$[]"]("random"))!==nil&&rng["$respond_to?"]("rand")&&(randgen=rng);i;)randgen?((j=randgen.$rand(i).$to_int())<0&&this.$raise($$($nesting,"RangeError"),"random number too small "+j),i<=j&&this.$raise($$($nesting,"RangeError"),"random number too big "+j)):j=this.$rand(i),tmp=this[--i],this[i]=this[j],this[j]=tmp;return this},$Array_inherited$123.$$arity=-1),Opal.alias($Array_pack$126,"slice","[]"),Opal.def($Array_pack$126,"$slice!",$Array_inherited$123=function(index,length){var range,result=nil,range_start=nil,range_end=nil,start=nil;if(result=nil,$truthy(void 0===length))if($truthy($$($nesting,"Range")["$==="](index))){range=index,result=this["$[]"](range),range_start=$coerce_to(range.begin,$$($nesting,"Integer"),"to_int"),range_end=$coerce_to(range.end,$$($nesting,"Integer"),"to_int"),range_start<0&&(range_start+=this.length),range_end<0?range_end+=this.length:range_end>=this.length&&(range_end=this.length-1,range.excl&&(range_end+=1));var range_length=range_end-range_start;range.excl?--range_end:range_length+=1,range_start<this.length&&0<=range_start&&range_end<this.length&&0<=range_end&&0<range_length&&this.splice(range_start,range_length)}else{if((start=$coerce_to(index,$$($nesting,"Integer"),"to_int"))<0&&(start+=this.length),start<0||start>=this.length)return nil;result=this[start],0===start?this.shift():this.splice(start,1)}else{if(start=$coerce_to(index,$$($nesting,"Integer"),"to_int"),(length=$coerce_to(length,$$($nesting,"Integer"),"to_int"))<0)return nil;result=this["$[]"](start,length);start<0&&(start+=this.length),start+length>this.length&&(length=this.length-start),start<this.length&&0<=start&&this.splice(start,length)}return result},$Array_inherited$123.$$arity=-2),Opal.def($Array_pack$126,"$sort",$Array_sort$102=function(){var $iter=$Array_sort$102.$$p,block=$iter||nil,self=this;return $iter&&($Array_sort$102.$$p=null),$iter&&($Array_sort$102.$$p=null),$truthy(1<self.length)?(block===nil&&(block=function(a,b){return a["$<=>"](b)}),self.slice().sort(function(x,rhs){var lhs=block(x,rhs);return lhs===nil&&self.$raise($$($nesting,"ArgumentError"),"comparison of "+x.$inspect()+" with "+rhs.$inspect()+" failed"),$rb_gt(lhs,0)?1:(rhs=0,("number"==typeof(lhs=lhs)&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs))?-1:0)})):self},$Array_sort$102.$$arity=0),Opal.def($Array_pack$126,"$sort!",$Array_sort$excl$103=function(){var result,$iter=$Array_sort$excl$103.$$p,block=$iter||nil;$iter&&($Array_sort$excl$103.$$p=null),$iter&&($Array_sort$excl$103.$$p=null),result=block!==nil?$send(this.slice(),"sort",[],block.$to_proc()):this.slice().$sort();for(var i=this.length=0,length=result.length;i<length;i++)this.push(result[i]);return this},$Array_sort$excl$103.$$arity=0),Opal.def($Array_pack$126,"$sort_by!",$Array_sort_by$excl$104=function(){var $$105,$iter=$Array_sort_by$excl$104.$$p,block=$iter||nil;return $iter&&($Array_sort_by$excl$104.$$p=null),$iter&&($Array_sort_by$excl$104.$$p=null),block===nil?$send(this,"enum_for",["sort_by!"],(($$105=function(){return(null==$$105.$$s?this:$$105.$$s).$size()}).$$s=this,$$105.$$arity=0,$$105)):this.$replace($send(this,"sort_by",[],block.$to_proc()))},$Array_sort_by$excl$104.$$arity=0),Opal.def($Array_pack$126,"$take",$Array_inherited$123=function(count){return count<0&&this.$raise($$($nesting,"ArgumentError")),this.slice(0,count)},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$take_while",$Array_take_while$107=function(){var $iter=$Array_take_while$107.$$p,block=$iter||nil;$iter&&($Array_take_while$107.$$p=null),$iter&&($Array_take_while$107.$$p=null);for(var item,value,result=[],i=0,length=this.length;i<length;i++){if(!1===(value=block(item=this[i]))||value===nil)return result;result.push(item)}return result},$Array_take_while$107.$$arity=0),Opal.def($Array_pack$126,"$to_a",$Array_inherited$123=function(){return this.$$class===Opal.Array?this:Opal.Array.$new(this)},$Array_inherited$123.$$arity=0),Opal.def($Array_pack$126,"$to_ary",$Array_inherited$123=function(){return this},$Array_inherited$123.$$arity=0),Opal.def($Array_pack$126,"$to_h",$Array_to_h$110=function(){var $iter=$Array_to_h$110.$$p,block=$iter||nil,array=nil;$iter&&($Array_to_h$110.$$p=null),$iter&&($Array_to_h$110.$$p=null),array=this,block!==nil&&(array=$send(array,"map",[],block.$to_proc()));for(var key,val,len=array.length,hash=$hash2([],{}),i=0;i<len;i++)(val=$$($nesting,"Opal")["$coerce_to?"](array[i],$$($nesting,"Array"),"to_ary")).$$is_array||this.$raise($$($nesting,"TypeError"),"wrong element type "+val.$class()+" at "+i+" (expected array)"),2!==val.length&&this.$raise($$($nesting,"ArgumentError"),"wrong array length at "+i+" (expected 2, was "+val.$length()+")"),key=val[0],val=val[1],$hash_put(hash,key,val);return hash},$Array_to_h$110.$$arity=0),Opal.alias($Array_pack$126,"to_s","inspect"),Opal.def($Array_pack$126,"$transpose",$Array_inherited$123=function(){var $$112,result=nil,max=nil;return $truthy(this["$empty?"]())?[]:(result=[],max=nil,$send(this,"each",[],(($$112=function(row){var $$113,self=null==$$112.$$s?this:$$112.$$s,$ret_or_5=nil;return null==row&&(row=nil),row=($truthy($$($nesting,"Array")["$==="](row))?row:$coerce_to(row,$$($nesting,"Array"),"to_ary")).$to_a(),max=$truthy($ret_or_5=max)?$ret_or_5:row.length,$truthy(row.length["$!="](max))&&self.$raise($$($nesting,"IndexError"),"element size differs ("+row.length+" should be "+max+")"),$send(row.length,"times",[],(($$113=function(i){null==$$113.$$s||$$113.$$s;var $ret_or_6=nil,$writer=nil;return null==i&&(i=nil),($truthy($ret_or_6=result["$[]"](i))?$ret_or_6:($writer=[i,[]],$send(result,"[]=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)]))["$<<"](row.$at(i))}).$$s=self,$$113.$$arity=1,$$113))}).$$s=this,$$112.$$arity=1,$$112)),result)},$Array_inherited$123.$$arity=0),Opal.def($Array_pack$126,"$union",$Array_inherited$123=function($a){var $$115,$post_args=Opal.slice.call(arguments,0,arguments.length);return $send($post_args,"reduce",[this.$uniq()],(($$115=function(a,b){null==$$115.$$s||$$115.$$s;return null==a&&(a=nil),null==b&&(b=nil),a["$|"](b)}).$$s=this,$$115.$$arity=2,$$115))},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$uniq",$Array_uniq$116=function(){var $iter=$Array_uniq$116.$$p,block=$iter||nil;$iter&&($Array_uniq$116.$$p=null),$iter&&($Array_uniq$116.$$p=null);var i,length,item,key,hash=$hash2([],{});if(block===nil)for(i=0,length=this.length;i<length;i++)item=this[i],void 0===$hash_get(hash,item)&&$hash_put(hash,item,item);else for(i=0,length=this.length;i<length;i++)item=this[i],key=$yield1(block,item),void 0===$hash_get(hash,key)&&$hash_put(hash,key,item);return hash.$values()},$Array_uniq$116.$$arity=0),Opal.def($Array_pack$126,"$uniq!",$Array_uniq$excl$117=function(){var original_length=$Array_uniq$excl$117.$$p,block=original_length||nil;original_length&&($Array_uniq$excl$117.$$p=null),original_length&&($Array_uniq$excl$117.$$p=null);for(var item,key,original_length=this.length,hash=$hash2([],{}),i=0,length=original_length;i<length;i++)item=this[i],key=block===nil?item:$yield1(block,item),void 0!==$hash_get(hash,key)?(this.splice(i,1),length--,i--):$hash_put(hash,key,item);return this.length===original_length?nil:this},$Array_uniq$excl$117.$$arity=0),Opal.def($Array_pack$126,"$unshift",$Array_inherited$123=function($a){var objects=Opal.slice.call(arguments,0,arguments.length),selfLength=this.length,objectsLength=objects.length;if(0==objectsLength)return this;for(var index=selfLength-objectsLength,i=0;i<objectsLength;i++)this.push(this[index+i]);for(var len=selfLength-1;0<=len-objectsLength;)this[len]=this[len-objectsLength],len--;for(var j=0;j<objectsLength;j++)this[j]=objects[j];return this},$Array_inherited$123.$$arity=-1),Opal.alias($Array_pack$126,"prepend","unshift"),Opal.def($Array_pack$126,"$values_at",$Array_inherited$123=function($a){var $$120,out=nil,$post_args=Opal.slice.call(arguments,0,arguments.length),out=[];return $send($post_args,"each",[],(($$120=function(elem){var $$121,i,self=null==$$120.$$s?this:$$120.$$s,finish=nil,start=nil;return null==elem&&(elem=nil),$truthy(elem["$is_a?"]($$($nesting,"Range")))?(finish=$coerce_to(elem.$last(),$$($nesting,"Integer"),"to_int"),(start=$coerce_to(elem.$first(),$$($nesting,"Integer"),"to_int"))<0?(start+=self.length,nil):(finish<0&&(finish+=self.length),elem["$exclude_end?"]()&&finish--,finish<start?nil:$send(start,"upto",[finish],(($$121=function(i){var self=null==$$121.$$s?this:$$121.$$s;return null==i&&(i=nil),out["$<<"](self.$at(i))}).$$s=self,$$121.$$arity=1,$$121)))):(i=$coerce_to(elem,$$($nesting,"Integer"),"to_int"),out["$<<"](self.$at(i)))}).$$s=this,$$120.$$arity=1,$$120)),out},$Array_inherited$123.$$arity=-1),Opal.def($Array_pack$126,"$zip",$Array_zip$122=function($a){var others,$iter=$Array_zip$122.$$p,block=$iter||nil,$ret_or_7=nil;$iter&&($Array_zip$122.$$p=null),$iter&&($Array_zip$122.$$p=null),others=Opal.slice.call(arguments,0,arguments.length);for(var part,o,i,result=[],size=this.length,j=0,jj=others.length;j<jj;j++)(o=others[j]).$$is_array||(o.$$is_range||o.$$is_enumerator?others[j]=o.$take(size):others[j]=($truthy($ret_or_7=$$($nesting,"Opal")["$coerce_to?"](o,$$($nesting,"Array"),"to_ary"))?$ret_or_7:$$($nesting,"Opal")["$coerce_to!"](o,$$($nesting,"Enumerator"),"to_enum","each")).$to_a());for(i=0;i<size;i++){for(part=[this[i]],j=0,jj=others.length;j<jj;j++)null==(o=others[j][i])&&(o=nil),part[j+1]=o;result[i]=part}if(block===nil)return result;for(i=0;i<size;i++)block(result[i]);return nil},$Array_zip$122.$$arity=-1),Opal.defs($Array_pack$126,"$inherited",$Array_inherited$123=function(klass){klass.$$prototype.$to_a=function(){return this.slice(0,this.length)}},$Array_inherited$123.$$arity=1),Opal.def($Array_pack$126,"$instance_variables",$Array_instance_variables$124=function(){var $$125,$zuper_ii,$iter=$Array_instance_variables$124.$$p,$zuper=nil,$zuper_i=nil;for($iter&&($Array_instance_variables$124.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $send($send2(this,Opal.find_super_dispatcher(this,"instance_variables",$Array_instance_variables$124,!1,!0),"instance_variables",$zuper,$iter),"reject",[],(($$125=function(ivar){var $ret_or_8;null==$$125.$$s||$$125.$$s;return null==ivar&&(ivar=nil),$truthy($ret_or_8=/^@\d+$/.test(ivar))?$ret_or_8:ivar["$=="]("@length")}).$$s=this,$$125.$$arity=1,$$125))},$Array_instance_variables$124.$$arity=0),$$($nesting,"Opal").$pristine($Array_pack$126.$singleton_class(),"allocate"),$$($nesting,"Opal").$pristine($Array_pack$126,"copy_instance_variables","initialize_dup"),Opal.def($Array_pack$126,"$pack",$Array_pack$126=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},$Array_pack$126.$$arity=-1),nil&&"pack"}($nesting[0],Array,$nesting)},Opal.modules["corelib/hash"]=function(Opal){function $rb_ge(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<=lhs:lhs["$>="](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$send=Opal.send,$hash2=Opal.hash2,$truthy=Opal.truthy;return Opal.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$except!","$dup","$delete","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$default_proc","$default_proc=","$-","$default=","$to_h","$proc"]),self.$require("corelib/enumerable"),function($Hash_values$81,$Hash_to_proc$71){var $Hash_initialize$4,$Hash_delete$24,$Hash_delete_if$25,$Hash_each$28,$Hash_each_key$30,$Hash_each_value$32,$Hash_fetch$38,$Hash_fetch_values$39,$Hash_keep_if$49,$Hash_merge$53,$Hash_merge$excl$54,$Hash_reject$57,$Hash_reject$excl$59,$Hash_select$62,$Hash_select$excl$64,$Hash_to_h$69,$Hash_transform_keys$73,$Hash_transform_keys$excl$75,$Hash_transform_values$77,$Hash_transform_values$excl$79,inspect_ids,$Hash_values$81=$klass($Hash_values$81,null,"Hash"),$nesting=[$Hash_values$81].concat($Hash_to_proc$71);return $Hash_values$81.$include($$($nesting,"Enumerable")),$Hash_values$81.$$prototype.$$is_hash=!0,Opal.defs($Hash_values$81,"$[]",$Hash_to_proc$71=function($a){var hash,i,argv=Opal.slice.call(arguments,0,arguments.length),argc=argv.length;if(1===argc){if((hash=$$($nesting,"Opal")["$coerce_to?"](argv["$[]"](0),$$($nesting,"Hash"),"to_hash"))!==nil)return this.$allocate()["$merge!"](hash);for((argv=$$($nesting,"Opal")["$coerce_to?"](argv["$[]"](0),$$($nesting,"Array"),"to_ary"))===nil&&this.$raise($$($nesting,"ArgumentError"),"odd number of arguments for Hash"),argc=argv.length,hash=this.$allocate(),i=0;i<argc;i++)if(argv[i].$$is_array)switch(argv[i].length){case 1:hash.$store(argv[i][0],nil);break;case 2:hash.$store(argv[i][0],argv[i][1]);break;default:this.$raise($$($nesting,"ArgumentError"),"invalid number of elements ("+argv[i].length+" for 1..2)")}return hash}for(argc%2!=0&&this.$raise($$($nesting,"ArgumentError"),"odd number of arguments for Hash"),hash=this.$allocate(),i=0;i<argc;i+=2)hash.$store(argv[i],argv[i+1]);return hash},$Hash_to_proc$71.$$arity=-1),Opal.defs($Hash_values$81,"$allocate",$Hash_to_proc$71=function(){var hash=new this.$$constructor;return Opal.hash_init(hash),hash.$$none=nil,hash.$$proc=nil,hash},$Hash_to_proc$71.$$arity=0),Opal.defs($Hash_values$81,"$try_convert",$Hash_to_proc$71=function(obj){return $$($nesting,"Opal")["$coerce_to?"](obj,$$($nesting,"Hash"),"to_hash")},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$initialize",$Hash_initialize$4=function(defaults){var $iter=$Hash_initialize$4.$$p,block=$iter||nil;return $iter&&($Hash_initialize$4.$$p=null),$iter&&($Hash_initialize$4.$$p=null),void 0!==defaults&&block!==nil&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (1 for 0)"),this.$$none=void 0===defaults?nil:defaults,this.$$proc=block,this},$Hash_initialize$4.$$arity=-1),Opal.def($Hash_values$81,"$==",$Hash_to_proc$71=function(other){if(this===other)return!0;if(!other.$$is_hash)return!1;if(this.$$keys.length!==other.$$keys.length)return!1;for(var value,other_value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)if(void 0===(other_value=(other_value=keys[i]).$$is_string?(value=this.$$smap[other_value],other.$$smap[other_value]):(value=other_value.value,Opal.hash_get(other,other_value.key)))||!value["$eql?"](other_value))return!1;return!0},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$>=",$Hash_to_proc$71=function(other){var $$7,result=nil;return other=$$($nesting,"Opal")["$coerce_to!"](other,$$($nesting,"Hash"),"to_hash"),!(this.$$keys.length<other.$$keys.length)&&(result=!0,$send(other,"each",[],(($$7=function(other_key,other_val){var val,self=null==$$7.$$s?this:$$7.$$s;null==other_key&&(other_key=nil),null==other_val&&(other_val=nil),null!=(val=self.$fetch(other_key,null))&&val===other_val||(result=!1)}).$$s=this,$$7.$$arity=2,$$7)),result)},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$>",$Hash_to_proc$71=function(other){return other=$$($nesting,"Opal")["$coerce_to!"](other,$$($nesting,"Hash"),"to_hash"),!(this.$$keys.length<=other.$$keys.length)&&$rb_ge(this,other)},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$<",$Hash_to_proc$71=function(lhs){var rhs;return lhs=$$($nesting,"Opal")["$coerce_to!"](lhs,$$($nesting,"Hash"),"to_hash"),rhs=this,"number"==typeof(lhs=lhs)&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$<=",$Hash_to_proc$71=function(other){return $rb_ge(other=$$($nesting,"Opal")["$coerce_to!"](other,$$($nesting,"Hash"),"to_hash"),this)},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$[]",$Hash_to_proc$71=function(key){var value=Opal.hash_get(this,key);return void 0!==value?value:this.$default(key)},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$[]=",$Hash_to_proc$71=function(key,value){return Opal.hash_put(this,key,value),value},$Hash_to_proc$71.$$arity=2),Opal.def($Hash_values$81,"$assoc",$Hash_to_proc$71=function(object){for(var key,i=0,keys=this.$$keys,length=keys.length;i<length;i++)if((key=keys[i]).$$is_string){if(key["$=="](object))return[key,this.$$smap[key]]}else if(key.key["$=="](object))return[key.key,key.value];return nil},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$clear",$Hash_to_proc$71=function(){return Opal.hash_init(this),this},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$clone",$Hash_to_proc$71=function(){var hash=new this.$$class;return Opal.hash_init(hash),Opal.hash_clone(this,hash),hash},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$compact",$Hash_to_proc$71=function(){for(var key,value,hash=Opal.hash(),i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value!==nil&&Opal.hash_put(hash,key,value);return hash},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$compact!",$Hash_to_proc$71=function(){for(var key,value,changes_were_made=!1,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value===nil&&void 0!==Opal.hash_delete(this,key)&&(changes_were_made=!0,length--,i--);return changes_were_made?this:nil},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$compare_by_identity",$Hash_to_proc$71=function(){var i,ii,key,identity_hash,keys=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;for(identity_hash=$hash2([],{}).$compare_by_identity(),i=0,ii=keys.length;i<ii;i++)(key=keys[i]).$$is_string||(key=key.key),Opal.hash_put(identity_hash,key,Opal.hash_get(this,key));return this.$$by_identity=!0,this.$$map=identity_hash.$$map,this.$$smap=identity_hash.$$smap,this},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$compare_by_identity?",$Hash_to_proc$71=function(){return!0===this.$$by_identity},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$default",$Hash_to_proc$71=function(key){return void 0!==key&&this.$$proc!==nil&&void 0!==this.$$proc?this.$$proc.$call(this,key):void 0===this.$$none?nil:this.$$none},$Hash_to_proc$71.$$arity=-1),Opal.def($Hash_values$81,"$default=",$Hash_to_proc$71=function(object){return this.$$proc=nil,this.$$none=object},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$default_proc",$Hash_to_proc$71=function(){return void 0!==this.$$proc?this.$$proc:nil},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$default_proc=",$Hash_to_proc$71=function(default_proc){var proc=default_proc;return proc!==nil&&(proc=$$($nesting,"Opal")["$coerce_to!"](proc,$$($nesting,"Proc"),"to_proc"))["$lambda?"]()&&2!==proc.$arity().$abs()&&this.$raise($$($nesting,"TypeError"),"default_proc takes two arguments"),this.$$none=nil,this.$$proc=proc,default_proc},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$delete",$Hash_delete$24=function(key){var value=$Hash_delete$24.$$p,block=value||nil;value&&($Hash_delete$24.$$p=null),value&&($Hash_delete$24.$$p=null);value=Opal.hash_delete(this,key);return void 0!==value?value:block!==nil?Opal.yield1(block,key):nil},$Hash_delete$24.$$arity=1),Opal.def($Hash_values$81,"$delete_if",$Hash_delete_if$25=function(){var $$26,$iter=$Hash_delete_if$25.$$p,block=$iter||nil;if($iter&&($Hash_delete_if$25.$$p=null),$iter&&($Hash_delete_if$25.$$p=null),!$truthy(block))return $send(this,"enum_for",["delete_if"],(($$26=function(){return(null==$$26.$$s?this:$$26.$$s).$size()}).$$s=this,$$26.$$arity=0,$$26));for(var key,value,obj,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil&&void 0!==Opal.hash_delete(this,key)&&(length--,i--);return this},$Hash_delete_if$25.$$arity=0),Opal.alias($Hash_values$81,"dup","clone"),Opal.def($Hash_values$81,"$dig",$Hash_to_proc$71=function(key,$a){var item=nil,keys=Opal.slice.call(arguments,1,arguments.length);return(item=this["$[]"](key))===nil||0===keys.length?item:($truthy(item["$respond_to?"]("dig"))||this.$raise($$($nesting,"TypeError"),item.$class()+" does not have #dig method"),$send(item,"dig",Opal.to_a(keys)))},$Hash_to_proc$71.$$arity=-2),Opal.def($Hash_values$81,"$each",$Hash_each$28=function(){var $$29,$iter=$Hash_each$28.$$p,block=$iter||nil;if($iter&&($Hash_each$28.$$p=null),$iter&&($Hash_each$28.$$p=null),!$truthy(block))return $send(this,"enum_for",["each"],(($$29=function(){return(null==$$29.$$s?this:$$29.$$s).$size()}).$$s=this,$$29.$$arity=0,$$29));for(var key,value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),Opal.yield1(block,[key,value]);return this},$Hash_each$28.$$arity=0),Opal.def($Hash_values$81,"$each_key",$Hash_each_key$30=function(){var $$31,$iter=$Hash_each_key$30.$$p,block=$iter||nil;if($iter&&($Hash_each_key$30.$$p=null),$iter&&($Hash_each_key$30.$$p=null),!$truthy(block))return $send(this,"enum_for",["each_key"],(($$31=function(){return(null==$$31.$$s?this:$$31.$$s).$size()}).$$s=this,$$31.$$arity=0,$$31));for(var key,i=0,keys=this.$$keys,length=keys.length;i<length;i++)block((key=keys[i]).$$is_string?key:key.key);return this},$Hash_each_key$30.$$arity=0),Opal.alias($Hash_values$81,"each_pair","each"),Opal.def($Hash_values$81,"$each_value",$Hash_each_value$32=function(){var $$33,$iter=$Hash_each_value$32.$$p,block=$iter||nil;if($iter&&($Hash_each_value$32.$$p=null),$iter&&($Hash_each_value$32.$$p=null),!$truthy(block))return $send(this,"enum_for",["each_value"],(($$33=function(){return(null==$$33.$$s?this:$$33.$$s).$size()}).$$s=this,$$33.$$arity=0,$$33));for(var key,i=0,keys=this.$$keys,length=keys.length;i<length;i++)block((key=keys[i]).$$is_string?this.$$smap[key]:key.value);return this},$Hash_each_value$32.$$arity=0),Opal.def($Hash_values$81,"$empty?",$Hash_to_proc$71=function(){return 0===this.$$keys.length},$Hash_to_proc$71.$$arity=0),Opal.alias($Hash_values$81,"eql?","=="),Opal.def($Hash_values$81,"$except",$Hash_to_proc$71=function($a){var keys=Opal.slice.call(arguments,0,arguments.length);return $send(this.$dup(),"except!",Opal.to_a(keys))},$Hash_to_proc$71.$$arity=-1),Opal.def($Hash_values$81,"$except!",$Hash_to_proc$71=function($a){var $$37,$post_args=Opal.slice.call(arguments,0,arguments.length);return $send($post_args,"each",[],(($$37=function(key){var self=null==$$37.$$s?this:$$37.$$s;return null==key&&(key=nil),self.$delete(key)}).$$s=this,$$37.$$arity=1,$$37)),this},$Hash_to_proc$71.$$arity=-1),Opal.def($Hash_values$81,"$fetch",$Hash_fetch$38=function(key,defaults){var value=$Hash_fetch$38.$$p,block=value||nil;value&&($Hash_fetch$38.$$p=null),value&&($Hash_fetch$38.$$p=null);value=Opal.hash_get(this,key);return void 0!==value?value:block!==nil?block(key):void 0!==defaults?defaults:this.$raise($$($nesting,"KeyError").$new("key not found: "+key.$inspect(),$hash2(["key","receiver"],{key:key,receiver:this})))},$Hash_fetch$38.$$arity=-2),Opal.def($Hash_values$81,"$fetch_values",$Hash_fetch_values$39=function($a){var $$40,$post_args=$Hash_fetch_values$39.$$p,block=$post_args||nil;return $post_args&&($Hash_fetch_values$39.$$p=null),$post_args&&($Hash_fetch_values$39.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),$send($post_args,"map",[],(($$40=function(key){var self=null==$$40.$$s?this:$$40.$$s;return null==key&&(key=nil),$send(self,"fetch",[key],block.$to_proc())}).$$s=this,$$40.$$arity=1,$$40))},$Hash_fetch_values$39.$$arity=-1),Opal.def($Hash_values$81,"$flatten",$Hash_to_proc$71=function(level){null==level&&(level=1),level=$$($nesting,"Opal")["$coerce_to!"](level,$$($nesting,"Integer"),"to_int");for(var key,value,result=[],i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),result.push(key),value.$$is_array&&1!==level?result=result.concat(value.$flatten(level-2)):result.push(value);return result},$Hash_to_proc$71.$$arity=-1),Opal.def($Hash_values$81,"$has_key?",$Hash_to_proc$71=function(key){return void 0!==Opal.hash_get(this,key)},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$has_value?",$Hash_to_proc$71=function(value){for(var key,i=0,keys=this.$$keys,length=keys.length;i<length;i++)if(((key=keys[i]).$$is_string?this.$$smap[key]:key.value)["$=="](value))return!0;return!1},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$hash",$Hash_to_proc$71=function(){var key,item,top=void 0===Opal.hash_ids,hash_id=this.$object_id(),result=["Hash"];try{if(top&&(Opal.hash_ids=Object.create(null)),Opal[hash_id])return"self";for(key in Opal.hash_ids)if(item=Opal.hash_ids[key],this["$eql?"](item))return"self";Opal.hash_ids[hash_id]=this;for(var i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?result.push([key,this.$$smap[key].$hash()]):result.push([key.key_hash,key.value.$hash()]);return result.sort().join()}finally{top&&(Opal.hash_ids=void 0)}},$Hash_to_proc$71.$$arity=0),Opal.alias($Hash_values$81,"include?","has_key?"),Opal.def($Hash_values$81,"$index",$Hash_to_proc$71=function(object){for(var key,value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)if((key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value["$=="](object))return key;return nil},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$indexes",$Hash_to_proc$71=function($a){for(var value,args=Opal.slice.call(arguments,0,arguments.length),result=[],i=0,length=args.length;i<length;i++)value=args[i],void 0!==(value=Opal.hash_get(this,value))?result.push(value):result.push(this.$default());return result},$Hash_to_proc$71.$$arity=-1),Opal.alias($Hash_values$81,"indices","indexes"),Opal.def($Hash_values$81,"$inspect",$Hash_to_proc$71=function(){var top=void 0===inspect_ids,hash_id=this.$object_id(),result=[];try{if(top&&(inspect_ids={}),inspect_ids.hasOwnProperty(hash_id))return"{...}";inspect_ids[hash_id]=!0;for(var key,value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),result.push(key.$inspect()+"=>"+value.$inspect());return"{"+result.join(", ")+"}"}finally{top&&(inspect_ids=void 0)}},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$invert",$Hash_to_proc$71=function(){for(var key,value,hash=Opal.hash(),i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),Opal.hash_put(hash,value,key);return hash},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$keep_if",$Hash_keep_if$49=function(){var $$50,$iter=$Hash_keep_if$49.$$p,block=$iter||nil;if($iter&&($Hash_keep_if$49.$$p=null),$iter&&($Hash_keep_if$49.$$p=null),!$truthy(block))return $send(this,"enum_for",["keep_if"],(($$50=function(){return(null==$$50.$$s?this:$$50.$$s).$size()}).$$s=this,$$50.$$arity=0,$$50));for(var key,value,obj,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil||void 0!==Opal.hash_delete(this,key)&&(length--,i--);return this},$Hash_keep_if$49.$$arity=0),Opal.alias($Hash_values$81,"key","index"),Opal.alias($Hash_values$81,"key?","has_key?"),Opal.def($Hash_values$81,"$keys",$Hash_to_proc$71=function(){for(var key,result=[],i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?result.push(key):result.push(key.key);return result},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$length",$Hash_to_proc$71=function(){return this.$$keys.length},$Hash_to_proc$71.$$arity=0),Opal.alias($Hash_values$81,"member?","has_key?"),Opal.def($Hash_values$81,"$merge",$Hash_merge$53=function($a){var others=$Hash_merge$53.$$p,block=others||nil;return others&&($Hash_merge$53.$$p=null),others&&($Hash_merge$53.$$p=null),others=Opal.slice.call(arguments,0,arguments.length),$send(this.$dup(),"merge!",Opal.to_a(others),block.$to_proc())},$Hash_merge$53.$$arity=-1),Opal.def($Hash_values$81,"$merge!",$Hash_merge$excl$54=function($a){var others,i,j,other,other_keys,length,key,value,other_value,$iter=$Hash_merge$excl$54.$$p,block=$iter||nil;for($iter&&($Hash_merge$excl$54.$$p=null),$iter&&($Hash_merge$excl$54.$$p=null),others=Opal.slice.call(arguments,0,arguments.length),i=0;i<others.length;++i)if(length=(other_keys=(other=$$($nesting,"Opal")["$coerce_to!"](others[i],$$($nesting,"Hash"),"to_hash")).$$keys).length,block===nil)for(j=0;j<length;j++)(key=other_keys[j]).$$is_string?other_value=other.$$smap[key]:(other_value=key.value,key=key.key),Opal.hash_put(this,key,other_value);else for(j=0;j<length;j++)(key=other_keys[j]).$$is_string?other_value=other.$$smap[key]:(other_value=key.value,key=key.key),void 0!==(value=Opal.hash_get(this,key))?Opal.hash_put(this,key,block(key,value,other_value)):Opal.hash_put(this,key,other_value);return this},$Hash_merge$excl$54.$$arity=-1),Opal.def($Hash_values$81,"$rassoc",$Hash_to_proc$71=function(object){for(var key,value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)if((key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value["$=="](object))return[key,value];return nil},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$rehash",$Hash_to_proc$71=function(){return Opal.hash_rehash(this),this},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$reject",$Hash_reject$57=function(){var $$58,$iter=$Hash_reject$57.$$p,block=$iter||nil;if($iter&&($Hash_reject$57.$$p=null),$iter&&($Hash_reject$57.$$p=null),!$truthy(block))return $send(this,"enum_for",["reject"],(($$58=function(){return(null==$$58.$$s?this:$$58.$$s).$size()}).$$s=this,$$58.$$arity=0,$$58));for(var key,value,obj,hash=Opal.hash(),i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil||Opal.hash_put(hash,key,value);return hash},$Hash_reject$57.$$arity=0),Opal.def($Hash_values$81,"$reject!",$Hash_reject$excl$59=function(){var $$60,$iter=$Hash_reject$excl$59.$$p,block=$iter||nil;if($iter&&($Hash_reject$excl$59.$$p=null),$iter&&($Hash_reject$excl$59.$$p=null),!$truthy(block))return $send(this,"enum_for",["reject!"],(($$60=function(){return(null==$$60.$$s?this:$$60.$$s).$size()}).$$s=this,$$60.$$arity=0,$$60));for(var key,value,obj,changes_were_made=!1,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil&&void 0!==Opal.hash_delete(this,key)&&(changes_were_made=!0,length--,i--);return changes_were_made?this:nil},$Hash_reject$excl$59.$$arity=0),Opal.def($Hash_values$81,"$replace",$Hash_to_proc$71=function(other){var $writer=nil;other=$$($nesting,"Opal")["$coerce_to!"](other,$$($nesting,"Hash"),"to_hash"),Opal.hash_init(this);for(var key,other_value,i=0,other_keys=other.$$keys,length=other_keys.length;i<length;i++)(key=other_keys[i]).$$is_string?other_value=other.$$smap[key]:(other_value=key.value,key=key.key),Opal.hash_put(this,key,other_value);return $truthy(other.$default_proc())?($writer=[other.$default_proc()],$send(this,"default_proc=",Opal.to_a($writer))):($writer=[other.$default()],$send(this,"default=",Opal.to_a($writer))),$writer[$rb_minus($writer.length,1)],this},$Hash_to_proc$71.$$arity=1),Opal.def($Hash_values$81,"$select",$Hash_select$62=function(){var $$63,$iter=$Hash_select$62.$$p,block=$iter||nil;if($iter&&($Hash_select$62.$$p=null),$iter&&($Hash_select$62.$$p=null),!$truthy(block))return $send(this,"enum_for",["select"],(($$63=function(){return(null==$$63.$$s?this:$$63.$$s).$size()}).$$s=this,$$63.$$arity=0,$$63));for(var key,value,obj,hash=Opal.hash(),i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil&&Opal.hash_put(hash,key,value);return hash},$Hash_select$62.$$arity=0),Opal.def($Hash_values$81,"$select!",$Hash_select$excl$64=function(){var $$65,$iter=$Hash_select$excl$64.$$p,block=$iter||nil;if($iter&&($Hash_select$excl$64.$$p=null),$iter&&($Hash_select$excl$64.$$p=null),!$truthy(block))return $send(this,"enum_for",["select!"],(($$65=function(){return(null==$$65.$$s?this:$$65.$$s).$size()}).$$s=this,$$65.$$arity=0,$$65));for(var key,value,obj,result=nil,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil||(void 0!==Opal.hash_delete(this,key)&&(length--,i--),result=this);return result},$Hash_select$excl$64.$$arity=0),Opal.alias($Hash_values$81,"filter","select"),Opal.alias($Hash_values$81,"filter!","select!"),Opal.def($Hash_values$81,"$shift",$Hash_to_proc$71=function(){var key=this.$$keys;return 0<key.length?[key=(key=key[0]).$$is_string?key:key.key,Opal.hash_delete(this,key)]:this.$default(nil)},$Hash_to_proc$71.$$arity=0),Opal.alias($Hash_values$81,"size","length"),Opal.def($Hash_values$81,"$slice",$Hash_to_proc$71=function($a){for(var keys=Opal.slice.call(arguments,0,arguments.length),result=Opal.hash(),i=0,length=keys.length;i<length;i++){var key=keys[i],value=Opal.hash_get(this,key);void 0!==value&&Opal.hash_put(result,key,value)}return result},$Hash_to_proc$71.$$arity=-1),Opal.alias($Hash_values$81,"store","[]="),Opal.def($Hash_values$81,"$to_a",$Hash_to_proc$71=function(){for(var key,value,result=[],i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),result.push([key,value]);return result},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$to_h",$Hash_to_h$69=function(){var $iter=$Hash_to_h$69.$$p,hash=$iter||nil;if($iter&&($Hash_to_h$69.$$p=null),$iter&&($Hash_to_h$69.$$p=null),hash!==nil)return $send(this,"map",[],hash.$to_proc()).$to_h();if(this.$$class===Opal.Hash)return this;hash=new Opal.Hash;return Opal.hash_init(hash),Opal.hash_clone(this,hash),hash},$Hash_to_h$69.$$arity=0),Opal.def($Hash_values$81,"$to_hash",$Hash_to_proc$71=function(){return this},$Hash_to_proc$71.$$arity=0),Opal.def($Hash_values$81,"$to_proc",$Hash_to_proc$71=function(){var $$72;return $send(this,"proc",[],(($$72=function(key){var self=null==$$72.$$s?this:$$72.$$s;return null==key&&self.$raise($$($nesting,"ArgumentError"),"no key given"),self["$[]"](key)}).$$s=this,$$72.$$arity=-1,$$72))},$Hash_to_proc$71.$$arity=0),Opal.alias($Hash_values$81,"to_s","inspect"),Opal.def($Hash_values$81,"$transform_keys",$Hash_transform_keys$73=function(){var $$74,$iter=$Hash_transform_keys$73.$$p,block=$iter||nil;if($iter&&($Hash_transform_keys$73.$$p=null),$iter&&($Hash_transform_keys$73.$$p=null),!$truthy(block))return $send(this,"enum_for",["transform_keys"],(($$74=function(){return(null==$$74.$$s?this:$$74.$$s).$size()}).$$s=this,$$74.$$arity=0,$$74));for(var key,value,result=Opal.hash(),i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),key=Opal.yield1(block,key),Opal.hash_put(result,key,value);return result},$Hash_transform_keys$73.$$arity=0),Opal.def($Hash_values$81,"$transform_keys!",$Hash_transform_keys$excl$75=function(){var $$76,$iter=$Hash_transform_keys$excl$75.$$p,block=$iter||nil;if($iter&&($Hash_transform_keys$excl$75.$$p=null),$iter&&($Hash_transform_keys$excl$75.$$p=null),!$truthy(block))return $send(this,"enum_for",["transform_keys!"],(($$76=function(){return(null==$$76.$$s?this:$$76.$$s).$size()}).$$s=this,$$76.$$arity=0,$$76));for(var key,value,new_key,keys=Opal.slice.call(this.$$keys),length=keys.length,i=0;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),new_key=Opal.yield1(block,key),Opal.hash_delete(this,key),Opal.hash_put(this,new_key,value);return this},$Hash_transform_keys$excl$75.$$arity=0),Opal.def($Hash_values$81,"$transform_values",$Hash_transform_values$77=function(){var $$78,$iter=$Hash_transform_values$77.$$p,block=$iter||nil;if($iter&&($Hash_transform_values$77.$$p=null),$iter&&($Hash_transform_values$77.$$p=null),!$truthy(block))return $send(this,"enum_for",["transform_values"],(($$78=function(){return(null==$$78.$$s?this:$$78.$$s).$size()}).$$s=this,$$78.$$arity=0,$$78));for(var key,value,result=Opal.hash(),i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value=Opal.yield1(block,value),Opal.hash_put(result,key,value);return result},$Hash_transform_values$77.$$arity=0),Opal.def($Hash_values$81,"$transform_values!",$Hash_transform_values$excl$79=function(){var $$80,$iter=$Hash_transform_values$excl$79.$$p,block=$iter||nil;if($iter&&($Hash_transform_values$excl$79.$$p=null),$iter&&($Hash_transform_values$excl$79.$$p=null),!$truthy(block))return $send(this,"enum_for",["transform_values!"],(($$80=function(){return(null==$$80.$$s?this:$$80.$$s).$size()}).$$s=this,$$80.$$arity=0,$$80));for(var key,value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value=Opal.yield1(block,value),Opal.hash_put(this,key,value);return this},$Hash_transform_values$excl$79.$$arity=0),Opal.alias($Hash_values$81,"update","merge!"),Opal.alias($Hash_values$81,"value?","has_value?"),Opal.alias($Hash_values$81,"values_at","indexes"),Opal.def($Hash_values$81,"$values",$Hash_values$81=function(){for(var key,result=[],i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?result.push(this.$$smap[key]):result.push(key.value);return result},$Hash_values$81.$$arity=0),nil&&"values"}($nesting[0],$nesting)},Opal.modules["corelib/number"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}function $rb_times(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$truthy=Opal.truthy,$send2=Opal.send2,$send=Opal.send;return Opal.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>="]),self.$require("corelib/numeric"),function($base,$Number_negative$ques$75,$Number_positive$ques$74){var $Number_denominator$34,$Number_downto$35,$Number_is_a$ques$43,$Number_instance_of$ques$44,$Number_numerator$49,$Number_quo$54,$Number_times$58,$Number_divmod$66,$Number_upto$67,$nesting=[$Number_negative$ques$75=$klass($base,$Number_negative$ques$75,"Number")].concat($Number_positive$ques$74);$$($nesting,"Opal").$bridge(Number,$Number_negative$ques$75),Opal.defineProperty($Number_negative$ques$75.$$prototype,"$$is_number",!0),$Number_negative$ques$75.$$is_number_class=!0,function(self,$allocate$1){var $nesting=[self].concat($allocate$1);Opal.def(self,"$allocate",$allocate$1=function(){return this.$raise($$($nesting,"TypeError"),"allocator undefined for "+this.$name())},$allocate$1.$$arity=0),Opal.udef(self,"$new")}(Opal.get_singleton_class($Number_negative$ques$75),$nesting),Opal.def($Number_negative$ques$75,"$coerce",$Number_positive$ques$74=function(other){if(other===nil)this.$raise($$($nesting,"TypeError"),"can't convert "+other.$class()+" into Float");else{if(other.$$is_string)return[this.$Float(other),this];if(other["$respond_to?"]("to_f"))return[$$($nesting,"Opal")["$coerce_to!"](other,$$($nesting,"Float"),"to_f"),this];{if(other.$$is_number)return[other,this];this.$raise($$($nesting,"TypeError"),"can't convert "+other.$class()+" into Float")}}},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$__id__",$Number_positive$ques$74=function(){return 2*this+1},$Number_positive$ques$74.$$arity=0),Opal.alias($Number_negative$ques$75,"object_id","__id__"),Opal.def($Number_negative$ques$75,"$+",$Number_positive$ques$74=function(other){return other.$$is_number?this+other:this.$__coerced__("+",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$-",$Number_positive$ques$74=function(other){return other.$$is_number?this-other:this.$__coerced__("-",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$*",$Number_positive$ques$74=function(other){return other.$$is_number?this*other:this.$__coerced__("*",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$/",$Number_positive$ques$74=function(other){return other.$$is_number?this/other:this.$__coerced__("/",other)},$Number_positive$ques$74.$$arity=1),Opal.alias($Number_negative$ques$75,"fdiv","/"),Opal.def($Number_negative$ques$75,"$%",$Number_positive$ques$74=function(other){return other.$$is_number?other==-1/0?other:0!=other?other<0||this<0?(this%other+other)%other:this%other:void this.$raise($$($nesting,"ZeroDivisionError"),"divided by 0"):this.$__coerced__("%",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$&",$Number_positive$ques$74=function(other){return other.$$is_number?this&other:this.$__coerced__("&",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$|",$Number_positive$ques$74=function(other){return other.$$is_number?this|other:this.$__coerced__("|",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$^",$Number_positive$ques$74=function(other){return other.$$is_number?this^other:this.$__coerced__("^",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$<",$Number_positive$ques$74=function(other){return other.$$is_number?this<other:this.$__coerced__("<",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$<=",$Number_positive$ques$74=function(other){return other.$$is_number?this<=other:this.$__coerced__("<=",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$>",$Number_positive$ques$74=function(other){return other.$$is_number?other<this:this.$__coerced__(">",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$>=",$Number_positive$ques$74=function(other){return other.$$is_number?other<=this:this.$__coerced__(">=",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$<=>",$Number_positive$ques$74=function(other){try{return function(self,other){return other.$$is_number?isNaN(self)||isNaN(other)?nil:other<self?1:self<other?-1:0:self.$__coerced__("<=>",other)}(this,other)}catch($err){if(!Opal.rescue($err,[$$($nesting,"ArgumentError")]))throw $err;try{return nil}finally{Opal.pop_exception()}}},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$<<",$Number_positive$ques$74=function(count){return 0<(count=$$($nesting,"Opal")["$coerce_to!"](count,$$($nesting,"Integer"),"to_int"))?this<<count:this>>-count},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$>>",$Number_positive$ques$74=function(count){return 0<(count=$$($nesting,"Opal")["$coerce_to!"](count,$$($nesting,"Integer"),"to_int"))?this>>count:this<<-count},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$[]",$Number_positive$ques$74=function(bit){return(bit=$$($nesting,"Opal")["$coerce_to!"](bit,$$($nesting,"Integer"),"to_int"))<0?0:32<=bit?this<0?1:0:this>>bit&1},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$+@",$Number_positive$ques$74=function(){return+this},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$-@",$Number_positive$ques$74=function(){return-this},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$~",$Number_positive$ques$74=function(){return~this},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$**",$Number_positive$ques$74=function(other){var self=this,$ret_or_1=nil,$ret_or_2=nil,$ret_or_3=nil;return $truthy($$($nesting,"Integer")["$==="](other))?$truthy($truthy($ret_or_1=$$($nesting,"Integer")["$==="](self)["$!"]())?$ret_or_1:$rb_gt(other,0))?Math.pow(self,other):$$($nesting,"Rational").$new(self,1)["$**"](other):$truthy($truthy($ret_or_2=$rb_lt(self,0))?$truthy($ret_or_3=$$($nesting,"Float")["$==="](other))?$ret_or_3:$$($nesting,"Rational")["$==="](other):$ret_or_2)?$$($nesting,"Complex").$new(self,0)["$**"](other.$to_f()):$truthy(null!=other.$$is_number)?Math.pow(self,other):self.$__coerced__("**",other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$===",$Number_positive$ques$74=function(other){return other.$$is_number?this.valueOf()===other.valueOf():!!other["$respond_to?"]("==")&&other["$=="](this)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$==",$Number_positive$ques$74=function(other){return other.$$is_number?this.valueOf()===other.valueOf():!!other["$respond_to?"]("==")&&other["$=="](this)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$abs",$Number_positive$ques$74=function(){return Math.abs(this)},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$abs2",$Number_positive$ques$74=function(){return Math.abs(this*this)},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$allbits?",$Number_positive$ques$74=function(mask){return(this&(mask=$$($nesting,"Opal")["$coerce_to!"](mask,$$($nesting,"Integer"),"to_int")))==mask},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$anybits?",$Number_positive$ques$74=function(mask){return 0!=(this&(mask=$$($nesting,"Opal")["$coerce_to!"](mask,$$($nesting,"Integer"),"to_int")))},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$angle",$Number_positive$ques$74=function(){return $truthy(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:this<0?Math.PI:0},$Number_positive$ques$74.$$arity=0),Opal.alias($Number_negative$ques$75,"arg","angle"),Opal.alias($Number_negative$ques$75,"phase","angle"),Opal.def($Number_negative$ques$75,"$bit_length",$Number_positive$ques$74=function(){if($truthy($$($nesting,"Integer")["$==="](this))||this.$raise($$($nesting,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var result=0,value=this<0?~this:this;0!=value;)result+=1,value>>>=1;return result},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$ceil",$Number_positive$ques$74=function(result){null==result&&(result=0);var f=this.$to_f();if(f%1==0&&0<=result)return f;result=Math.pow(10,result),result=Math.ceil(f*result)/result;return f%1==0&&(result=Math.round(result)),result},$Number_positive$ques$74.$$arity=-1),Opal.def($Number_negative$ques$75,"$chr",$Number_positive$ques$74=function(encoding){return Opal.enc(String.fromCharCode(this),encoding||"BINARY")},$Number_positive$ques$74.$$arity=-1),Opal.def($Number_negative$ques$75,"$denominator",$Number_denominator$34=function(){var $zuper_ii,$iter=$Number_denominator$34.$$p,self=this,$ret_or_4=nil,$zuper=nil,$zuper_i=nil;for($iter&&($Number_denominator$34.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy($truthy($ret_or_4=self["$nan?"]())?$ret_or_4:self["$infinite?"]())?1:$send2(self,Opal.find_super_dispatcher(self,"denominator",$Number_denominator$34,!1,!0),"denominator",$zuper,$iter)},$Number_denominator$34.$$arity=0),Opal.def($Number_negative$ques$75,"$downto",$Number_downto$35=function(stop){var $$36,$iter=$Number_downto$35.$$p,block=$iter||nil;if($iter&&($Number_downto$35.$$p=null),$iter&&($Number_downto$35.$$p=null),block===nil)return $send(this,"enum_for",["downto",stop],(($$36=function(){var self=null==$$36.$$s?this:$$36.$$s;return $truthy($$($nesting,"Numeric")["$==="](stop))||self.$raise($$($nesting,"ArgumentError"),"comparison of "+self.$class()+" with "+stop.$class()+" failed"),$truthy($rb_gt(stop,self))?0:$rb_plus($rb_minus(self,stop),1)}).$$s=this,$$36.$$arity=0,$$36));stop.$$is_number||this.$raise($$($nesting,"ArgumentError"),"comparison of "+this.$class()+" with "+stop.$class()+" failed");for(var i=this;stop<=i;i--)block(i);return this},$Number_downto$35.$$arity=1),Opal.alias($Number_negative$ques$75,"eql?","=="),Opal.def($Number_negative$ques$75,"$equal?",$Number_positive$ques$74=function(other){var $ret_or_5;return $truthy($ret_or_5=this["$=="](other))?$ret_or_5:isNaN(this)&&isNaN(other)},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$even?",$Number_positive$ques$74=function(){return this%2==0},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$floor",$Number_positive$ques$74=function(result){null==result&&(result=0);var f=this.$to_f();if(f%1==0&&0<=result)return f;result=Math.pow(10,result),result=Math.floor(f*result)/result;return f%1==0&&(result=Math.round(result)),result},$Number_positive$ques$74.$$arity=-1),Opal.def($Number_negative$ques$75,"$gcd",$Number_positive$ques$74=function(other){$truthy($$($nesting,"Integer")["$==="](other))||this.$raise($$($nesting,"TypeError"),"not an integer");for(var min=Math.abs(this),max=Math.abs(other);0<min;)var tmp=min,min=max%min,max=tmp;return max},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$gcdlcm",$Number_positive$ques$74=function(other){return[this.$gcd(other),this.$lcm(other)]},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$integer?",$Number_positive$ques$74=function(){return this%1==0},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$is_a?",$Number_is_a$ques$43=function(klass){var $zuper_ii,$iter=$Number_is_a$ques$43.$$p,self=this,$ret_or_6=nil,$ret_or_7=nil,$ret_or_8=nil,$zuper=nil,$zuper_i=nil;for($iter&&($Number_is_a$ques$43.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return!!$truthy($truthy($ret_or_6=klass["$=="]($$($nesting,"Integer")))?$$($nesting,"Integer")["$==="](self):$ret_or_6)||(!!$truthy($truthy($ret_or_7=klass["$=="]($$($nesting,"Integer")))?$$($nesting,"Integer")["$==="](self):$ret_or_7)||(!!$truthy($truthy($ret_or_8=klass["$=="]($$($nesting,"Float")))?$$($nesting,"Float")["$==="](self):$ret_or_8)||$send2(self,Opal.find_super_dispatcher(self,"is_a?",$Number_is_a$ques$43,!1,!0),"is_a?",$zuper,$iter)))},$Number_is_a$ques$43.$$arity=1),Opal.alias($Number_negative$ques$75,"kind_of?","is_a?"),Opal.def($Number_negative$ques$75,"$instance_of?",$Number_instance_of$ques$44=function(klass){var $zuper_ii,$iter=$Number_instance_of$ques$44.$$p,self=this,$ret_or_9=nil,$ret_or_10=nil,$ret_or_11=nil,$zuper=nil,$zuper_i=nil;for($iter&&($Number_instance_of$ques$44.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return!!$truthy($truthy($ret_or_9=klass["$=="]($$($nesting,"Integer")))?$$($nesting,"Integer")["$==="](self):$ret_or_9)||(!!$truthy($truthy($ret_or_10=klass["$=="]($$($nesting,"Integer")))?$$($nesting,"Integer")["$==="](self):$ret_or_10)||(!!$truthy($truthy($ret_or_11=klass["$=="]($$($nesting,"Float")))?$$($nesting,"Float")["$==="](self):$ret_or_11)||$send2(self,Opal.find_super_dispatcher(self,"instance_of?",$Number_instance_of$ques$44,!1,!0),"instance_of?",$zuper,$iter)))},$Number_instance_of$ques$44.$$arity=1),Opal.def($Number_negative$ques$75,"$lcm",$Number_positive$ques$74=function(other){return $truthy($$($nesting,"Integer")["$==="](other))||this.$raise($$($nesting,"TypeError"),"not an integer"),0==this||0==other?0:Math.abs(this*other/this.$gcd(other))},$Number_positive$ques$74.$$arity=1),Opal.alias($Number_negative$ques$75,"magnitude","abs"),Opal.alias($Number_negative$ques$75,"modulo","%"),Opal.def($Number_negative$ques$75,"$next",$Number_positive$ques$74=function(){return this+1},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$nobits?",$Number_positive$ques$74=function(mask){return 0==(this&(mask=$$($nesting,"Opal")["$coerce_to!"](mask,$$($nesting,"Integer"),"to_int")))},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$nonzero?",$Number_positive$ques$74=function(){return 0==this?nil:this},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$numerator",$Number_numerator$49=function(){var $zuper_ii,$iter=$Number_numerator$49.$$p,self=this,$ret_or_12=nil,$zuper=nil,$zuper_i=nil;for($iter&&($Number_numerator$49.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy($truthy($ret_or_12=self["$nan?"]())?$ret_or_12:self["$infinite?"]())?self:$send2(self,Opal.find_super_dispatcher(self,"numerator",$Number_numerator$49,!1,!0),"numerator",$zuper,$iter)},$Number_numerator$49.$$arity=0),Opal.def($Number_negative$ques$75,"$odd?",$Number_positive$ques$74=function(){return this%2!=0},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$ord",$Number_positive$ques$74=function(){return this},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$pow",$Number_positive$ques$74=function(b,m){return 0==this&&this.$raise($$($nesting,"ZeroDivisionError"),"divided by 0"),void 0===m?this["$**"](b):($$($nesting,"Integer")["$==="](b)||this.$raise($$($nesting,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),b<0&&this.$raise($$($nesting,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),$$($nesting,"Integer")["$==="](m)||this.$raise($$($nesting,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===m&&this.$raise($$($nesting,"ZeroDivisionError"),"divided by 0"),this["$**"](b)["$%"](m))},$Number_positive$ques$74.$$arity=-2),Opal.def($Number_negative$ques$75,"$pred",$Number_positive$ques$74=function(){return this-1},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$quo",$Number_quo$54=function(other){var $zuper_ii,$iter=$Number_quo$54.$$p,$zuper=nil,$zuper_i=nil;for($iter&&($Number_quo$54.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy($$($nesting,"Integer")["$==="](this))?$send2(this,Opal.find_super_dispatcher(this,"quo",$Number_quo$54,!1,!0),"quo",$zuper,$iter):$rb_divide(this,other)},$Number_quo$54.$$arity=1),Opal.def($Number_negative$ques$75,"$rationalize",$Number_positive$ques$74=function(eps){var $a,f,n;return 1<arguments.length&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),$truthy($$($nesting,"Integer")["$==="](this))?$$($nesting,"Rational").$new(this,1):$truthy(this["$infinite?"]())?this.$raise($$($nesting,"FloatDomainError"),"Infinity"):$truthy(this["$nan?"]())?this.$raise($$($nesting,"FloatDomainError"),"NaN"):$truthy(null==eps)?($a=$$($nesting,"Math").$frexp(this),f=null==($a=Opal.to_ary($a))[0]?nil:$a[0],n=null==$a[1]?nil:$a[1],f=$$($nesting,"Math").$ldexp(f,$$$($$($nesting,"Float"),"MANT_DIG")).$to_i(),n=$rb_minus(n,$$$($$($nesting,"Float"),"MANT_DIG")),$$($nesting,"Rational").$new($rb_times(2,f),1["$<<"]($rb_minus(1,n))).$rationalize($$($nesting,"Rational").$new(1,1["$<<"]($rb_minus(1,n))))):this.$to_r().$rationalize(eps)},$Number_positive$ques$74.$$arity=-1),Opal.def($Number_negative$ques$75,"$remainder",$Number_positive$ques$74=function(y){return $rb_minus(this,$rb_times(y,$rb_divide(this,y).$truncate()))},$Number_positive$ques$74.$$arity=1),Opal.def($Number_negative$ques$75,"$round",$Number_positive$ques$74=function(ndigits){var exp,self=this,$ret_or_13=nil,lhs=nil,$a=nil;if($truthy($$($nesting,"Integer")["$==="](self))){if($truthy(null==ndigits))return self;if($truthy($truthy($ret_or_13=$$($nesting,"Float")["$==="](ndigits))?ndigits["$infinite?"]():$ret_or_13)&&self.$raise($$($nesting,"RangeError"),"Infinity"),ndigits=$$($nesting,"Opal")["$coerce_to!"](ndigits,$$($nesting,"Integer"),"to_int"),$truthy($rb_lt(ndigits,$$$($$($nesting,"Integer"),"MIN")))&&self.$raise($$($nesting,"RangeError"),"out of bounds"),$truthy(0<=ndigits))return self;if(.415241*(ndigits=ndigits["$-@"]())-.125>self.$size())return 0;var rhs=Math.pow(10,ndigits),rhs=Math.floor((Math.abs(self)+rhs/2)/rhs)*rhs;return self<0?-rhs:rhs}if($truthy($truthy(lhs=self["$nan?"]())?null==ndigits:lhs)&&self.$raise($$($nesting,"FloatDomainError"),"NaN"),ndigits=$$($nesting,"Opal")["$coerce_to!"](ndigits||0,$$($nesting,"Integer"),"to_int"),$truthy((rhs=0,"number"==typeof(lhs=ndigits)&&"number"==typeof rhs?lhs<=rhs:lhs["$<="](rhs))))$truthy(self["$nan?"]())?self.$raise($$($nesting,"RangeError"),"NaN"):$truthy(self["$infinite?"]())&&self.$raise($$($nesting,"FloatDomainError"),"Infinity");else{if(ndigits["$=="](0))return Math.round(self);if($truthy($truthy($a=self["$nan?"]())?$a:self["$infinite?"]()))return self}return $a=$$($nesting,"Math").$frexp(self),null==($a=Opal.to_ary($a))[0]||$a[0],exp=null==$a[1]?nil:$a[1],$truthy(function(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<=lhs:lhs["$>="](rhs)}(ndigits,$rb_minus($rb_plus($$$($$($nesting,"Float"),"DIG"),2),$truthy($rb_gt(exp,0))?$rb_divide(exp,4):$rb_minus($rb_divide(exp,3),1))))?self:$truthy($rb_lt(ndigits,($truthy($rb_gt(exp,0))?$rb_plus($rb_divide(exp,3),1):$rb_divide(exp,4))["$-@"]()))?0:Math.round(self*Math.pow(10,ndigits))/Math.pow(10,ndigits)},$Number_positive$ques$74.$$arity=-1),Opal.alias($Number_negative$ques$75,"succ","next"),Opal.def($Number_negative$ques$75,"$times",$Number_times$58=function(){var $$59,$iter=$Number_times$58.$$p,block=$iter||nil;if($iter&&($Number_times$58.$$p=null),$iter&&($Number_times$58.$$p=null),!$truthy(block))return $send(this,"enum_for",["times"],(($$59=function(){return null==$$59.$$s?this:$$59.$$s}).$$s=this,$$59.$$arity=0,$$59));for(var i=0;i<this;i++)block(i);return this},$Number_times$58.$$arity=0),Opal.def($Number_negative$ques$75,"$to_f",$Number_positive$ques$74=function(){return this},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$to_i",$Number_positive$ques$74=function(){return this<0?Math.ceil(this):Math.floor(this)},$Number_positive$ques$74.$$arity=0),Opal.alias($Number_negative$ques$75,"to_int","to_i"),Opal.def($Number_negative$ques$75,"$to_r",$Number_positive$ques$74=function(){var $a,f,e;return $truthy($$($nesting,"Integer")["$==="](this))?$$($nesting,"Rational").$new(this,1):($a=$$($nesting,"Math").$frexp(this),f=null==($a=Opal.to_ary($a))[0]?nil:$a[0],e=null==$a[1]?nil:$a[1],f=$$($nesting,"Math").$ldexp(f,$$$($$($nesting,"Float"),"MANT_DIG")).$to_i(),e=$rb_minus(e,$$$($$($nesting,"Float"),"MANT_DIG")),$rb_times(f,$$$($$($nesting,"Float"),"RADIX")["$**"](e)).$to_r())},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$to_s",$Number_positive$ques$74=function(base){var $ret_or_16=nil;return null==base&&(base=10),base=$$($nesting,"Opal")["$coerce_to!"](base,$$($nesting,"Integer"),"to_int"),$truthy($truthy($ret_or_16=$rb_lt(base,2))?$ret_or_16:$rb_gt(base,36))&&this.$raise($$($nesting,"ArgumentError"),"invalid radix "+base),this.toString(base)},$Number_positive$ques$74.$$arity=-1),Opal.def($Number_negative$ques$75,"$truncate",$Number_positive$ques$74=function(result){null==result&&(result=0);var f=this.$to_f();if(f%1==0&&0<=result)return f;result=Math.pow(10,result),result=parseInt(f*result,10)/result;return f%1==0&&(result=Math.round(result)),result},$Number_positive$ques$74.$$arity=-1),Opal.alias($Number_negative$ques$75,"inspect","to_s"),Opal.def($Number_negative$ques$75,"$digits",$Number_positive$ques$74=function(base){null==base&&(base=10),$rb_lt(this,0)&&this.$raise($$$($$($nesting,"Math"),"DomainError"),"out of domain"),base=$$($nesting,"Opal")["$coerce_to!"](base,$$($nesting,"Integer"),"to_int"),$truthy($rb_lt(base,2))&&this.$raise($$($nesting,"ArgumentError"),"invalid radix "+base);for(var value=this,result=[];0!==value;)result.push(value%base),value=parseInt(value/base,10);return result},$Number_positive$ques$74.$$arity=-1),Opal.def($Number_negative$ques$75,"$divmod",$Number_divmod$66=function(other){var $zuper_ii,$iter=$Number_divmod$66.$$p,self=this,$ret_or_17=nil,$zuper=nil,$zuper_i=nil;for($iter&&($Number_divmod$66.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy($truthy($ret_or_17=self["$nan?"]())?$ret_or_17:other["$nan?"]())?self.$raise($$($nesting,"FloatDomainError"),"NaN"):$truthy(self["$infinite?"]())?self.$raise($$($nesting,"FloatDomainError"),"Infinity"):$send2(self,Opal.find_super_dispatcher(self,"divmod",$Number_divmod$66,!1,!0),"divmod",$zuper,$iter)},$Number_divmod$66.$$arity=1),Opal.def($Number_negative$ques$75,"$upto",$Number_upto$67=function(stop){var $$68,$iter=$Number_upto$67.$$p,block=$iter||nil;if($iter&&($Number_upto$67.$$p=null),$iter&&($Number_upto$67.$$p=null),block===nil)return $send(this,"enum_for",["upto",stop],(($$68=function(){var self=null==$$68.$$s?this:$$68.$$s;return $truthy($$($nesting,"Numeric")["$==="](stop))||self.$raise($$($nesting,"ArgumentError"),"comparison of "+self.$class()+" with "+stop.$class()+" failed"),$truthy($rb_lt(stop,self))?0:$rb_plus($rb_minus(stop,self),1)}).$$s=this,$$68.$$arity=0,$$68));stop.$$is_number||this.$raise($$($nesting,"ArgumentError"),"comparison of "+this.$class()+" with "+stop.$class()+" failed");for(var i=this;i<=stop;i++)block(i);return this},$Number_upto$67.$$arity=1),Opal.def($Number_negative$ques$75,"$zero?",$Number_positive$ques$74=function(){return 0==this},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$size",$Number_positive$ques$74=function(){return 4},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$nan?",$Number_positive$ques$74=function(){return isNaN(this)},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$finite?",$Number_positive$ques$74=function(){return this!=1/0&&this!=-1/0&&!isNaN(this)},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$infinite?",$Number_positive$ques$74=function(){return this==1/0?1:this==-1/0?-1:nil},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$positive?",$Number_positive$ques$74=function(){return 0!=this&&(this==1/0||0<1/this)},$Number_positive$ques$74.$$arity=0),Opal.def($Number_negative$ques$75,"$negative?",$Number_negative$ques$75=function(){return this==-1/0||1/this<0},$Number_negative$ques$75.$$arity=0)}($nesting[0],$$($nesting,"Numeric"),$nesting),Opal.const_set($nesting[0],"Fixnum",$$($nesting,"Number")),function($base,self,$nesting){self=$klass($base,self,"Integer"),$nesting=[self].concat($nesting),self.$$is_number_class=!0,self.$$is_integer_class=!0,function($sqrt$77,$allocate$76){var $nesting=[$sqrt$77].concat($allocate$76);Opal.def($sqrt$77,"$allocate",$allocate$76=function(){return this.$raise($$($nesting,"TypeError"),"allocator undefined for "+this.$name())},$allocate$76.$$arity=0),Opal.udef($sqrt$77,"$new"),Opal.def($sqrt$77,"$sqrt",$sqrt$77=function(n){return(n=$$($nesting,"Opal")["$coerce_to!"](n,$$($nesting,"Integer"),"to_int"))<0&&this.$raise($$$($$($nesting,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(n),10)},$sqrt$77.$$arity=1)}(Opal.get_singleton_class(self),$nesting),Opal.const_set($nesting[0],"MAX",Math.pow(2,30)-1),Opal.const_set($nesting[0],"MIN",-Math.pow(2,30))}($nesting[0],$$($nesting,"Numeric"),$nesting),function($base,self,$nesting){self=$klass($base,self,"Float"),$nesting=[self].concat($nesting);return self.$$is_number_class=!0,function($eq_eq_eq$79,$allocate$78){var $nesting=[$eq_eq_eq$79].concat($allocate$78);Opal.def($eq_eq_eq$79,"$allocate",$allocate$78=function(){return this.$raise($$($nesting,"TypeError"),"allocator undefined for "+this.$name())},$allocate$78.$$arity=0),Opal.udef($eq_eq_eq$79,"$new"),Opal.def($eq_eq_eq$79,"$===",$eq_eq_eq$79=function(other){return!!other.$$is_number},$eq_eq_eq$79.$$arity=1)}(Opal.get_singleton_class(self),$nesting),Opal.const_set($nesting[0],"INFINITY",1/0),Opal.const_set($nesting[0],"MAX",Number.MAX_VALUE),Opal.const_set($nesting[0],"MIN",Number.MIN_VALUE),Opal.const_set($nesting[0],"NAN",NaN),Opal.const_set($nesting[0],"DIG",15),Opal.const_set($nesting[0],"MANT_DIG",53),Opal.const_set($nesting[0],"RADIX",2),Opal.const_set($nesting[0],"EPSILON",Number.EPSILON||2220446049250313e-31)}($nesting[0],$$($nesting,"Numeric"),$nesting)},Opal.modules["corelib/range"]=function(Opal){function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_le(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<=rhs:lhs["$<="](rhs)}function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$truthy=Opal.truthy,$send2=Opal.send2,$send=Opal.send;return Opal.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$nil?","$include?","$!","$<","$<=","$enum_for","$size","$upto","$to_proc","$respond_to?","$class","$succ","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-@","$-","$to_i","$coerce_to!","$ceil","$/","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),self.$require("corelib/enumerable"),function($Range_hash$23,$Range_marshal_load$22){var $Range_count$3,$Range_to_a$4,$Range_each$6,$Range_first$10,$Range_max$12,$Range_min$13,$Range_step$15,$Range_bsearch$19,$Range_hash$23=$klass($Range_hash$23,null,"Range"),$nesting=[$Range_hash$23].concat($Range_marshal_load$22);function is_infinite(self){return self.begin===nil||self.end===nil||self.begin===-1/0||self.end===1/0||self.begin===1/0||self.end===-1/0}return $Range_hash$23.$$prototype.begin=$Range_hash$23.$$prototype.end=$Range_hash$23.$$prototype.excl=nil,$Range_hash$23.$include($$($nesting,"Enumerable")),$Range_hash$23.$$prototype.$$is_range=!0,$Range_hash$23.$attr_reader("begin","end"),Opal.def($Range_hash$23,"$initialize",$Range_marshal_load$22=function(first,last,exclude){var $ret_or_1=nil,$ret_or_2=nil;return null==exclude&&(exclude=!1),$truthy(this.begin)&&this.$raise($$($nesting,"NameError"),"'initialize' called twice"),$truthy($truthy($ret_or_1=$truthy($ret_or_2=first["$<=>"](last))?$ret_or_2:first["$nil?"]())?$ret_or_1:last["$nil?"]())||this.$raise($$($nesting,"ArgumentError"),"bad value for range"),this.begin=first,this.end=last,this.excl=exclude},$Range_marshal_load$22.$$arity=-3),Opal.def($Range_hash$23,"$===",$Range_marshal_load$22=function(value){return this["$include?"](value)},$Range_marshal_load$22.$$arity=1),Opal.def($Range_hash$23,"$count",$Range_count$3=function(){var $zuper_ii,$iter=$Range_count$3.$$p,block=$iter||nil,self=this,$ret_or_3=nil,$zuper=nil,$zuper_i=nil;for($iter&&($Range_count$3.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $iter&&($Range_count$3.$$p=null),$truthy($truthy($ret_or_3=(block!==nil)["$!"]())?is_infinite(self):$ret_or_3)?$$$($$($nesting,"Float"),"INFINITY"):$send2(self,Opal.find_super_dispatcher(self,"count",$Range_count$3,!1,!0),"count",$zuper,$iter)},$Range_count$3.$$arity=0),Opal.def($Range_hash$23,"$to_a",$Range_to_a$4=function(){var $zuper_ii,$iter=$Range_to_a$4.$$p,$zuper=nil,$zuper_i=nil;for($iter&&($Range_to_a$4.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy(is_infinite(this))&&this.$raise($$($nesting,"TypeError"),"cannot convert endless range to an array"),$send2(this,Opal.find_super_dispatcher(this,"to_a",$Range_to_a$4,!1,!0),"to_a",$zuper,$iter)},$Range_to_a$4.$$arity=0),Opal.def($Range_hash$23,"$cover?",$Range_marshal_load$22=function(value){var $ret_or_10,self=this,$ret_or_4=nil,$ret_or_5=nil,$ret_or_6=nil,$ret_or_7=nil,$ret_or_8=nil,$ret_or_9=nil,$ret_or_11=nil,$ret_or_12=nil,$ret_or_13=nil,beg_cmp=!!$truthy($ret_or_4=$truthy($ret_or_5=$truthy($ret_or_6=self.begin["$nil?"]())?-1:$ret_or_6)?$ret_or_5:self.begin["$<=>"](value))&&$ret_or_4,end_cmp=!!$truthy($ret_or_7=$truthy($ret_or_8=$truthy($ret_or_9=self.end["$nil?"]())?-1:$ret_or_9)?$ret_or_8:value["$<=>"](self.end))&&$ret_or_7;return $truthy($ret_or_10=$truthy($ret_or_11=$truthy(self.excl)?$truthy($ret_or_12=end_cmp)?$rb_lt(end_cmp,0):$ret_or_12:$truthy($ret_or_13=end_cmp)?$rb_le(end_cmp,0):$ret_or_13)?beg_cmp:$ret_or_11)?$rb_le(beg_cmp,0):$ret_or_10},$Range_marshal_load$22.$$arity=1),Opal.def($Range_hash$23,"$each",$Range_each$6=function(){var $$7,last,i,limit,$iter=$Range_each$6.$$p,block=$iter||nil,self=this,current=nil,$ret_or_14=nil,$ret_or_15=nil;if($iter&&($Range_each$6.$$p=null),$iter&&($Range_each$6.$$p=null),block===nil)return $send(self,"enum_for",["each"],(($$7=function(){return(null==$$7.$$s?this:$$7.$$s).$size()}).$$s=self,$$7.$$arity=0,$$7));if(self.begin.$$is_number&&self.end.$$is_number){for(self.begin%1==0&&self.end%1==0||self.$raise($$($nesting,"TypeError"),"can't iterate from Float"),i=self.begin,limit=self.end+($truthy(self.excl)?0:1);i<limit;i++)block(i);return self}if(self.begin.$$is_string&&self.end.$$is_string)return $send(self.begin,"upto",[self.end,self.excl],block.$to_proc()),self;for(current=self.begin,last=self.end,$truthy(current["$respond_to?"]("succ"))||self.$raise($$($nesting,"TypeError"),"can't iterate from "+current.$class());$truthy($truthy($ret_or_14=self.end["$nil?"]())?$ret_or_14:$rb_lt(current["$<=>"](last),0));)Opal.yield1(block,current),current=current.$succ();return $truthy($truthy($ret_or_15=self.excl["$!"]())?current["$=="](last):$ret_or_15)&&Opal.yield1(block,current),self},$Range_each$6.$$arity=0),Opal.def($Range_hash$23,"$eql?",$Range_marshal_load$22=function(other){var $ret_or_16,self=this,$ret_or_17=nil;return!!$truthy($$($nesting,"Range")["$==="](other))&&($truthy($ret_or_16=$truthy($ret_or_17=self.excl["$==="](other["$exclude_end?"]()))?self.begin["$eql?"](other.$begin()):$ret_or_17)?self.end["$eql?"](other.$end()):$ret_or_16)},$Range_marshal_load$22.$$arity=1),Opal.alias($Range_hash$23,"==","eql?"),Opal.def($Range_hash$23,"$exclude_end?",$Range_marshal_load$22=function(){return this.excl},$Range_marshal_load$22.$$arity=0),Opal.def($Range_hash$23,"$first",$Range_first$10=function(n){var $zuper_ii,$iter=$Range_first$10.$$p,$zuper=nil,$zuper_i=nil;for($iter&&($Range_first$10.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy(this.begin["$nil?"]())&&this.$raise($$($nesting,"RangeError"),"cannot get the minimum of beginless range"),$truthy(null==n)?this.begin:$send2(this,Opal.find_super_dispatcher(this,"first",$Range_first$10,!1,!0),"first",$zuper,$iter)},$Range_first$10.$$arity=-1),Opal.alias($Range_hash$23,"include?","cover?"),Opal.def($Range_hash$23,"$last",$Range_marshal_load$22=function(n){return $truthy(this.end["$nil?"]())&&this.$raise($$($nesting,"RangeError"),"cannot get the maximum of endless range"),$truthy(null==n)?this.end:this.$to_a().$last(n)},$Range_marshal_load$22.$$arity=-1),Opal.def($Range_hash$23,"$max",$Range_max$12=function(){var $zuper_ii,$iter=$Range_max$12.$$p,$yield=$iter||nil,self=this,$ret_or_18=nil,$ret_or_19=nil,$ret_or_20=nil,$zuper=nil,$zuper_i=nil;for($iter&&($Range_max$12.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy(self.end["$nil?"]())?self.$raise($$($nesting,"RangeError"),"cannot get the maximum of endless range"):$yield!==nil?$send2(self,Opal.find_super_dispatcher(self,"max",$Range_max$12,!1,!0),"max",$zuper,$iter):$truthy($truthy($ret_or_18=self.begin["$nil?"]()["$!"]())?$truthy($ret_or_19=$rb_gt(self.begin,self.end))?$ret_or_19:$truthy($ret_or_20=self.excl)?self.begin["$=="](self.end):$ret_or_20:$ret_or_18)?nil:self.excl?self.end-1:self.end},$Range_max$12.$$arity=0),Opal.alias($Range_hash$23,"member?","cover?"),Opal.def($Range_hash$23,"$min",$Range_min$13=function(){var $zuper_ii,$iter=$Range_min$13.$$p,$yield=$iter||nil,self=this,$ret_or_21=nil,$ret_or_22=nil,$ret_or_23=nil,$zuper=nil,$zuper_i=nil;for($iter&&($Range_min$13.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy(self.begin["$nil?"]())?self.$raise($$($nesting,"RangeError"),"cannot get the minimum of beginless range"):$yield!==nil?$send2(self,Opal.find_super_dispatcher(self,"min",$Range_min$13,!1,!0),"min",$zuper,$iter):$truthy($truthy($ret_or_21=self.end["$nil?"]()["$!"]())?$truthy($ret_or_22=$rb_gt(self.begin,self.end))?$ret_or_22:$truthy($ret_or_23=self.excl)?self.begin["$=="](self.end):$ret_or_23:$ret_or_21)?nil:self.begin},$Range_min$13.$$arity=0),Opal.def($Range_hash$23,"$size",$Range_marshal_load$22=function(){var range_begin,lhs=this,infinity=nil,$ret_or_24=nil,$ret_or_25=nil,$ret_or_26=nil,rhs=nil,range_end=nil,infinity=$$$($$($nesting,"Float"),"INFINITY");return $truthy($truthy($ret_or_24=$truthy($ret_or_25=lhs.begin["$=="](infinity))?lhs.end["$nil?"]()["$!"]():$ret_or_25)?$ret_or_24:$truthy($ret_or_26=lhs.end["$=="](infinity["$-@"]()))?lhs.begin["$nil?"]()["$!"]():$ret_or_26)?0:$truthy(is_infinite(lhs))?infinity:$truthy($truthy(rhs=$$($nesting,"Numeric")["$==="](lhs.begin))?$$($nesting,"Numeric")["$==="](lhs.end):rhs)?(range_begin=lhs.begin,range_end=lhs.end,$truthy(lhs.excl)&&(rhs=1,range_end="number"==typeof(lhs=range_end)&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)),$truthy($rb_lt(range_end,range_begin))?0:(Math.abs(range_end-range_begin)+1).$to_i()):nil},$Range_marshal_load$22.$$arity=0),Opal.def($Range_hash$23,"$step",$Range_step$15=function(n){var $$16,$$17,$$18,$iter=$Range_step$15.$$p,$yield=$iter||nil,self=this,i=nil;function coerceStepSize(){n.$$is_number||(n=$$($nesting,"Opal")["$coerce_to!"](n,$$($nesting,"Integer"),"to_int")),n<0?self.$raise($$($nesting,"ArgumentError"),"step can't be negative"):0===n&&self.$raise($$($nesting,"ArgumentError"),"step can't be 0")}function enumeratorSize(){if(!self.begin["$respond_to?"]("succ"))return nil;if(self.begin.$$is_string&&self.end.$$is_string)return nil;if(n%1==0)return err=self.$size(),floor=n,("number"==typeof err&&"number"==typeof floor?err/floor:err["$/"](floor)).$ceil();var size,err,floor,begin=self.begin,end=self.end,err=Math.abs,floor=Math.floor,err=(err(begin)+err(end)+err(end-begin))/err(n)*$$$($$($nesting,"Float"),"EPSILON");return.5<err&&(err=.5),self.excl?(size=floor((end-begin)/n-err))*n+begin<end&&size++:size=floor((end-begin)/n+err)+1,size}return $iter&&($Range_step$15.$$p=null),null==n&&(n=1),$yield===nil?$send(self,"enum_for",["step",n],(($$16=function(){null==$$16.$$s||$$16.$$s;return coerceStepSize(),enumeratorSize()}).$$s=self,$$16.$$arity=0,$$16)):(coerceStepSize(),$truthy(self.begin.$$is_number&&self.end.$$is_number)?(i=0,function(){var $brk=Opal.new_brk();try{$send(self,"loop",[],(($$17=function(){var current,lhs,rhs,self=null==$$17.$$s?this:$$17.$$s;return null==self.begin&&(self.begin=nil),null==self.excl&&(self.excl=nil),null==self.end&&(self.end=nil),current=$rb_plus(self.begin,(rhs=n,"number"==typeof(lhs=i)&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs))),$truthy(self.excl)?$truthy(function(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<=lhs:lhs["$>="](rhs)}(current,self.end))&&Opal.brk(nil,$brk):$truthy($rb_gt(current,self.end))&&Opal.brk(nil,$brk),Opal.yield1($yield,current),i=$rb_plus(i,1)}).$$s=self,$$17.$$brk=$brk,$$17.$$arity=0,$$17))}catch(err){if(err===$brk)return err.$v;throw err}}()):(self.begin.$$is_string&&self.end.$$is_string&&n%1!=0&&self.$raise($$($nesting,"TypeError"),"no implicit conversion to float from string"),$send(self,"each_with_index",[],(($$18=function(value,idx){null==$$18.$$s||$$18.$$s;return null==value&&(value=nil),null==idx&&(idx=nil),idx["$%"](n)["$=="](0)?Opal.yield1($yield,value):nil}).$$s=self,$$18.$$arity=2,$$18))),self)},$Range_step$15.$$arity=-1),Opal.def($Range_hash$23,"$bsearch",$Range_bsearch$19=function(){var $iter=$Range_bsearch$19.$$p,block=$iter||nil;return $iter&&($Range_bsearch$19.$$p=null),$iter&&($Range_bsearch$19.$$p=null),block===nil?this.$enum_for("bsearch"):($truthy(is_infinite(this)&&(this.begin.$$is_number||this.end.$$is_number))&&this.$raise($$($nesting,"NotImplementedError"),"Can't #bsearch an infinite range"),$truthy(this.begin.$$is_number&&this.end.$$is_number)||this.$raise($$($nesting,"TypeError"),"can't do binary search for "+this.begin.$class()),$send(this.$to_a(),"bsearch",[],block.$to_proc()))},$Range_bsearch$19.$$arity=0),Opal.def($Range_hash$23,"$to_s",$Range_marshal_load$22=function(){var self=this,$ret_or_28=nil,$ret_or_29=nil;return($truthy($ret_or_28=self.begin)?$ret_or_28:"")+($truthy(self.excl)?"...":"..")+($truthy($ret_or_29=self.end)?$ret_or_29:"")},$Range_marshal_load$22.$$arity=0),Opal.def($Range_hash$23,"$inspect",$Range_marshal_load$22=function(){var self=this,$ret_or_30=nil,$ret_or_31=nil;return($truthy($ret_or_30=self.begin)?self.begin.$inspect():$ret_or_30)+($truthy(self.excl)?"...":"..")+($truthy($ret_or_31=self.end)?self.end.$inspect():$ret_or_31)},$Range_marshal_load$22.$$arity=0),Opal.def($Range_hash$23,"$marshal_load",$Range_marshal_load$22=function(args){return this.begin=args["$[]"]("begin"),this.end=args["$[]"]("end"),this.excl=args["$[]"]("excl")},$Range_marshal_load$22.$$arity=1),Opal.def($Range_hash$23,"$hash",$Range_hash$23=function(){return[this.begin,this.end,this.excl].$hash()},$Range_hash$23.$$arity=0),nil&&"hash"}($nesting[0],$nesting)},Opal.modules["corelib/proc"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send;return Opal.add_stubs(["$raise","$proc","$call","$to_proc","$coerce_to!"]),function($base,self,$Proc_dup$14){var $Proc_new$1,$Proc_call$2,$Proc_$gt$gt$3,$Proc_$lt$lt$5,self=$klass($base,self,"Proc"),$nesting=[self].concat($Proc_dup$14);return Opal.defineProperty(self.$$prototype,"$$is_proc",!0),Opal.defineProperty(self.$$prototype,"$$is_lambda",!1),Opal.defs(self,"$new",$Proc_new$1=function(){var $iter=$Proc_new$1.$$p,block=$iter||nil;return $iter&&($Proc_new$1.$$p=null),$iter&&($Proc_new$1.$$p=null),$truthy(block)||this.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block"),block},$Proc_new$1.$$arity=0),Opal.def(self,"$call",$Proc_call$2=function($a){var args,$iter=$Proc_call$2.$$p,$brk=$iter||nil;$iter&&($Proc_call$2.$$p=null),$iter&&($Proc_call$2.$$p=null),args=Opal.slice.call(arguments,0,arguments.length),$brk!==nil&&(this.$$p=$brk);var result,$brk=this.$$brk;if($brk)try{result=this.$$is_lambda?this.apply(null,args):Opal.yieldX(this,args)}catch(err){if(err===$brk)return $brk.$v;throw err}else result=this.$$is_lambda?this.apply(null,args):Opal.yieldX(this,args);return result},$Proc_call$2.$$arity=-1),Opal.alias(self,"[]","call"),Opal.alias(self,"===","call"),Opal.alias(self,"yield","call"),Opal.def(self,"$>>",$Proc_$gt$gt$3=function(other){var $$4,$iter=$Proc_$gt$gt$3.$$p;return $iter&&($Proc_$gt$gt$3.$$p=null),$send(this,"proc",[],(($$4=function($a){var out,self=null==$$4.$$s?this:$$4.$$s,$post_args=$$4.$$p,block=$post_args||nil;return $post_args&&($$4.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),out=$send(self,"call",Opal.to_a($post_args),block.$to_proc()),other.$call(out)}).$$s=this,$$4.$$arity=-1,$$4))},$Proc_$gt$gt$3.$$arity=1),Opal.def(self,"$<<",$Proc_$lt$lt$5=function(other){var $$6,$iter=$Proc_$lt$lt$5.$$p;return $iter&&($Proc_$lt$lt$5.$$p=null),$send(this,"proc",[],(($$6=function($a){var out,self=null==$$6.$$s?this:$$6.$$s,$post_args=$$6.$$p,block=$post_args||nil;return $post_args&&($$6.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),out=$send(other,"call",Opal.to_a($post_args),block.$to_proc()),self.$call(out)}).$$s=this,$$6.$$arity=-1,$$6))},$Proc_$lt$lt$5.$$arity=1),Opal.def(self,"$to_proc",$Proc_dup$14=function(){return this},$Proc_dup$14.$$arity=0),Opal.def(self,"$lambda?",$Proc_dup$14=function(){return!!this.$$is_lambda},$Proc_dup$14.$$arity=0),Opal.def(self,"$arity",$Proc_dup$14=function(){return this.$$is_curried?-1:this.$$arity},$Proc_dup$14.$$arity=0),Opal.def(self,"$source_location",$Proc_dup$14=function(){return this.$$is_curried,nil},$Proc_dup$14.$$arity=0),Opal.def(self,"$binding",$Proc_dup$14=function(){return this.$$is_curried&&this.$raise($$($nesting,"ArgumentError"),"Can't create Binding"),nil},$Proc_dup$14.$$arity=0),Opal.def(self,"$parameters",$Proc_dup$14=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;for(var result=[],i=0,length=this.$$parameters.length;i<length;i++){var parameter=this.$$parameters[i];"req"===parameter[0]&&(parameter=["opt",parameter[1]]),result.push(parameter)}return result}return[]},$Proc_dup$14.$$arity=0),Opal.def(self,"$curry",$Proc_dup$14=function(arity){var self=this;function curried(){var args=$slice.call(arguments),result=args.length;return arity<result&&self.$$is_lambda&&!self.$$is_curried&&self.$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+result+" for "+arity+")"),arity<=result?self.$call.apply(self,args):((result=function(){return curried.apply(null,args.concat($slice.call(arguments)))}).$$is_lambda=self.$$is_lambda,result.$$is_curried=!0,result)}return void 0===arity?arity=self.length:(arity=$$($nesting,"Opal")["$coerce_to!"](arity,$$($nesting,"Integer"),"to_int"),self.$$is_lambda&&arity!==self.length&&self.$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+arity+" for "+self.length+")")),curried.$$is_lambda=self.$$is_lambda,curried.$$is_curried=!0,curried},$Proc_dup$14.$$arity=-1),Opal.def(self,"$dup",$Proc_dup$14=function(){function proc(){return original_proc.apply(this,arguments)}var prop,original_proc=this.$$original_proc||this;for(prop in this)this.hasOwnProperty(prop)&&(proc[prop]=this[prop]);return proc},$Proc_dup$14.$$arity=0),Opal.alias(self,"clone","dup")}($nesting[0],Function,$nesting)},Opal.modules["corelib/method"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$truthy=Opal.truthy;return Opal.add_stubs(["$attr_reader","$arity","$>>","$<<","$new","$class","$join","$source_location","$raise"]),function($Method_inspect$11,$Method_to_proc$10){var $Method_call$6,$nesting=[$Method_inspect$11=$klass($Method_inspect$11,null,"Method")].concat($Method_to_proc$10);$Method_inspect$11.$$prototype.method=$Method_inspect$11.$$prototype.receiver=$Method_inspect$11.$$prototype.owner=$Method_inspect$11.$$prototype.name=nil,$Method_inspect$11.$attr_reader("owner","receiver","name"),Opal.def($Method_inspect$11,"$initialize",$Method_to_proc$10=function(receiver,owner,method,name){return this.receiver=receiver,this.owner=owner,this.name=name,this.method=method},$Method_to_proc$10.$$arity=4),Opal.def($Method_inspect$11,"$arity",$Method_to_proc$10=function(){return this.method.$arity()},$Method_to_proc$10.$$arity=0),Opal.def($Method_inspect$11,"$parameters",$Method_to_proc$10=function(){return this.method.$$parameters},$Method_to_proc$10.$$arity=0),Opal.def($Method_inspect$11,"$source_location",$Method_to_proc$10=function(){var $ret_or_1;return $truthy($ret_or_1=this.method.$$source_location)?$ret_or_1:["(eval)",0]},$Method_to_proc$10.$$arity=0),Opal.def($Method_inspect$11,"$comments",$Method_to_proc$10=function(){var $ret_or_2;return $truthy($ret_or_2=this.method.$$comments)?$ret_or_2:[]},$Method_to_proc$10.$$arity=0),Opal.def($Method_inspect$11,"$call",$Method_call$6=function($a){var args=$Method_call$6.$$p,block=args||nil;return args&&($Method_call$6.$$p=null),args&&($Method_call$6.$$p=null),args=Opal.slice.call(arguments,0,arguments.length),this.method.$$p=block,this.method.apply(this.receiver,args)},$Method_call$6.$$arity=-1),Opal.alias($Method_inspect$11,"[]","call"),Opal.def($Method_inspect$11,"$>>",$Method_to_proc$10=function(other){return this.method["$>>"](other)},$Method_to_proc$10.$$arity=1),Opal.def($Method_inspect$11,"$<<",$Method_to_proc$10=function(other){return this.method["$<<"](other)},$Method_to_proc$10.$$arity=1),Opal.def($Method_inspect$11,"$unbind",$Method_to_proc$10=function(){return $$($nesting,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},$Method_to_proc$10.$$arity=0),Opal.def($Method_inspect$11,"$to_proc",$Method_to_proc$10=function(){var proc=this.$call.bind(this);return proc.$$unbound=this.method,proc.$$is_lambda=!0,proc.$$arity=this.method.$$arity,proc.$$parameters=this.method.$$parameters,proc},$Method_to_proc$10.$$arity=0),Opal.def($Method_inspect$11,"$inspect",$Method_inspect$11=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},$Method_inspect$11.$$arity=0)}($nesting[0],$nesting),function($UnboundMethod_inspect$18,$UnboundMethod_bind$17){var $UnboundMethod_inspect$18=$klass($UnboundMethod_inspect$18,null,"UnboundMethod"),$nesting=[$UnboundMethod_inspect$18].concat($UnboundMethod_bind$17);return $UnboundMethod_inspect$18.$$prototype.method=$UnboundMethod_inspect$18.$$prototype.owner=$UnboundMethod_inspect$18.$$prototype.name=$UnboundMethod_inspect$18.$$prototype.source=nil,$UnboundMethod_inspect$18.$attr_reader("source","owner","name"),Opal.def($UnboundMethod_inspect$18,"$initialize",$UnboundMethod_bind$17=function(source,owner,method,name){return this.source=source,this.owner=owner,this.method=method,this.name=name},$UnboundMethod_bind$17.$$arity=4),Opal.def($UnboundMethod_inspect$18,"$arity",$UnboundMethod_bind$17=function(){return this.method.$arity()},$UnboundMethod_bind$17.$$arity=0),Opal.def($UnboundMethod_inspect$18,"$parameters",$UnboundMethod_bind$17=function(){return this.method.$$parameters},$UnboundMethod_bind$17.$$arity=0),Opal.def($UnboundMethod_inspect$18,"$source_location",$UnboundMethod_bind$17=function(){var $ret_or_3;return $truthy($ret_or_3=this.method.$$source_location)?$ret_or_3:["(eval)",0]},$UnboundMethod_bind$17.$$arity=0),Opal.def($UnboundMethod_inspect$18,"$comments",$UnboundMethod_bind$17=function(){var $ret_or_4;return $truthy($ret_or_4=this.method.$$comments)?$ret_or_4:[]},$UnboundMethod_bind$17.$$arity=0),Opal.def($UnboundMethod_inspect$18,"$bind",$UnboundMethod_bind$17=function(object){if(this.owner.$$is_module||Opal.is_a(object,this.owner))return $$($nesting,"Method").$new(object,this.owner,this.method,this.name);this.$raise($$($nesting,"TypeError"),"can't bind singleton method to a different class (expected "+object+".kind_of?("+this.owner+" to be true)")},$UnboundMethod_bind$17.$$arity=1),Opal.def($UnboundMethod_inspect$18,"$inspect",$UnboundMethod_inspect$18=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},$UnboundMethod_inspect$18.$$arity=0),nil&&"inspect"}($nesting[0],$nesting)},Opal.modules["corelib/variables"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$gvars=Opal.gvars,$hash2=Opal.hash2;return Opal.add_stubs(["$new"]),$gvars["&"]=$gvars["~"]=$gvars["`"]=$gvars["'"]=nil,$gvars.LOADED_FEATURES=$gvars['"']=Opal.loaded_features,$gvars.LOAD_PATH=$gvars[":"]=[],$gvars["/"]="\n",$gvars[","]=nil,Opal.const_set($nesting[0],"ARGV",[]),Opal.const_set($nesting[0],"ARGF",$$($nesting,"Object").$new()),Opal.const_set($nesting[0],"ENV",$hash2([],{})),$gvars.VERBOSE=!1,$gvars.DEBUG=!1,$gvars.SAFE=0},Opal.modules["corelib/io"]=function(Opal){function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$module=Opal.module,$gvars=Opal.gvars,$send=Opal.send;Opal.add_stubs(["$attr_accessor","$size","$write","$String","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function($nesting,$Writable_print$6){var $Writable_puts$7,$nesting=[$Writable_puts$7=$klass($nesting,null,"IO")].concat($Writable_print$6);$Writable_puts$7.$$prototype.tty=$Writable_puts$7.$$prototype.closed=nil,Opal.const_set($nesting[0],"SEEK_SET",0),Opal.const_set($nesting[0],"SEEK_CUR",1),Opal.const_set($nesting[0],"SEEK_END",2),Opal.def($Writable_puts$7,"$tty?",$Writable_print$6=function(){return this.tty},$Writable_print$6.$$arity=0),Opal.def($Writable_puts$7,"$closed?",$Writable_print$6=function(){return this.closed},$Writable_print$6.$$arity=0),$Writable_puts$7.$attr_accessor("write_proc"),Opal.def($Writable_puts$7,"$write",$Writable_print$6=function(string){return this.write_proc(string),string.$size()},$Writable_print$6.$$arity=1),$Writable_puts$7.$attr_accessor("sync","tty"),Opal.def($Writable_puts$7,"$flush",$Writable_print$6=function(){return nil},$Writable_print$6.$$arity=0),$Writable_puts$7=$nesting[0],$Writable_print$6=$nesting,[$Writable_puts$7=$module($Writable_puts$7,"Writable")].concat($Writable_print$6),Opal.def($Writable_puts$7,"$<<",$Writable_print$6=function(string){return this.$write(string),this},$Writable_print$6.$$arity=1),Opal.def($Writable_puts$7,"$print",$Writable_print$6=function($a){var args;null==$gvars[","]&&($gvars[","]=nil);for(var i=0,ii=(args=Opal.slice.call(arguments,0,arguments.length)).length;i<ii;i++)args[i]=this.$String(args[i]);return this.$write(args.join($gvars[","])),nil},$Writable_print$6.$$arity=-1),Opal.def($Writable_puts$7,"$puts",$Writable_puts$7=function($a){var args;null==$gvars["/"]&&($gvars["/"]=nil);for(var i=0,ii=(args=Opal.slice.call(arguments,0,arguments.length)).length;i<ii;i++)args[i]=this.$String(args[i]).$chomp();return this.$write(args.concat([nil]).join($gvars["/"])),nil},$Writable_puts$7.$$arity=-1),function($Readable_readpartial$11,$Readable_readline$10){var $nesting=[$Readable_readpartial$11=$module($Readable_readpartial$11,"Readable")].concat($Readable_readline$10);Opal.def($Readable_readpartial$11,"$readbyte",$Readable_readline$10=function(){return this.$getbyte()},$Readable_readline$10.$$arity=0),Opal.def($Readable_readpartial$11,"$readchar",$Readable_readline$10=function(){return this.$getc()},$Readable_readline$10.$$arity=0),Opal.def($Readable_readpartial$11,"$readline",$Readable_readline$10=function(sep){return null==$gvars["/"]&&($gvars["/"]=nil),null==sep&&(sep=$gvars["/"]),this.$raise($$($nesting,"NotImplementedError"))},$Readable_readline$10.$$arity=-1),Opal.def($Readable_readpartial$11,"$readpartial",$Readable_readpartial$11=function(integer,outbuf){return null==outbuf&&(outbuf=nil),this.$raise($$($nesting,"NotImplementedError"))},$Readable_readpartial$11.$$arity=-2)}($nesting[0],$nesting)}($nesting[0],$nesting),Opal.const_set($nesting[0],"STDERR",$gvars.stderr=$$($nesting,"IO").$new()),Opal.const_set($nesting[0],"STDIN",$gvars.stdin=$$($nesting,"IO").$new()),Opal.const_set($nesting[0],"STDOUT",$gvars.stdout=$$($nesting,"IO").$new());var console=Opal.global.console,$writer=["object"==typeof process&&"object"==typeof process.stdout?function(s){process.stdout.write(s)}:function(s){console.log(s)}];return $send($$($nesting,"STDOUT"),"write_proc=",Opal.to_a($writer)),$rb_minus($writer.length,1),$writer=["object"==typeof process&&"object"==typeof process.stderr?function(s){process.stderr.write(s)}:function(s){console.warn(s)}],$send($$($nesting,"STDERR"),"write_proc=",Opal.to_a($writer)),$rb_minus($writer.length,1),$$($nesting,"STDOUT").$extend($$$($$($nesting,"IO"),"Writable")),$$($nesting,"STDERR").$extend($$$($$($nesting,"IO"),"Writable"))},Opal.modules["opal/regexp_anchors"]=function(Opal){Opal.top;var $nesting=[],$$=(Opal.nil,Opal.$$$,Opal.$$),$module=Opal.module;return Opal.add_stubs(["$new"]),function($base,$nesting){$nesting=[$module($base,"Opal")].concat($nesting);return Opal.const_set($nesting[0],"REGEXP_START","^"),Opal.const_set($nesting[0],"REGEXP_END","$"),Opal.const_set($nesting[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Opal.const_set($nesting[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Opal.const_set($nesting[0],"INLINE_IDENTIFIER_REGEXP",$$($nesting,"Regexp").$new("[^"+$$($nesting,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+$$($nesting,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),Opal.const_set($nesting[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Opal.const_set($nesting[0],"CONST_NAME_REGEXP",$$($nesting,"Regexp").$new($$($nesting,"REGEXP_START")+"(::)?[A-Z][^"+$$($nesting,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+$$($nesting,"REGEXP_END")))}($nesting[0],$nesting)},Opal.modules["opal/mini"]=function(Opal){var self=Opal.top;Opal.nil,Opal.$$$,Opal.$$;return Opal.add_stubs(["$require"]),self.$require("opal/base"),self.$require("corelib/nil"),self.$require("corelib/boolean"),self.$require("corelib/string"),self.$require("corelib/comparable"),self.$require("corelib/enumerable"),self.$require("corelib/enumerator"),self.$require("corelib/array"),self.$require("corelib/hash"),self.$require("corelib/number"),self.$require("corelib/range"),self.$require("corelib/proc"),self.$require("corelib/method"),self.$require("corelib/regexp"),self.$require("corelib/variables"),self.$require("corelib/io"),self.$require("opal/regexp_anchors")},Opal.modules["corelib/kernel/format"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$coerce_to=Opal.coerce_to,$module=Opal.module,$truthy=Opal.truthy,$gvars=Opal.gvars;return Opal.add_stubs(["$==","$length","$respond_to?","$[]","$coerce_to?","$nil?","$to_a","$raise","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$inspect","$to_s"]),function(self,$Kernel_format$1){var self=$module(self,"Kernel"),$nesting=[self].concat($Kernel_format$1);return Opal.def(self,"$format",$Kernel_format$1=function(format_string,$a){var $post_args,args,self=this,$ret_or_1=nil,ary=nil;null==$gvars.DEBUG&&($gvars.DEBUG=nil),$post_args=Opal.slice.call(arguments,1,arguments.length),$truthy($truthy($ret_or_1=(args=$post_args).$length()["$=="](1))?args["$[]"](0)["$respond_to?"]("to_ary"):$ret_or_1)&&(ary=$$($nesting,"Opal")["$coerce_to?"](args["$[]"](0),$$($nesting,"Array"),"to_ary"),$truthy(ary["$nil?"]())||(args=ary.$to_a()));var end_slice,i,arg,str,exponent,width,precision,tmp_num,hash_parameter_key,closing_brace_char,base_number,base_prefix,base_neg_zero_regex,base_neg_zero_digit,next_arg,flags,result="",begin_slice=0,len=format_string.length,seq_arg_num=1,pos_arg_num=0,FWIDTH=32,FPREC0=128;function CHECK_FOR_FLAGS(){flags&FWIDTH&&self.$raise($$($nesting,"ArgumentError"),"flag after width"),flags&FPREC0&&self.$raise($$($nesting,"ArgumentError"),"flag after precision")}function CHECK_FOR_WIDTH(){flags&FWIDTH&&self.$raise($$($nesting,"ArgumentError"),"width given twice"),flags&FPREC0&&self.$raise($$($nesting,"ArgumentError"),"width after precision")}function GET_NTH_ARG(num){return num>=args.length&&self.$raise($$($nesting,"ArgumentError"),"too few arguments"),args[num]}function GET_NEXT_ARG(){switch(pos_arg_num){case-1:self.$raise($$($nesting,"ArgumentError"),"unnumbered("+seq_arg_num+") mixed with numbered");case-2:self.$raise($$($nesting,"ArgumentError"),"unnumbered("+seq_arg_num+") mixed with named")}return GET_NTH_ARG((pos_arg_num=seq_arg_num++)-1)}function GET_POS_ARG(num){return 0<pos_arg_num&&self.$raise($$($nesting,"ArgumentError"),"numbered("+num+") after unnumbered("+pos_arg_num+")"),-2===pos_arg_num&&self.$raise($$($nesting,"ArgumentError"),"numbered("+num+") after named"),num<1&&self.$raise($$($nesting,"ArgumentError"),"invalid index - "+num+"$"),pos_arg_num=-1,GET_NTH_ARG(num-1)}function GET_ARG(){return void 0===next_arg?GET_NEXT_ARG():next_arg}function READ_NUM(label){for(var num,str="";;i++){if(i===len&&self.$raise($$($nesting,"ArgumentError"),"malformed format string - %*[0-9]"),format_string.charCodeAt(i)<48||57<format_string.charCodeAt(i))return i--,2147483647<(num=parseInt(str,10)||0)&&self.$raise($$($nesting,"ArgumentError"),label+" too big"),num;str+=format_string.charAt(i)}}function READ_NUM_AFTER_ASTER(arg){var arg=READ_NUM(arg),arg="$"===format_string.charAt(i+1)?(i++,GET_POS_ARG(arg)):GET_NEXT_ARG();return arg.$to_int()}for(i=format_string.indexOf("%");-1!==i;i=format_string.indexOf("%",i)){switch(str=void 0,precision=width=-1,next_arg=void(flags=0),end_slice=i,i++,format_string.charAt(i)){case"%":begin_slice=i;case"":case"\n":case"\0":i++;continue}format_sequence:for(;i<len;i++)switch(format_string.charAt(i)){case" ":CHECK_FOR_FLAGS(),flags|=16;continue format_sequence;case"#":CHECK_FOR_FLAGS(),flags|=1;continue format_sequence;case"+":CHECK_FOR_FLAGS(),flags|=4;continue format_sequence;case"-":CHECK_FOR_FLAGS(),flags|=2;continue format_sequence;case"0":CHECK_FOR_FLAGS(),flags|=8;continue format_sequence;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(tmp_num=READ_NUM("width"),"$"===format_string.charAt(i+1)){if(i+2===len){str="%",i++;break format_sequence}void 0!==next_arg&&self.$raise($$($nesting,"ArgumentError"),"value given twice - %"+tmp_num+"$"),next_arg=GET_POS_ARG(tmp_num),i++}else CHECK_FOR_WIDTH(),flags|=FWIDTH,width=tmp_num;continue format_sequence;case"<":case"{":for(closing_brace_char="<"===format_string.charAt(i)?">":"}",hash_parameter_key="",i++;;i++){if(i===len&&self.$raise($$($nesting,"ArgumentError"),"malformed name - unmatched parenthesis"),format_string.charAt(i)===closing_brace_char){if(0<pos_arg_num&&self.$raise($$($nesting,"ArgumentError"),"named "+hash_parameter_key+" after unnumbered("+pos_arg_num+")"),-1===pos_arg_num&&self.$raise($$($nesting,"ArgumentError"),"named "+hash_parameter_key+" after numbered"),pos_arg_num=-2,void 0!==args[0]&&args[0].$$is_hash||self.$raise($$($nesting,"ArgumentError"),"one hash required"),next_arg=args[0].$fetch(hash_parameter_key),">"==closing_brace_char)continue format_sequence;if(str=next_arg.toString(),-1!==precision&&(str=str.slice(0,precision)),2&flags)for(;str.length<width;)str+=" ";else for(;str.length<width;)str=" "+str;break format_sequence}hash_parameter_key+=format_string.charAt(i)}case"*":i++,CHECK_FOR_WIDTH(),flags|=FWIDTH,(width=READ_NUM_AFTER_ASTER("width"))<0&&(flags|=2,width=-width);continue format_sequence;case".":if(flags&FPREC0&&self.$raise($$($nesting,"ArgumentError"),"precision given twice"),flags|=64|FPREC0,precision=0,i++,"*"===format_string.charAt(i)){i++,(precision=READ_NUM_AFTER_ASTER("precision"))<0&&(flags&=-65);continue format_sequence}precision=READ_NUM("precision");continue format_sequence;case"d":case"i":case"u":if(0<=(arg=self.$Integer(GET_ARG()))){for(str=arg.toString();str.length<precision;)str="0"+str;if(2&flags)for((4&flags||16&flags)&&(str=(4&flags?"+":" ")+str);str.length<width;)str+=" ";else if(8&flags&&-1===precision){for(;str.length<width-(4&flags||16&flags?1:0);)str="0"+str;(4&flags||16&flags)&&(str=(4&flags?"+":" ")+str)}else for((4&flags||16&flags)&&(str=(4&flags?"+":" ")+str);str.length<width;)str=" "+str}else{for(str=(-arg).toString();str.length<precision;)str="0"+str;if(2&flags)for(str="-"+str;str.length<width;)str+=" ";else if(8&flags&&-1===precision){for(;str.length<width-1;)str="0"+str;str="-"+str}else for(str="-"+str;str.length<width;)str=" "+str}break format_sequence;case"b":case"B":case"o":case"x":case"X":switch(format_string.charAt(i)){case"b":case"B":base_number=2,base_prefix="0b",base_neg_zero_regex=/^1+/,base_neg_zero_digit="1";break;case"o":base_number=8,base_prefix="0",base_neg_zero_regex=/^3?7+/,base_neg_zero_digit="7";break;case"x":case"X":base_number=16,base_prefix="0x",base_neg_zero_regex=/^f+/,base_neg_zero_digit="f"}if(0<=(arg=self.$Integer(GET_ARG()))){for(str=arg.toString(base_number);str.length<precision;)str="0"+str;if(2&flags)for((4&flags||16&flags)&&(str=(4&flags?"+":" ")+str),1&flags&&0!==arg&&(str=base_prefix+str);str.length<width;)str+=" ";else if(8&flags&&-1===precision){for(;str.length<width-(4&flags||16&flags?1:0)-(1&flags&&0!==arg?base_prefix.length:0);)str="0"+str;1&flags&&0!==arg&&(str=base_prefix+str),(4&flags||16&flags)&&(str=(4&flags?"+":" ")+str)}else for(1&flags&&0!==arg&&(str=base_prefix+str),(4&flags||16&flags)&&(str=(4&flags?"+":" ")+str);str.length<width;)str=" "+str}else if(4&flags||16&flags){for(str=(-arg).toString(base_number);str.length<precision;)str="0"+str;if(2&flags)for(1&flags&&(str=base_prefix+str),str="-"+str;str.length<width;)str+=" ";else if(8&flags&&-1===precision){for(;str.length<width-1-(1&flags?2:0);)str="0"+str;1&flags&&(str=base_prefix+str),str="-"+str}else for(1&flags&&(str=base_prefix+str),str="-"+str;str.length<width;)str=" "+str}else{for(str=(arg>>>0).toString(base_number).replace(base_neg_zero_regex,base_neg_zero_digit);str.length<precision-2;)str=base_neg_zero_digit+str;if(2&flags)for(str=".."+str,1&flags&&(str=base_prefix+str);str.length<width;)str+=" ";else if(8&flags&&-1===precision){for(;str.length<width-2-(1&flags?base_prefix.length:0);)str=base_neg_zero_digit+str;str=".."+str,1&flags&&(str=base_prefix+str)}else for(str=".."+str,1&flags&&(str=base_prefix+str);str.length<width;)str=" "+str}format_string.charAt(i)===format_string.charAt(i).toUpperCase()&&(str=str.toUpperCase());break format_sequence;case"f":case"e":case"E":case"g":case"G":if(0<=(arg=self.$Float(GET_ARG()))||isNaN(arg)){if(arg===1/0)str="Inf";else switch(format_string.charAt(i)){case"f":str=arg.toFixed(-1===precision?6:precision);break;case"e":case"E":str=arg.toExponential(-1===precision?6:precision);break;case"g":case"G":str=arg.toExponential(),(exponent=parseInt(str.split("e")[1],10))<-4||(-1===precision?6:precision)<=exponent||(str=arg.toPrecision(-1===precision?1&flags?6:void 0:precision))}if(2&flags)for((4&flags||16&flags)&&(str=(4&flags?"+":" ")+str);str.length<width;)str+=" ";else if(8&flags&&arg!==1/0&&!isNaN(arg)){for(;str.length<width-(4&flags||16&flags?1:0);)str="0"+str;(4&flags||16&flags)&&(str=(4&flags?"+":" ")+str)}else for((4&flags||16&flags)&&(str=(4&flags?"+":" ")+str);str.length<width;)str=" "+str}else{if(arg===-1/0)str="Inf";else switch(format_string.charAt(i)){case"f":str=(-arg).toFixed(-1===precision?6:precision);break;case"e":case"E":str=(-arg).toExponential(-1===precision?6:precision);break;case"g":case"G":str=(-arg).toExponential(),(exponent=parseInt(str.split("e")[1],10))<-4||(-1===precision?6:precision)<=exponent||(str=(-arg).toPrecision(-1===precision?1&flags?6:void 0:precision))}if(2&flags)for(str="-"+str;str.length<width;)str+=" ";else if(8&flags&&arg!==-1/0){for(;str.length<width-1;)str="0"+str;str="-"+str}else for(str="-"+str;str.length<width;)str=" "+str}format_string.charAt(i)!==format_string.charAt(i).toUpperCase()||arg===1/0||arg===-1/0||isNaN(arg)||(str=str.toUpperCase()),str=str.replace(/([eE][-+]?)([0-9])$/,"$10$2");break format_sequence;case"a":case"A":self.$raise($$($nesting,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((arg=GET_ARG())["$respond_to?"]("to_ary")&&(arg=arg.$to_ary()[0]),1!==(str=arg["$respond_to?"]("to_str")?arg.$to_str():String.fromCharCode($coerce_to(arg,$$($nesting,"Integer"),"to_int"))).length&&self.$raise($$($nesting,"ArgumentError"),"%c requires a character"),2&flags)for(;str.length<width;)str+=" ";else for(;str.length<width;)str=" "+str;break format_sequence;case"p":if(str=GET_ARG().$inspect(),-1!==precision&&(str=str.slice(0,precision)),2&flags)for(;str.length<width;)str+=" ";else for(;str.length<width;)str=" "+str;break format_sequence;case"s":if(str=GET_ARG().$to_s(),-1!==precision&&(str=str.slice(0,precision)),2&flags)for(;str.length<width;)str+=" ";else for(;str.length<width;)str=" "+str;break format_sequence;default:self.$raise($$($nesting,"ArgumentError"),"malformed format string - %"+format_string.charAt(i))}void 0===str&&self.$raise($$($nesting,"ArgumentError"),"malformed format string - %"),result+=format_string.slice(begin_slice,end_slice)+str,begin_slice=i+1}return $gvars.DEBUG&&0<=pos_arg_num&&seq_arg_num<args.length&&self.$raise($$($nesting,"ArgumentError"),"too many arguments for format string"),result+format_string.slice(begin_slice)},$Kernel_format$1.$$arity=-2),Opal.alias(self,"sprintf","format")}($nesting[0],$nesting)},Opal.modules["corelib/string/encoding"]=function(Opal){var $$14,$$17,$$20,$$22,$$25,$$27,$writer,lhs,rhs,self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$hash2=Opal.hash2,$truthy=Opal.truthy,$send=Opal.send;return Opal.add_stubs(["$require","$+","$[]","$clone","$initialize","$new","$instance_eval","$to_proc","$each","$const_set","$tr","$==","$default_external","$attr_accessor","$singleton_class","$attr_reader","$raise","$register","$length","$bytes","$force_encoding","$dup","$bytesize","$enum_for","$each_byte","$to_a","$each_char","$each_codepoint","$coerce_to!","$find","$<","$default_external=","$-"]),self.$require("corelib/string"),function($Encoding_bytesize$13,$Encoding_each_byte$12){var $Encoding_register$1,$Encoding_each_char$11,$nesting=[$Encoding_bytesize$13=$klass($Encoding_bytesize$13,null,"Encoding")].concat($Encoding_each_byte$12);$Encoding_bytesize$13.$$prototype.ascii=$Encoding_bytesize$13.$$prototype.dummy=$Encoding_bytesize$13.$$prototype.name=nil,Opal.defs($Encoding_bytesize$13,"$register",$Encoding_register$1=function(name,options){var $$2,ascii,dummy,lhs=$Encoding_register$1.$$p,block=lhs||nil,names=nil,rhs=nil,$ret_or_2=nil,$ret_or_3=nil,encoding=nil,register=nil;return lhs&&($Encoding_register$1.$$p=null),lhs&&($Encoding_register$1.$$p=null),null==options&&(options=$hash2([],{})),lhs=[name],rhs=$truthy(rhs=options["$[]"]("aliases"))?rhs:[],names="number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs),ascii=!!$truthy($ret_or_2=options["$[]"]("ascii"))&&$ret_or_2,dummy=!!$truthy($ret_or_3=options["$[]"]("dummy"))&&$ret_or_3,$truthy(options["$[]"]("inherits"))?(encoding=options["$[]"]("inherits").$clone()).$initialize(name,names,ascii,dummy):encoding=this.$new(name,names,ascii,dummy),block!==nil&&$send(encoding,"instance_eval",[],block.$to_proc()),register=Opal.encodings,$send(names,"each",[],(($$2=function(encoding_name){var self=null==$$2.$$s?this:$$2.$$s;return null==encoding_name&&(encoding_name=nil),self.$const_set(encoding_name.$tr("-","_"),encoding),register[encoding_name]=encoding}).$$s=this,$$2.$$arity=1,$$2))},$Encoding_register$1.$$arity=-2),Opal.defs($Encoding_bytesize$13,"$find",$Encoding_each_byte$12=function(name){return name["$=="]("default_external")?this.$default_external():Opal.find_encoding(name)},$Encoding_each_byte$12.$$arity=1),$Encoding_bytesize$13.$singleton_class().$attr_accessor("default_external"),$Encoding_bytesize$13.$attr_reader("name","names"),Opal.def($Encoding_bytesize$13,"$initialize",$Encoding_each_byte$12=function(name,names,ascii,dummy){return this.name=name,this.names=names,this.ascii=ascii,this.dummy=dummy},$Encoding_each_byte$12.$$arity=4),Opal.def($Encoding_bytesize$13,"$ascii_compatible?",$Encoding_each_byte$12=function(){return this.ascii},$Encoding_each_byte$12.$$arity=0),Opal.def($Encoding_bytesize$13,"$dummy?",$Encoding_each_byte$12=function(){return this.dummy},$Encoding_each_byte$12.$$arity=0),Opal.def($Encoding_bytesize$13,"$binary?",$Encoding_each_byte$12=function(){return!1},$Encoding_each_byte$12.$$arity=0),Opal.def($Encoding_bytesize$13,"$to_s",$Encoding_each_byte$12=function(){return this.name},$Encoding_each_byte$12.$$arity=0),Opal.def($Encoding_bytesize$13,"$inspect",$Encoding_each_byte$12=function(){var self=this;return"#<Encoding:"+self.name+($truthy(self.dummy)?" (dummy)":nil)+">"},$Encoding_each_byte$12.$$arity=0),Opal.def($Encoding_bytesize$13,"$charsize",$Encoding_each_byte$12=function(string){for(var len=0,i=0,length=string.length;i<length;i++){var charcode=string.charCodeAt(i);55296<=charcode&&charcode<=56319||len++}return len},$Encoding_each_byte$12.$$arity=1),Opal.def($Encoding_bytesize$13,"$each_char",$Encoding_each_char$11=function(string){var $iter=$Encoding_each_char$11.$$p,block=$iter||nil;$iter&&($Encoding_each_char$11.$$p=null),$iter&&($Encoding_each_char$11.$$p=null);for(var low_surrogate="",i=0,length=string.length;i<length;i++){var charcode=string.charCodeAt(i),chr=string.charAt(i);56320<=charcode&&charcode<=57343?low_surrogate=chr:(55296<=charcode&&charcode<=56319&&(chr=low_surrogate+chr),"UTF-8"!=string.encoding.name&&((chr=new String(chr)).encoding=string.encoding),Opal.yield1(block,chr))}},$Encoding_each_char$11.$$arity=1),Opal.def($Encoding_bytesize$13,"$each_byte",$Encoding_each_byte$12=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"))},$Encoding_each_byte$12.$$arity=-1),Opal.def($Encoding_bytesize$13,"$bytesize",$Encoding_bytesize$13=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"))},$Encoding_bytesize$13.$$arity=-1),function($base,$super,$parent_nesting){[$klass($base,$super,"EncodingError")].concat($parent_nesting)}($nesting[0],$$($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){[$klass($base,$super,"CompatibilityError")].concat($parent_nesting)}($nesting[0],$$($nesting,"EncodingError"),$nesting)}($nesting[0],$nesting),$send($$($nesting,"Encoding"),"register",["UTF-8",$hash2(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(($$14=function(){var $each_byte$15,$bytesize$16=null==$$14.$$s?this:$$14.$$s;return Opal.def($bytesize$16,"$each_byte",$each_byte$15=function(string){var $iter=$each_byte$15.$$p,block=$iter||nil;$iter&&($each_byte$15.$$p=null),$iter&&($each_byte$15.$$p=null);for(var codePoint,units=1/0,length=string.length,leadSurrogate=null,i=0;i<length;++i){if(55295<(codePoint=string.charCodeAt(i))&&codePoint<57344){if(!leadSurrogate){if(56319<codePoint){-1<(units-=3)&&(Opal.yield1(block,239),Opal.yield1(block,191),Opal.yield1(block,189));continue}if(i+1===length){-1<(units-=3)&&(Opal.yield1(block,239),Opal.yield1(block,191),Opal.yield1(block,189));continue}leadSurrogate=codePoint;continue}if(codePoint<56320){-1<(units-=3)&&(Opal.yield1(block,239),Opal.yield1(block,191),Opal.yield1(block,189)),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&-1<(units-=3)&&(Opal.yield1(block,239),Opal.yield1(block,191),Opal.yield1(block,189));if(leadSurrogate=null,codePoint<128){if(--units<0)break;Opal.yield1(block,codePoint)}else if(codePoint<2048){if((units-=2)<0)break;Opal.yield1(block,codePoint>>6|192),Opal.yield1(block,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;Opal.yield1(block,codePoint>>12|224),Opal.yield1(block,codePoint>>6&63|128),Opal.yield1(block,63&codePoint|128)}else if(codePoint<1114112){if((units-=4)<0)break;Opal.yield1(block,codePoint>>18|240),Opal.yield1(block,codePoint>>12&63|128),Opal.yield1(block,codePoint>>6&63|128),Opal.yield1(block,63&codePoint|128)}}},$each_byte$15.$$arity=1),Opal.def($bytesize$16,"$bytesize",$bytesize$16=function(string){return string.$bytes().$length()},$bytesize$16.$$arity=1),nil&&"bytesize"}).$$s=self,$$14.$$arity=0,$$14)),$send($$($nesting,"Encoding"),"register",["UTF-16LE"],(($$17=function(){var $each_byte$18,$bytesize$19=null==$$17.$$s?this:$$17.$$s;return Opal.def($bytesize$19,"$each_byte",$each_byte$18=function(string){var $iter=$each_byte$18.$$p,block=$iter||nil;$iter&&($each_byte$18.$$p=null),$iter&&($each_byte$18.$$p=null);for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,255&code),Opal.yield1(block,code>>8)}},$each_byte$18.$$arity=1),Opal.def($bytesize$19,"$bytesize",$bytesize$19=function(string){return 2*string.length},$bytesize$19.$$arity=1),nil&&"bytesize"}).$$s=self,$$17.$$arity=0,$$17)),$send($$($nesting,"Encoding"),"register",["UTF-16BE",$hash2(["inherits"],{inherits:$$$($$($nesting,"Encoding"),"UTF_16LE")})],(($$20=function(){var $each_byte$21,self=null==$$20.$$s?this:$$20.$$s;return Opal.def(self,"$each_byte",$each_byte$21=function(string){var $iter=$each_byte$21.$$p,block=$iter||nil;$iter&&($each_byte$21.$$p=null),$iter&&($each_byte$21.$$p=null);for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,code>>8),Opal.yield1(block,255&code)}},$each_byte$21.$$arity=1),nil&&"each_byte"}).$$s=self,$$20.$$arity=0,$$20)),$send($$($nesting,"Encoding"),"register",["UTF-32LE"],(($$22=function(){var $each_byte$23,$bytesize$24=null==$$22.$$s?this:$$22.$$s;return Opal.def($bytesize$24,"$each_byte",$each_byte$23=function(string){var $iter=$each_byte$23.$$p,block=$iter||nil;$iter&&($each_byte$23.$$p=null),$iter&&($each_byte$23.$$p=null);for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,255&code),Opal.yield1(block,code>>8),Opal.yield1(block,0),Opal.yield1(block,0)}},$each_byte$23.$$arity=1),Opal.def($bytesize$24,"$bytesize",$bytesize$24=function(string){return 4*string.length},$bytesize$24.$$arity=1),nil&&"bytesize"}).$$s=self,$$22.$$arity=0,$$22)),$send($$($nesting,"Encoding"),"register",["UTF-32BE",$hash2(["inherits"],{inherits:$$$($$($nesting,"Encoding"),"UTF_32LE")})],(($$25=function(){var $each_byte$26,self=null==$$25.$$s?this:$$25.$$s;return Opal.def(self,"$each_byte",$each_byte$26=function(string){var $iter=$each_byte$26.$$p,block=$iter||nil;$iter&&($each_byte$26.$$p=null),$iter&&($each_byte$26.$$p=null);for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,0),Opal.yield1(block,0),Opal.yield1(block,code>>8),Opal.yield1(block,255&code)}},$each_byte$26.$$arity=1),nil&&"each_byte"}).$$s=self,$$25.$$arity=0,$$25)),$send($$($nesting,"Encoding"),"register",["ASCII-8BIT",$hash2(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],(($$27=function(){var $each_char$28,$each_byte$30,$bytesize$31,$binary$ques$32=null==$$27.$$s?this:$$27.$$s;return Opal.def($binary$ques$32,"$each_char",$each_char$28=function(string){var $iter=$each_char$28.$$p,block=$iter||nil;$iter&&($each_char$28.$$p=null),$iter&&($each_char$28.$$p=null);for(var i=0,length=string.length;i<length;i++){var chr=new String(string.charAt(i));chr.encoding=string.encoding,Opal.yield1(block,chr)}},$each_char$28.$$arity=1),Opal.def($binary$ques$32,"$charsize",$bytesize$31=function(string){return string.length},$bytesize$31.$$arity=1),Opal.def($binary$ques$32,"$each_byte",$each_byte$30=function(string){var $iter=$each_byte$30.$$p,block=$iter||nil;$iter&&($each_byte$30.$$p=null),$iter&&($each_byte$30.$$p=null);for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,255&code)}},$each_byte$30.$$arity=1),Opal.def($binary$ques$32,"$bytesize",$bytesize$31=function(string){return string.length},$bytesize$31.$$arity=1),Opal.def($binary$ques$32,"$binary?",$binary$ques$32=function(){return!0},$binary$ques$32.$$arity=0),nil&&"binary?"}).$$s=self,$$27.$$arity=0,$$27)),$$($nesting,"Encoding").$register("ISO-8859-1",$hash2(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:$$$($$($nesting,"Encoding"),"ASCII_8BIT")})),$$($nesting,"Encoding").$register("US-ASCII",$hash2(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:$$$($$($nesting,"Encoding"),"ASCII_8BIT")})),function($String_valid_encoding$ques$48,$String_length$47){var $String_each_byte$35,$String_each_char$38,$String_chars$40,$String_each_codepoint$41,$String_codepoints$42,$nesting=[$String_valid_encoding$ques$48=$klass($String_valid_encoding$ques$48,null,"String")].concat($String_length$47);$String_valid_encoding$ques$48.$$prototype.internal_encoding=$String_valid_encoding$ques$48.$$prototype.bytes=$String_valid_encoding$ques$48.$$prototype.encoding=nil,$String_valid_encoding$ques$48.$attr_reader("encoding"),$String_valid_encoding$ques$48.$attr_reader("internal_encoding"),Opal.defineProperty(String.prototype,"bytes",nil),Opal.defineProperty(String.prototype,"encoding",$$$($$($nesting,"Encoding"),"UTF_8")),Opal.defineProperty(String.prototype,"internal_encoding",$$$($$($nesting,"Encoding"),"UTF_8")),Opal.def($String_valid_encoding$ques$48,"$b",$String_length$47=function(){return this.$dup().$force_encoding("binary")},$String_length$47.$$arity=0),Opal.def($String_valid_encoding$ques$48,"$bytesize",$String_length$47=function(){return this.internal_encoding.$bytesize(this)},$String_length$47.$$arity=0),Opal.def($String_valid_encoding$ques$48,"$each_byte",$String_each_byte$35=function(){var $$36,$iter=$String_each_byte$35.$$p,block=$iter||nil;return $iter&&($String_each_byte$35.$$p=null),$iter&&($String_each_byte$35.$$p=null),block===nil?$send(this,"enum_for",["each_byte"],(($$36=function(){return(null==$$36.$$s?this:$$36.$$s).$bytesize()}).$$s=this,$$36.$$arity=0,$$36)):($send(this.internal_encoding,"each_byte",[this],block.$to_proc()),this)},$String_each_byte$35.$$arity=0),Opal.def($String_valid_encoding$ques$48,"$bytes",$String_length$47=function(){var self=this,$ret_or_4=nil;return"string"==typeof self?new String(self).$each_byte().$to_a():(self.bytes=$truthy($ret_or_4=self.bytes)?$ret_or_4:self.$each_byte().$to_a(),self.bytes.$dup())},$String_length$47.$$arity=0),Opal.def($String_valid_encoding$ques$48,"$each_char",$String_each_char$38=function(){var $$39,$iter=$String_each_char$38.$$p,block=$iter||nil;return $iter&&($String_each_char$38.$$p=null),$iter&&($String_each_char$38.$$p=null),block===nil?$send(this,"enum_for",["each_char"],(($$39=function(){return(null==$$39.$$s?this:$$39.$$s).$length()}).$$s=this,$$39.$$arity=0,$$39)):($send(this.encoding,"each_char",[this],block.$to_proc()),this)},$String_each_char$38.$$arity=0),Opal.def($String_valid_encoding$ques$48,"$chars",$String_chars$40=function(){var $iter=$String_chars$40.$$p,block=$iter||nil;return $iter&&($String_chars$40.$$p=null),$iter&&($String_chars$40.$$p=null),$truthy(block)?$send(this,"each_char",[],block.$to_proc()):this.$each_char().$to_a()},$String_chars$40.$$arity=0),Opal.def($String_valid_encoding$ques$48,"$each_codepoint",$String_each_codepoint$41=function(){var $iter=$String_each_codepoint$41.$$p,block=$iter||nil;if($iter&&($String_each_codepoint$41.$$p=null),$iter&&($String_each_codepoint$41.$$p=null),block===nil)return this.$enum_for("each_codepoint");for(var i=0,length=this.length;i<length;i++)Opal.yield1(block,this.codePointAt(i));return this},$String_each_codepoint$41.$$arity=0),Opal.def($String_valid_encoding$ques$48,"$codepoints",$String_codepoints$42=function(){var $iter=$String_codepoints$42.$$p,block=$iter||nil;return $iter&&($String_codepoints$42.$$p=null),$iter&&($String_codepoints$42.$$p=null),block!==nil?$send(this,"each_codepoint",[],block.$to_proc()):this.$each_codepoint().$to_a()},$String_codepoints$42.$$arity=0),Opal.def($String_valid_encoding$ques$48,"$encode",$String_length$47=function(encoding){return Opal.enc(this,encoding)},$String_length$47.$$arity=1),Opal.def($String_valid_encoding$ques$48,"$force_encoding",$String_length$47=function(encoding){var str=this;return encoding===str.encoding?str:(encoding=$$($nesting,"Opal")["$coerce_to!"](encoding,$$($nesting,"String"),"to_s"),(encoding=$$($nesting,"Encoding").$find(encoding))===str.encoding?str:str=Opal.set_encoding(str,encoding))},$String_length$47.$$arity=1),Opal.def($String_valid_encoding$ques$48,"$getbyte",$String_length$47=function(idx){var lhs,rhs,string_bytes=nil,string_bytes=this.$bytes();return idx=$$($nesting,"Opal")["$coerce_to!"](idx,$$($nesting,"Integer"),"to_int"),$truthy((lhs=string_bytes.$length(),rhs=idx,"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)))?nil:string_bytes["$[]"](idx)},$String_length$47.$$arity=1),Opal.def($String_valid_encoding$ques$48,"$initialize_copy",$String_length$47=function(){return"\n      self.encoding = other.encoding;\n      self.internal_encoding = other.internal_encoding;\n    "},$String_length$47.$$arity=1),Opal.def($String_valid_encoding$ques$48,"$length",$String_length$47=function(){return this.length},$String_length$47.$$arity=0),Opal.alias($String_valid_encoding$ques$48,"size","length"),Opal.def($String_valid_encoding$ques$48,"$valid_encoding?",$String_valid_encoding$ques$48=function(){return!0},$String_valid_encoding$ques$48.$$arity=0)}($nesting[0],$nesting),$writer=[$$$($$($nesting,"Encoding"),"UTF_8")],$send($$($nesting,"Encoding"),"default_external=",Opal.to_a($writer)),$writer[rhs=1,"number"==typeof(lhs=$writer.length)&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)]},Opal.modules["corelib/math"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$type_error=Opal.type_error,$module=Opal.module,$truthy=Opal.truthy;return Opal.add_stubs(["$new","$raise","$Float","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function($Math_tanh$29,$Math_tan$28){var $Math_tanh$29=$module($Math_tanh$29,"Math"),$nesting=[$Math_tanh$29].concat($Math_tan$28);return Opal.const_set($nesting[0],"E",Math.E),Opal.const_set($nesting[0],"PI",Math.PI),Opal.const_set($nesting[0],"DomainError",$$($nesting,"Class").$new($$($nesting,"StandardError"))),Opal.defs($Math_tanh$29,"$checked",$Math_tan$28=function(method,$a){var result=Opal.slice.call(arguments,1,arguments.length);if(isNaN(result[0])||2==result.length&&isNaN(result[1]))return NaN;result=Math[method].apply(null,result);return isNaN(result)&&this.$raise($$($nesting,"DomainError"),'Numerical argument is out of domain - "'+method+'"'),result},$Math_tan$28.$$arity=-2),Opal.defs($Math_tanh$29,"$float!",$Math_tan$28=function(value){try{return this.$Float(value)}catch($err){if(!Opal.rescue($err,[$$($nesting,"ArgumentError")]))throw $err;try{return this.$raise($type_error(value,$$($nesting,"Float")))}finally{Opal.pop_exception()}}},$Math_tan$28.$$arity=1),Opal.defs($Math_tanh$29,"$integer!",$Math_tan$28=function(value){try{return this.$Integer(value)}catch($err){if(!Opal.rescue($err,[$$($nesting,"ArgumentError")]))throw $err;try{return this.$raise($type_error(value,$$($nesting,"Integer")))}finally{Opal.pop_exception()}}},$Math_tan$28.$$arity=1),$Math_tanh$29.$module_function(),Opal.def($Math_tanh$29,"$acos",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("acos",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),$truthy(void 0!==Math.acosh)||(Math.acosh=function(x){return Math.log(x+Math.sqrt(x*x-1))}),Opal.def($Math_tanh$29,"$acosh",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("acosh",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),Opal.def($Math_tanh$29,"$asin",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("asin",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),$truthy(void 0!==Math.asinh)||(Math.asinh=function(x){return Math.log(x+Math.sqrt(x*x+1))}),Opal.def($Math_tanh$29,"$asinh",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("asinh",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),Opal.def($Math_tanh$29,"$atan",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("atan",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),Opal.def($Math_tanh$29,"$atan2",$Math_tan$28=function(y,x){return $$($nesting,"Math").$checked("atan2",$$($nesting,"Math")["$float!"](y),$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=2),$truthy(void 0!==Math.atanh)||(Math.atanh=function(x){return.5*Math.log((1+x)/(1-x))}),Opal.def($Math_tanh$29,"$atanh",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("atanh",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),$truthy(void 0!==Math.cbrt)||(Math.cbrt=function(x){if(0==x)return 0;if(x<0)return-Math.cbrt(-x);for(var r=x,ex=0;r<.125;)r*=8,ex--;for(;1<r;)r*=.125,ex++;for(r=(-.46946116*r+1.072302)*r+.3812513;ex<0;)r*=.5,ex++;for(;0<ex;)r*=2,ex--;return r=2/3*(r=2/3*(r=2/3*(r=2/3*r+1/3*x/(r*r))+1/3*x/(r*r))+1/3*x/(r*r))+1/3*x/(r*r)}),Opal.def($Math_tanh$29,"$cbrt",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("cbrt",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),Opal.def($Math_tanh$29,"$cos",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("cos",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),$truthy(void 0!==Math.cosh)||(Math.cosh=function(x){return(Math.exp(x)+Math.exp(-x))/2}),Opal.def($Math_tanh$29,"$cosh",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("cosh",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),$truthy(void 0!==Math.erf)||Opal.defineProperty(Math,"erf",function(x){var sign=x<0?-1:1,t=1/(1+.3275911*(x=Math.abs(x)));return sign*(1-((((1.061405429*t-1.453152027)*t+1.421413741)*t-.284496736)*t+.254829592)*t*Math.exp(-x*x))}),Opal.def($Math_tanh$29,"$erf",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("erf",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),$truthy(void 0!==Math.erfc)||Opal.defineProperty(Math,"erfc",function(x){var a=Math.abs(x),t=1/(.5*a+1),a=-a*a-1.26551223+t*(t*(t*(t*(t*(t*(t*(t*(.17087277*t-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),a=t*Math.exp(a);return x<0?2-a:a}),Opal.def($Math_tanh$29,"$erfc",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("erfc",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),Opal.def($Math_tanh$29,"$exp",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("exp",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),Opal.def($Math_tanh$29,"$frexp",$Math_tan$28=function(x){if(x=$$($nesting,"Math")["$float!"](x),isNaN(x))return[NaN,0];var ex=Math.floor(Math.log(Math.abs(x))/Math.log(2))+1;return[x/Math.pow(2,ex),ex]},$Math_tan$28.$$arity=1),Opal.def($Math_tanh$29,"$gamma",$Math_tan$28=function(n){var i,x,value,result,twoN,t;n=$$($nesting,"Math")["$float!"](n);var threeN,fourN,P=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(n))return NaN;if(0===n&&1/n<0)return-1/0;if(-1!==n&&n!==-1/0||this.$raise($$($nesting,"DomainError"),'Numerical argument is out of domain - "gamma"'),$$($nesting,"Integer")["$==="](n)){if(n<=0)return isFinite(n)?1/0:NaN;if(171<n)return 1/0;for(value=n-2,result=n-1;1<value;)result*=value,value--;return 0==result&&(result=1),result}if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*$$($nesting,"Math").$gamma((fourN=n,"number"==typeof(threeN=1)&&"number"==typeof fourN?threeN-fourN:threeN["$-"](fourN))));if(171.35<=n)return 1/0;if(85<n)return t=(fourN=(threeN=(twoN=n*n)*n)*n)*n,Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*twoN)-139/(51840*threeN)-571/(2488320*fourN)+163879/(209018880*t)+5246819/(75246796800*t*n));for(--n,x=P[0],i=1;i<P.length;++i)x+=P[i]/(n+i);return t=n+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(t,n+.5)*Math.exp(-t)*x},$Math_tan$28.$$arity=1),$truthy(void 0!==Math.hypot)||(Math.hypot=function(x,y){return Math.sqrt(x*x+y*y)}),Opal.def($Math_tanh$29,"$hypot",$Math_tan$28=function(x,y){return $$($nesting,"Math").$checked("hypot",$$($nesting,"Math")["$float!"](x),$$($nesting,"Math")["$float!"](y))},$Math_tan$28.$$arity=2),Opal.def($Math_tanh$29,"$ldexp",$Math_tan$28=function(mantissa,exponent){return mantissa=$$($nesting,"Math")["$float!"](mantissa),exponent=$$($nesting,"Math")["$integer!"](exponent),isNaN(exponent)&&this.$raise($$($nesting,"RangeError"),"float NaN out of range of integer"),mantissa*Math.pow(2,exponent)},$Math_tan$28.$$arity=2),Opal.def($Math_tanh$29,"$lgamma",$Math_tan$28=function(n){return-1==n?[1/0,1]:[Math.log(Math.abs($$($nesting,"Math").$gamma(n))),$$($nesting,"Math").$gamma(n)<0?-1:1]},$Math_tan$28.$$arity=1),Opal.def($Math_tanh$29,"$log",$Math_tan$28=function(lhs,rhs){return $truthy($$($nesting,"String")["$==="](lhs))&&this.$raise($type_error(lhs,$$($nesting,"Float"))),$truthy(null==rhs)?$$($nesting,"Math").$checked("log",$$($nesting,"Math")["$float!"](lhs)):($truthy($$($nesting,"String")["$==="](rhs))&&this.$raise($type_error(rhs,$$($nesting,"Float"))),lhs=$$($nesting,"Math").$checked("log",$$($nesting,"Math")["$float!"](lhs)),rhs=$$($nesting,"Math").$checked("log",$$($nesting,"Math")["$float!"](rhs)),"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs))},$Math_tan$28.$$arity=-2),$truthy(void 0!==Math.log10)||(Math.log10=function(x){return Math.log(x)/Math.LN10}),Opal.def($Math_tanh$29,"$log10",$Math_tan$28=function(x){return $truthy($$($nesting,"String")["$==="](x))&&this.$raise($type_error(x,$$($nesting,"Float"))),$$($nesting,"Math").$checked("log10",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),$truthy(void 0!==Math.log2)||(Math.log2=function(x){return Math.log(x)/Math.LN2}),Opal.def($Math_tanh$29,"$log2",$Math_tan$28=function(x){return $truthy($$($nesting,"String")["$==="](x))&&this.$raise($type_error(x,$$($nesting,"Float"))),$$($nesting,"Math").$checked("log2",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),Opal.def($Math_tanh$29,"$sin",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("sin",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),$truthy(void 0!==Math.sinh)||(Math.sinh=function(x){return(Math.exp(x)-Math.exp(-x))/2}),Opal.def($Math_tanh$29,"$sinh",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("sinh",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),Opal.def($Math_tanh$29,"$sqrt",$Math_tan$28=function(x){return $$($nesting,"Math").$checked("sqrt",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),Opal.def($Math_tanh$29,"$tan",$Math_tan$28=function(x){return x=$$($nesting,"Math")["$float!"](x),$truthy(x["$infinite?"]())?$$$($$($nesting,"Float"),"NAN"):$$($nesting,"Math").$checked("tan",$$($nesting,"Math")["$float!"](x))},$Math_tan$28.$$arity=1),$truthy(void 0!==Math.tanh)||(Math.tanh=function(x){return x==1/0?1:x==-1/0?-1:(Math.exp(x)-Math.exp(-x))/(Math.exp(x)+Math.exp(-x))}),Opal.def($Math_tanh$29,"$tanh",$Math_tanh$29=function(x){return $$($nesting,"Math").$checked("tanh",$$($nesting,"Math")["$float!"](x))},$Math_tanh$29.$$arity=1),nil&&"tanh"}($nesting[0],$nesting)},Opal.modules["corelib/complex"]=function(Opal){function $rb_times(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$truthy=Opal.truthy,$module=Opal.module;return Opal.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$finite?","$infinite?","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?","$Rational"]),self.$require("corelib/numeric"),function($base,self,$Complex_to_s$31){var $nesting=[self=$klass($base,self,"Complex")].concat($Complex_to_s$31);self.$$prototype.real=self.$$prototype.imag=nil,Opal.defs(self,"$rect",$Complex_to_s$31=function(real,imag){var $ret_or_1=nil,$ret_or_2=nil,$ret_or_3=nil;return null==imag&&(imag=0),$truthy($truthy($ret_or_1=$truthy($ret_or_2=$truthy($ret_or_3=$$($nesting,"Numeric")["$==="](real))?real["$real?"]():$ret_or_3)?$$($nesting,"Numeric")["$==="](imag):$ret_or_2)?imag["$real?"]():$ret_or_1)||this.$raise($$($nesting,"TypeError"),"not a real"),this.$new(real,imag)},$Complex_to_s$31.$$arity=-2),function(self,$parent_nesting){[self].concat($parent_nesting),Opal.alias(self,"rectangular","rect")}(Opal.get_singleton_class(self),$nesting),Opal.defs(self,"$polar",$Complex_to_s$31=function(r,theta){var $ret_or_4=nil,$ret_or_5=nil,$ret_or_6=nil;return null==theta&&(theta=0),$truthy($truthy($ret_or_4=$truthy($ret_or_5=$truthy($ret_or_6=$$($nesting,"Numeric")["$==="](r))?r["$real?"]():$ret_or_6)?$$($nesting,"Numeric")["$==="](theta):$ret_or_5)?theta["$real?"]():$ret_or_4)||this.$raise($$($nesting,"TypeError"),"not a real"),this.$new($rb_times(r,$$($nesting,"Math").$cos(theta)),$rb_times(r,$$($nesting,"Math").$sin(theta)))},$Complex_to_s$31.$$arity=-2),self.$attr_reader("real","imag"),Opal.def(self,"$initialize",$Complex_to_s$31=function(real,imag){return null==imag&&(imag=0),this.real=real,this.imag=imag},$Complex_to_s$31.$$arity=-2),Opal.def(self,"$coerce",$Complex_to_s$31=function(other){var $ret_or_7=nil;return $truthy($$($nesting,"Complex")["$==="](other))?[other,this]:$truthy($truthy($ret_or_7=$$($nesting,"Numeric")["$==="](other))?other["$real?"]():$ret_or_7)?[$$($nesting,"Complex").$new(other,0),this]:this.$raise($$($nesting,"TypeError"),other.$class()+" can't be coerced into Complex")},$Complex_to_s$31.$$arity=1),Opal.def(self,"$==",$Complex_to_s$31=function(other){var $ret_or_8,$ret_or_10,$ret_or_9=nil;return $truthy($$($nesting,"Complex")["$==="](other))?$truthy($ret_or_8=this.real["$=="](other.$real()))?this.imag["$=="](other.$imag()):$ret_or_8:$truthy($truthy($ret_or_9=$$($nesting,"Numeric")["$==="](other))?other["$real?"]():$ret_or_9)?$truthy($ret_or_10=this.real["$=="](other))?this.imag["$=="](0):$ret_or_10:other["$=="](this)},$Complex_to_s$31.$$arity=1),Opal.def(self,"$-@",$Complex_to_s$31=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},$Complex_to_s$31.$$arity=0),Opal.def(self,"$+",$Complex_to_s$31=function(other){var $ret_or_11=nil;return $truthy($$($nesting,"Complex")["$==="](other))?this.$Complex($rb_plus(this.real,other.$real()),$rb_plus(this.imag,other.$imag())):$truthy($truthy($ret_or_11=$$($nesting,"Numeric")["$==="](other))?other["$real?"]():$ret_or_11)?this.$Complex($rb_plus(this.real,other),this.imag):this.$__coerced__("+",other)},$Complex_to_s$31.$$arity=1),Opal.def(self,"$-",$Complex_to_s$31=function(other){var $ret_or_12=nil;return $truthy($$($nesting,"Complex")["$==="](other))?this.$Complex($rb_minus(this.real,other.$real()),$rb_minus(this.imag,other.$imag())):$truthy($truthy($ret_or_12=$$($nesting,"Numeric")["$==="](other))?other["$real?"]():$ret_or_12)?this.$Complex($rb_minus(this.real,other),this.imag):this.$__coerced__("-",other)},$Complex_to_s$31.$$arity=1),Opal.def(self,"$*",$Complex_to_s$31=function(other){var $ret_or_13=nil;return $truthy($$($nesting,"Complex")["$==="](other))?this.$Complex($rb_minus($rb_times(this.real,other.$real()),$rb_times(this.imag,other.$imag())),$rb_plus($rb_times(this.real,other.$imag()),$rb_times(this.imag,other.$real()))):$truthy($truthy($ret_or_13=$$($nesting,"Numeric")["$==="](other))?other["$real?"]():$ret_or_13)?this.$Complex($rb_times(this.real,other),$rb_times(this.imag,other)):this.$__coerced__("*",other)},$Complex_to_s$31.$$arity=1),Opal.def(self,"$/",$Complex_to_s$31=function(other){var self=this,$ret_or_14=nil,$ret_or_15=nil,$ret_or_16=nil,$ret_or_17=nil,$ret_or_18=nil,$ret_or_19=nil,$ret_or_20=nil,$ret_or_21=nil;return $truthy($$($nesting,"Complex")["$==="](other))?$truthy($truthy($ret_or_14=$truthy($ret_or_15=$truthy($ret_or_16=$truthy($ret_or_17=$$($nesting,"Number")["$==="](self.real))?self.real["$nan?"]():$ret_or_17)?$ret_or_16:$truthy($ret_or_18=$$($nesting,"Number")["$==="](self.imag))?self.imag["$nan?"]():$ret_or_18)?$ret_or_15:$truthy($ret_or_19=$$($nesting,"Number")["$==="](other.$real()))?other.$real()["$nan?"]():$ret_or_19)?$ret_or_14:$truthy($ret_or_20=$$($nesting,"Number")["$==="](other.$imag()))?other.$imag()["$nan?"]():$ret_or_20)?$$($nesting,"Complex").$new($$$($$($nesting,"Float"),"NAN"),$$$($$($nesting,"Float"),"NAN")):$rb_divide($rb_times(self,other.$conj()),other.$abs2()):$truthy($truthy($ret_or_21=$$($nesting,"Numeric")["$==="](other))?other["$real?"]():$ret_or_21)?self.$Complex(self.real.$quo(other),self.imag.$quo(other)):self.$__coerced__("/",other)},$Complex_to_s$31.$$arity=1),Opal.def(self,"$**",$Complex_to_s$31=function(other){var $a,$b,$c,$d,ore,oim,r=nil,theta=nil,rhs=nil,lhs=nil,x=nil,z=nil,n=nil,div=nil,mod=nil,$ret_or_22=nil;if(other["$=="](0))return $$($nesting,"Complex").$new(1,0);if($truthy($$($nesting,"Complex")["$==="](other)))return $b=this.$polar(),r=null==($a=Opal.to_ary($b))[0]?nil:$a[0],theta=null==$a[1]?nil:$a[1],ore=other.$real(),oim=other.$imag(),rhs=$$($nesting,"Math").$exp($rb_minus($rb_times(ore,$$($nesting,"Math").$log(r)),$rb_times(oim,theta))),lhs=$rb_plus($rb_times(theta,ore),$rb_times(oim,$$($nesting,"Math").$log(r))),$$($nesting,"Complex").$polar(rhs,lhs);if($truthy($$($nesting,"Integer")["$==="](other))){if($truthy((rhs=0,"number"==typeof(lhs=other)&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)))){for(z=x=this,n=$rb_minus(other,1);$truthy(n["$!="](0));){for($c=n.$divmod(2),div=null==($b=Opal.to_ary($c))[0]?nil:$b[0],mod=null==$b[1]?nil:$b[1];mod["$=="](0);)x=this.$Complex($rb_minus($rb_times(x.$real(),x.$real()),$rb_times(x.$imag(),x.$imag())),$rb_times($rb_times(2,x.$real()),x.$imag())),$d=(n=div).$divmod(2),div=null==($c=Opal.to_ary($d))[0]?nil:$c[0],mod=null==$c[1]?nil:$c[1];z=$rb_times(z,x),n=$rb_minus(n,1)}return z}return $rb_divide($$($nesting,"Rational").$new(1,1),this)["$**"](other["$-@"]())}return $truthy($truthy($ret_or_22=$$($nesting,"Float")["$==="](other))?$ret_or_22:$$($nesting,"Rational")["$==="](other))?($b=this.$polar(),r=null==($a=Opal.to_ary($b))[0]?nil:$a[0],theta=null==$a[1]?nil:$a[1],$$($nesting,"Complex").$polar(r["$**"](other),$rb_times(theta,other))):this.$__coerced__("**",other)},$Complex_to_s$31.$$arity=1),Opal.def(self,"$abs",$Complex_to_s$31=function(){return $$($nesting,"Math").$hypot(this.real,this.imag)},$Complex_to_s$31.$$arity=0),Opal.def(self,"$abs2",$Complex_to_s$31=function(){return $rb_plus($rb_times(this.real,this.real),$rb_times(this.imag,this.imag))},$Complex_to_s$31.$$arity=0),Opal.def(self,"$angle",$Complex_to_s$31=function(){return $$($nesting,"Math").$atan2(this.imag,this.real)},$Complex_to_s$31.$$arity=0),Opal.alias(self,"arg","angle"),Opal.def(self,"$conj",$Complex_to_s$31=function(){return this.$Complex(this.real,this.imag["$-@"]())},$Complex_to_s$31.$$arity=0),Opal.alias(self,"conjugate","conj"),Opal.def(self,"$denominator",$Complex_to_s$31=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},$Complex_to_s$31.$$arity=0),Opal.alias(self,"divide","/"),Opal.def(self,"$eql?",$Complex_to_s$31=function(other){var $ret_or_23,self=this,$ret_or_24=nil;return $truthy($ret_or_23=$truthy($ret_or_24=$$($nesting,"Complex")["$==="](other))?self.real.$class()["$=="](self.imag.$class()):$ret_or_24)?self["$=="](other):$ret_or_23},$Complex_to_s$31.$$arity=1),Opal.def(self,"$fdiv",$Complex_to_s$31=function(other){return $truthy($$($nesting,"Numeric")["$==="](other))||this.$raise($$($nesting,"TypeError"),other.$class()+" can't be coerced into Complex"),$rb_divide(this,other)},$Complex_to_s$31.$$arity=1),Opal.def(self,"$finite?",$Complex_to_s$31=function(){var $ret_or_25;return $truthy($ret_or_25=this.real["$finite?"]())?this.imag["$finite?"]():$ret_or_25},$Complex_to_s$31.$$arity=0),Opal.def(self,"$hash",$Complex_to_s$31=function(){return"Complex:"+this.real+":"+this.imag},$Complex_to_s$31.$$arity=0),Opal.alias(self,"imaginary","imag"),Opal.def(self,"$infinite?",$Complex_to_s$31=function(){var $ret_or_26;return $truthy($ret_or_26=this.real["$infinite?"]())?$ret_or_26:this.imag["$infinite?"]()},$Complex_to_s$31.$$arity=0),Opal.def(self,"$inspect",$Complex_to_s$31=function(){return"("+this+")"},$Complex_to_s$31.$$arity=0),Opal.alias(self,"magnitude","abs"),Opal.udef(self,"$negative?"),Opal.def(self,"$numerator",$Complex_to_s$31=function(){var d=this.$denominator();return this.$Complex($rb_times(this.real.$numerator(),$rb_divide(d,this.real.$denominator())),$rb_times(this.imag.$numerator(),$rb_divide(d,this.imag.$denominator())))},$Complex_to_s$31.$$arity=0),Opal.alias(self,"phase","arg"),Opal.def(self,"$polar",$Complex_to_s$31=function(){return[this.$abs(),this.$arg()]},$Complex_to_s$31.$$arity=0),Opal.udef(self,"$positive?"),Opal.alias(self,"quo","/"),Opal.def(self,"$rationalize",$Complex_to_s$31=function(eps){return 1<arguments.length&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),$truthy(this.imag["$!="](0))&&this.$raise($$($nesting,"RangeError"),"can't' convert "+this+" into Rational"),this.$real().$rationalize(eps)},$Complex_to_s$31.$$arity=-1),Opal.def(self,"$real?",$Complex_to_s$31=function(){return!1},$Complex_to_s$31.$$arity=0),Opal.def(self,"$rect",$Complex_to_s$31=function(){return[this.real,this.imag]},$Complex_to_s$31.$$arity=0),Opal.alias(self,"rectangular","rect"),Opal.udef(self,"$step"),Opal.def(self,"$to_f",$Complex_to_s$31=function(){return this.imag["$=="](0)||this.$raise($$($nesting,"RangeError"),"can't convert "+this+" into Float"),this.real.$to_f()},$Complex_to_s$31.$$arity=0),Opal.def(self,"$to_i",$Complex_to_s$31=function(){return this.imag["$=="](0)||this.$raise($$($nesting,"RangeError"),"can't convert "+this+" into Integer"),this.real.$to_i()},$Complex_to_s$31.$$arity=0),Opal.def(self,"$to_r",$Complex_to_s$31=function(){return this.imag["$=="](0)||this.$raise($$($nesting,"RangeError"),"can't convert "+this+" into Rational"),this.real.$to_r()},$Complex_to_s$31.$$arity=0),Opal.def(self,"$to_s",$Complex_to_s$31=function(){var self=this,result=nil,$ret_or_27=nil,$ret_or_28=nil,$ret_or_29=nil,$ret_or_30=nil,$ret_or_31=nil;return result=$rb_plus(result=self.real.$inspect(),$truthy($truthy($ret_or_27=$truthy($ret_or_28=$truthy($ret_or_29=$$($nesting,"Number")["$==="](self.imag))?self.imag["$nan?"]():$ret_or_29)?$ret_or_28:self.imag["$positive?"]())?$ret_or_27:self.imag["$zero?"]())?"+":"-"),result=$rb_plus(result,self.imag.$abs().$inspect()),$truthy($truthy($ret_or_30=$$($nesting,"Number")["$==="](self.imag))?$truthy($ret_or_31=self.imag["$nan?"]())?$ret_or_31:self.imag["$infinite?"]():$ret_or_30)&&(result=$rb_plus(result,"*")),$rb_plus(result,"i")},$Complex_to_s$31.$$arity=0),Opal.const_set($nesting[0],"I",self.$new(0,1))}($nesting[0],$$($nesting,"Numeric"),$nesting),function($Kernel_Complex$32,$parent_nesting){var $nesting=[$Kernel_Complex$32=$module($Kernel_Complex$32,"Kernel")].concat($parent_nesting);Opal.def($Kernel_Complex$32,"$Complex",$Kernel_Complex$32=function(real,imag){return null==imag&&(imag=nil),$truthy(imag)?$$($nesting,"Complex").$new(real,imag):$$($nesting,"Complex").$new(real,0)},$Kernel_Complex$32.$$arity=-2)}($nesting[0],$nesting),function($String_to_c$33,$parent_nesting){$String_to_c$33=$klass($String_to_c$33,null,"String"),[$String_to_c$33].concat($parent_nesting);return Opal.def($String_to_c$33,"$to_c",$String_to_c$33=function(){var real,imag,self=this,str=self,re=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;str.match(re);function isFloat(){return re.test(str)}function cutFloat(){var number=str.match(re)[0];return str=str.slice(number.length),number.replace(/_/g,"")}function cutNumber(){if(isFloat()){var numerator=parseFloat(cutFloat());if("/"!==str[0])return numerator;if(str=str.slice(1),isFloat()){var denominator=parseFloat(cutFloat());return self.$Rational(numerator,denominator)}return str="/"+str,numerator}return null}return(real=cutNumber())?(imag=cutNumber())?self.$Complex(real,imag):"i"===str[0]?self.$Complex(0,real):self.$Complex(real,0):"i"===str[0]?self.$Complex(0,1):"-"===str[0]&&"i"===str[1]?self.$Complex(0,-1):"+"===str[0]&&"i"===str[1]?self.$Complex(0,1):self.$Complex(0,0)},$String_to_c$33.$$arity=0),nil&&"to_c"}($nesting[0],$nesting)},Opal.modules["corelib/rational"]=function(Opal){function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_times(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$truthy=Opal.truthy,$module=Opal.module;return Opal.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$<=","$truncate","$send","$convert"]),self.$require("corelib/numeric"),function($base,$Rational_with_precision$26,$Rational_truncate$25){var $nesting=[$Rational_with_precision$26=$klass($base,$Rational_with_precision$26,"Rational")].concat($Rational_truncate$25);$Rational_with_precision$26.$$prototype.num=$Rational_with_precision$26.$$prototype.den=nil,Opal.defs($Rational_with_precision$26,"$reduce",$Rational_truncate$25=function(num,den){var gcd;if(num=num.$to_i(),(den=den.$to_i())["$=="](0))this.$raise($$($nesting,"ZeroDivisionError"),"divided by 0");else if($truthy($rb_lt(den,0)))num=num["$-@"](),den=den["$-@"]();else if(den["$=="](1))return this.$new(num,den);return gcd=num.$gcd(den),this.$new($rb_divide(num,gcd),$rb_divide(den,gcd))},$Rational_truncate$25.$$arity=2),Opal.defs($Rational_with_precision$26,"$convert",$Rational_truncate$25=function(num,den){var $ret_or_1=nil,$ret_or_2=nil,$ret_or_3=nil,$ret_or_4=nil,$ret_or_5=nil,$ret_or_6=nil,$ret_or_7=nil,$ret_or_8=nil;return $truthy($truthy($ret_or_1=num["$nil?"]())?$ret_or_1:den["$nil?"]())&&this.$raise($$($nesting,"TypeError"),"cannot convert nil into Rational"),$truthy($truthy($ret_or_2=$$($nesting,"Integer")["$==="](num))?$$($nesting,"Integer")["$==="](den):$ret_or_2)?this.$reduce(num,den):($truthy($truthy($ret_or_3=$truthy($ret_or_4=$$($nesting,"Float")["$==="](num))?$ret_or_4:$$($nesting,"String")["$==="](num))?$ret_or_3:$$($nesting,"Complex")["$==="](num))&&(num=num.$to_r()),$truthy($truthy($ret_or_5=$truthy($ret_or_6=$$($nesting,"Float")["$==="](den))?$ret_or_6:$$($nesting,"String")["$==="](den))?$ret_or_5:$$($nesting,"Complex")["$==="](den))&&(den=den.$to_r()),$truthy($truthy($ret_or_7=den["$equal?"](1))?$$($nesting,"Integer")["$==="](num)["$!"]():$ret_or_7)?$$($nesting,"Opal")["$coerce_to!"](num,$$($nesting,"Rational"),"to_r"):$truthy($truthy($ret_or_8=$$($nesting,"Numeric")["$==="](num))?$$($nesting,"Numeric")["$==="](den):$ret_or_8)?$rb_divide(num,den):this.$reduce(num,den))},$Rational_truncate$25.$$arity=2),Opal.def($Rational_with_precision$26,"$initialize",$Rational_truncate$25=function(num,den){return this.num=num,this.den=den},$Rational_truncate$25.$$arity=2),Opal.def($Rational_with_precision$26,"$numerator",$Rational_truncate$25=function(){return this.num},$Rational_truncate$25.$$arity=0),Opal.def($Rational_with_precision$26,"$denominator",$Rational_truncate$25=function(){return this.den},$Rational_truncate$25.$$arity=0),Opal.def($Rational_with_precision$26,"$coerce",$Rational_truncate$25=function(other){var self=this,$case=nil;return $case=other,$$($nesting,"Rational")["$==="]($case)?[other,self]:$$($nesting,"Integer")["$==="]($case)?[other.$to_r(),self]:$$($nesting,"Float")["$==="]($case)?[other,self.$to_f()]:nil},$Rational_truncate$25.$$arity=1),Opal.def($Rational_with_precision$26,"$==",$Rational_truncate$25=function(other){var self=this,$case=nil,$ret_or_9=nil,$ret_or_10=nil;return $case=other,$$($nesting,"Rational")["$==="]($case)?$truthy($ret_or_9=self.num["$=="](other.$numerator()))?self.den["$=="](other.$denominator()):$ret_or_9:$$($nesting,"Integer")["$==="]($case)?$truthy($ret_or_10=self.num["$=="](other))?self.den["$=="](1):$ret_or_10:$$($nesting,"Float")["$==="]($case)?self.$to_f()["$=="](other):other["$=="](self)},$Rational_truncate$25.$$arity=1),Opal.def($Rational_with_precision$26,"$<=>",$Rational_truncate$25=function(other){var self=this,$case=nil;return $case=other,$$($nesting,"Rational")["$==="]($case)?$rb_minus($rb_times(self.num,other.$denominator()),$rb_times(self.den,other.$numerator()))["$<=>"](0):$$($nesting,"Integer")["$==="]($case)?$rb_minus(self.num,$rb_times(self.den,other))["$<=>"](0):$$($nesting,"Float")["$==="]($case)?self.$to_f()["$<=>"](other):self.$__coerced__("<=>",other)},$Rational_truncate$25.$$arity=1),Opal.def($Rational_with_precision$26,"$+",$Rational_truncate$25=function(other){var self=this,$case=nil,num=nil,den=nil;return $case=other,$$($nesting,"Rational")["$==="]($case)?(num=$rb_plus($rb_times(self.num,other.$denominator()),$rb_times(self.den,other.$numerator())),den=$rb_times(self.den,other.$denominator()),self.$Rational(num,den)):$$($nesting,"Integer")["$==="]($case)?self.$Rational($rb_plus(self.num,$rb_times(other,self.den)),self.den):$$($nesting,"Float")["$==="]($case)?$rb_plus(self.$to_f(),other):self.$__coerced__("+",other)},$Rational_truncate$25.$$arity=1),Opal.def($Rational_with_precision$26,"$-",$Rational_truncate$25=function(other){var self=this,$case=nil,num=nil,den=nil;return $case=other,$$($nesting,"Rational")["$==="]($case)?(num=$rb_minus($rb_times(self.num,other.$denominator()),$rb_times(self.den,other.$numerator())),den=$rb_times(self.den,other.$denominator()),self.$Rational(num,den)):$$($nesting,"Integer")["$==="]($case)?self.$Rational($rb_minus(self.num,$rb_times(other,self.den)),self.den):$$($nesting,"Float")["$==="]($case)?$rb_minus(self.$to_f(),other):self.$__coerced__("-",other)},$Rational_truncate$25.$$arity=1),Opal.def($Rational_with_precision$26,"$*",$Rational_truncate$25=function(other){var self=this,$case=nil,num=nil,den=nil;return $case=other,$$($nesting,"Rational")["$==="]($case)?(num=$rb_times(self.num,other.$numerator()),den=$rb_times(self.den,other.$denominator()),self.$Rational(num,den)):$$($nesting,"Integer")["$==="]($case)?self.$Rational($rb_times(self.num,other),self.den):$$($nesting,"Float")["$==="]($case)?$rb_times(self.$to_f(),other):self.$__coerced__("*",other)},$Rational_truncate$25.$$arity=1),Opal.def($Rational_with_precision$26,"$/",$Rational_truncate$25=function(other){var self=this,$case=nil,num=nil,den=nil;return $case=other,$$($nesting,"Rational")["$==="]($case)?(num=$rb_times(self.num,other.$denominator()),den=$rb_times(self.den,other.$numerator()),self.$Rational(num,den)):$$($nesting,"Integer")["$==="]($case)?other["$=="](0)?$rb_divide(self.$to_f(),0):self.$Rational(self.num,$rb_times(self.den,other)):$$($nesting,"Float")["$==="]($case)?$rb_divide(self.$to_f(),other):self.$__coerced__("/",other)},$Rational_truncate$25.$$arity=1),Opal.def($Rational_with_precision$26,"$**",$Rational_truncate$25=function(other){var $case,rhs,self=this,lhs=nil,$ret_or_12=nil;return $case=other,$$($nesting,"Integer")["$==="]($case)?$truthy($truthy(lhs=self["$=="](0))?$rb_lt(other,0):lhs)?$$$($$($nesting,"Float"),"INFINITY"):$truthy((rhs=0,"number"==typeof(lhs=other)&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)))?self.$Rational(self.num["$**"](other),self.den["$**"](other)):$truthy($rb_lt(other,0))?self.$Rational(self.den["$**"](other["$-@"]()),self.num["$**"](other["$-@"]())):self.$Rational(1,1):$$($nesting,"Float")["$==="]($case)?self.$to_f()["$**"](other):$$($nesting,"Rational")["$==="]($case)?other["$=="](0)?self.$Rational(1,1):other.$denominator()["$=="](1)?$truthy($rb_lt(other,0))?self.$Rational(self.den["$**"](other.$numerator().$abs()),self.num["$**"](other.$numerator().$abs())):self.$Rational(self.num["$**"](other.$numerator()),self.den["$**"](other.$numerator())):$truthy($truthy($ret_or_12=self["$=="](0))?$rb_lt(other,0):$ret_or_12)?self.$raise($$($nesting,"ZeroDivisionError"),"divided by 0"):self.$to_f()["$**"](other):self.$__coerced__("**",other)},$Rational_truncate$25.$$arity=1),Opal.def($Rational_with_precision$26,"$abs",$Rational_truncate$25=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},$Rational_truncate$25.$$arity=0),Opal.def($Rational_with_precision$26,"$ceil",$Rational_truncate$25=function(precision){return null==precision&&(precision=0),precision["$=="](0)?$rb_divide(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",precision)},$Rational_truncate$25.$$arity=-1),Opal.alias($Rational_with_precision$26,"divide","/"),Opal.def($Rational_with_precision$26,"$floor",$Rational_truncate$25=function(precision){return null==precision&&(precision=0),precision["$=="](0)?$rb_divide(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",precision)},$Rational_truncate$25.$$arity=-1),Opal.def($Rational_with_precision$26,"$hash",$Rational_truncate$25=function(){return"Rational:"+this.num+":"+this.den},$Rational_truncate$25.$$arity=0),Opal.def($Rational_with_precision$26,"$inspect",$Rational_truncate$25=function(){return"("+this+")"},$Rational_truncate$25.$$arity=0),Opal.alias($Rational_with_precision$26,"quo","/"),Opal.def($Rational_with_precision$26,"$rationalize",$Rational_truncate$25=function(eps){if(1<arguments.length&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==eps)return this;for(var p2,c,k,q2,t,e=eps.$abs(),a=$rb_minus(this,e),b=$rb_plus(this,e),p0=0,p1=1,q0=1,q1=0;c=a.$ceil(),t=b,!("number"==typeof(q2=c)&&"number"==typeof t?q2<=t:q2["$<="](t));)p2=(k=c-1)*p1+p0,q2=k*q1+q0,t=$rb_divide(1,$rb_minus(b,k)),b=$rb_divide(1,$rb_minus(a,k)),a=t,p0=p1,q0=q1,p1=p2,q1=q2;return this.$Rational(c*p1+p0,c*q1+q0)},$Rational_truncate$25.$$arity=-1),Opal.def($Rational_with_precision$26,"$round",$Rational_truncate$25=function(precision){var approx=nil;return null==precision&&(precision=0),precision["$=="](0)?this.num["$=="](0)?0:this.den["$=="](1)?this.num:(approx=$rb_divide($rb_plus($rb_times(this.num.$abs(),2),this.den),$rb_times(this.den,2)).$truncate(),$truthy($rb_lt(this.num,0))?approx["$-@"]():approx):this.$with_precision("round",precision)},$Rational_truncate$25.$$arity=-1),Opal.def($Rational_with_precision$26,"$to_f",$Rational_truncate$25=function(){return $rb_divide(this.num,this.den)},$Rational_truncate$25.$$arity=0),Opal.def($Rational_with_precision$26,"$to_i",$Rational_truncate$25=function(){return this.$truncate()},$Rational_truncate$25.$$arity=0),Opal.def($Rational_with_precision$26,"$to_r",$Rational_truncate$25=function(){return this},$Rational_truncate$25.$$arity=0),Opal.def($Rational_with_precision$26,"$to_s",$Rational_truncate$25=function(){return this.num+"/"+this.den},$Rational_truncate$25.$$arity=0),Opal.def($Rational_with_precision$26,"$truncate",$Rational_truncate$25=function(precision){return null==precision&&(precision=0),precision["$=="](0)?$truthy($rb_lt(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",precision)},$Rational_truncate$25.$$arity=-1),Opal.def($Rational_with_precision$26,"$with_precision",$Rational_with_precision$26=function(method,precision){var p,s=nil;return $truthy($$($nesting,"Integer")["$==="](precision))||this.$raise($$($nesting,"TypeError"),"not an Integer"),s=$rb_times(this,p=10["$**"](precision)),$truthy($rb_lt(precision,1))?$rb_divide(s.$send(method),p).$to_i():this.$Rational(s.$send(method),p)},$Rational_with_precision$26.$$arity=2)}($nesting[0],$$($nesting,"Numeric"),$nesting),function($Kernel_Rational$27,$parent_nesting){var $nesting=[$Kernel_Rational$27=$module($Kernel_Rational$27,"Kernel")].concat($parent_nesting);Opal.def($Kernel_Rational$27,"$Rational",$Kernel_Rational$27=function(numerator,denominator){return null==denominator&&(denominator=1),$$($nesting,"Rational").$convert(numerator,denominator)},$Kernel_Rational$27.$$arity=-2)}($nesting[0],$nesting),function($String_to_r$28,$parent_nesting){$String_to_r$28=$klass($String_to_r$28,null,"String"),[$String_to_r$28].concat($parent_nesting);return Opal.def($String_to_r$28,"$to_r",$String_to_r$28=function(){var numerator,denominator,str=this.trimLeft(),re=/^[+-]?[\d_]+(\.[\d_]+)?/;str.match(re);function isFloat(){return re.test(str)}function cutFloat(){var number=str.match(re)[0];return str=str.slice(number.length),number.replace(/_/g,"")}return isFloat()?(numerator=parseFloat(cutFloat()),"/"===str[0]?(str=str.slice(1),isFloat()?(denominator=parseFloat(cutFloat()),this.$Rational(numerator,denominator)):this.$Rational(numerator,1)):this.$Rational(numerator,1)):this.$Rational(0,1)},$String_to_r$28.$$arity=0),nil&&"to_r"}($nesting[0],$nesting)},Opal.modules["corelib/time"]=function(Opal){function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_le(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<=rhs:lhs["$<="](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range;return Opal.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),self.$require("corelib/comparable"),function($base,$super,$Time_cweek_cyear$42){var self=$klass($base,$super,"Time"),$nesting=[self].concat($Time_cweek_cyear$42);self.$include($$($nesting,"Comparable"));var days_of_week=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],short_days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],short_months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long_months=["January","February","March","April","May","June","July","August","September","October","November","December"];function time_params(year,month,day,hour,min,sec){if(year=year.$$is_string?parseInt(year,10):$$($nesting,"Opal")["$coerce_to!"](year,$$($nesting,"Integer"),"to_int"),month===nil)month=1;else if(!month.$$is_number)if(month["$respond_to?"]("to_str"))switch((month=month.$to_str()).toLowerCase()){case"jan":month=1;break;case"feb":month=2;break;case"mar":month=3;break;case"apr":month=4;break;case"may":month=5;break;case"jun":month=6;break;case"jul":month=7;break;case"aug":month=8;break;case"sep":month=9;break;case"oct":month=10;break;case"nov":month=11;break;case"dec":month=12;break;default:month=month.$to_i()}else month=$$($nesting,"Opal")["$coerce_to!"](month,$$($nesting,"Integer"),"to_int");return(month<1||12<month)&&self.$raise($$($nesting,"ArgumentError"),"month out of range: "+month),--month,((day=day===nil?1:day.$$is_string?parseInt(day,10):$$($nesting,"Opal")["$coerce_to!"](day,$$($nesting,"Integer"),"to_int"))<1||31<day)&&self.$raise($$($nesting,"ArgumentError"),"day out of range: "+day),((hour=hour===nil?0:hour.$$is_string?parseInt(hour,10):$$($nesting,"Opal")["$coerce_to!"](hour,$$($nesting,"Integer"),"to_int"))<0||24<hour)&&self.$raise($$($nesting,"ArgumentError"),"hour out of range: "+hour),((min=min===nil?0:min.$$is_string?parseInt(min,10):$$($nesting,"Opal")["$coerce_to!"](min,$$($nesting,"Integer"),"to_int"))<0||59<min)&&self.$raise($$($nesting,"ArgumentError"),"min out of range: "+min),sec===nil?sec=0:sec.$$is_number||(sec=sec.$$is_string?parseInt(sec,10):$$($nesting,"Opal")["$coerce_to!"](sec,$$($nesting,"Integer"),"to_int")),(sec<0||60<sec)&&self.$raise($$($nesting,"ArgumentError"),"sec out of range: "+sec),[year,month,day,hour,min,sec]}return Opal.defs(self,"$at",$Time_cweek_cyear$42=function(seconds,frac){var result;return $$($nesting,"Time")["$==="](seconds)?(void 0!==frac&&this.$raise($$($nesting,"TypeError"),"can't convert Time into an exact number"),(result=new Date(seconds.getTime())).is_utc=seconds.is_utc,result):(seconds.$$is_number||(seconds=$$($nesting,"Opal")["$coerce_to!"](seconds,$$($nesting,"Integer"),"to_int")),void 0===frac?new Date(1e3*seconds):(frac.$$is_number||(frac=$$($nesting,"Opal")["$coerce_to!"](frac,$$($nesting,"Integer"),"to_int")),new Date(1e3*seconds+frac/1e3)))},$Time_cweek_cyear$42.$$arity=-2),Opal.defs(self,"$new",$Time_cweek_cyear$42=function(year,month,day,hour,min,result,args){return null==month&&(month=nil),null==day&&(day=nil),null==hour&&(hour=nil),null==min&&(min=nil),null==result&&(result=nil),null==args&&(args=nil),void 0===year?new Date:(args!==nil&&this.$raise($$($nesting,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),year=(args=time_params(year,month,day,hour,min,result))[0],month=args[1],day=args[2],hour=args[3],min=args[4],result=args[5],result=new Date(year,month,day,hour,min,0,1e3*result),year<100&&result.setFullYear(year),result)},$Time_cweek_cyear$42.$$arity=-1),Opal.defs(self,"$local",$Time_cweek_cyear$42=function(year,month,day,hour,min,sec,millisecond,_dummy1,_dummy2,_dummy3){var result;return null==month&&(month=nil),null==day&&(day=nil),null==hour&&(hour=nil),null==min&&(min=nil),null==sec&&(sec=nil),null==millisecond&&(millisecond=nil),null==_dummy1&&(_dummy1=nil),null==_dummy2&&(_dummy2=nil),null==_dummy3&&(_dummy3=nil),10===arguments.length&&(year=(result=$slice.call(arguments))[5],month=result[4],day=result[3],hour=result[2],min=result[1],sec=result[0]),year=(result=time_params(year,month,day,hour,min,sec))[0],month=result[1],day=result[2],hour=result[3],min=result[4],sec=result[5],result=new Date(year,month,day,hour,min,0,1e3*sec),year<100&&result.setFullYear(year),result},$Time_cweek_cyear$42.$$arity=-2),Opal.defs(self,"$gm",$Time_cweek_cyear$42=function(year,month,day,hour,min,sec,millisecond,_dummy1,_dummy2,_dummy3){var result;return null==month&&(month=nil),null==day&&(day=nil),null==hour&&(hour=nil),null==min&&(min=nil),null==sec&&(sec=nil),null==millisecond&&(millisecond=nil),null==_dummy1&&(_dummy1=nil),null==_dummy2&&(_dummy2=nil),null==_dummy3&&(_dummy3=nil),10===arguments.length&&(year=(result=$slice.call(arguments))[5],month=result[4],day=result[3],hour=result[2],min=result[1],sec=result[0]),year=(result=time_params(year,month,day,hour,min,sec))[0],month=result[1],day=result[2],hour=result[3],min=result[4],sec=result[5],result=new Date(Date.UTC(year,month,day,hour,min,0,1e3*sec)),year<100&&result.setUTCFullYear(year),result.is_utc=!0,result},$Time_cweek_cyear$42.$$arity=-2),function(self,$parent_nesting){[self].concat($parent_nesting),Opal.alias(self,"mktime","local"),Opal.alias(self,"utc","gm")}(Opal.get_singleton_class(self),$nesting),Opal.defs(self,"$now",$Time_cweek_cyear$42=function(){return this.$new()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$+",$Time_cweek_cyear$42=function(result){$truthy($$($nesting,"Time")["$==="](result))&&this.$raise($$($nesting,"TypeError"),"time + time?"),result.$$is_number||(result=$$($nesting,"Opal")["$coerce_to!"](result,$$($nesting,"Integer"),"to_int"));result=new Date(this.getTime()+1e3*result);return result.is_utc=this.is_utc,result},$Time_cweek_cyear$42.$$arity=1),Opal.def(self,"$-",$Time_cweek_cyear$42=function(result){if($truthy($$($nesting,"Time")["$==="](result)))return(this.getTime()-result.getTime())/1e3;result.$$is_number||(result=$$($nesting,"Opal")["$coerce_to!"](result,$$($nesting,"Integer"),"to_int"));result=new Date(this.getTime()-1e3*result);return result.is_utc=this.is_utc,result},$Time_cweek_cyear$42.$$arity=1),Opal.def(self,"$<=>",$Time_cweek_cyear$42=function(lhs){var rhs,r=nil;return $truthy($$($nesting,"Time")["$==="](lhs))?this.$to_f()["$<=>"](lhs.$to_f()):(r=lhs["$<=>"](this),$truthy(r["$nil?"]())?nil:$truthy((rhs=0,"number"==typeof(lhs=r)&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)))?-1:$truthy(function(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}(r,0))?1:0)},$Time_cweek_cyear$42.$$arity=1),Opal.def(self,"$==",$Time_cweek_cyear$42=function(other){var $ret_or_1;return $truthy($ret_or_1=$$($nesting,"Time")["$==="](other))?this.$to_f()===other.$to_f():$ret_or_1},$Time_cweek_cyear$42.$$arity=1),Opal.def(self,"$asctime",$Time_cweek_cyear$42=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},$Time_cweek_cyear$42.$$arity=0),Opal.alias(self,"ctime","asctime"),Opal.def(self,"$day",$Time_cweek_cyear$42=function(){return this.is_utc?this.getUTCDate():this.getDate()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$yday",$Time_cweek_cyear$42=function(){var start_of_year=$$($nesting,"Time").$new(this.$year()).$to_i();return $rb_plus($rb_divide($rb_minus($$($nesting,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),start_of_year),86400).$round(),1)},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$isdst",$Time_cweek_cyear$42=function(){var jan=new Date(this.getFullYear(),0,1),jul=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(jan.getTimezoneOffset(),jul.getTimezoneOffset())},$Time_cweek_cyear$42.$$arity=0),Opal.alias(self,"dst?","isdst"),Opal.def(self,"$dup",$Time_cweek_cyear$42=function(){var copy=nil;return(copy=new Date(this.getTime())).$copy_instance_variables(this),copy.$initialize_dup(this),copy},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$eql?",$Time_cweek_cyear$42=function(other){var $ret_or_2;return $truthy($ret_or_2=other["$is_a?"]($$($nesting,"Time")))?this["$<=>"](other)["$zero?"]():$ret_or_2},$Time_cweek_cyear$42.$$arity=1),Opal.def(self,"$friday?",$Time_cweek_cyear$42=function(){return 5==this.$wday()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$hash",$Time_cweek_cyear$42=function(){return"Time:"+this.getTime()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$hour",$Time_cweek_cyear$42=function(){return this.is_utc?this.getUTCHours():this.getHours()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$inspect",$Time_cweek_cyear$42=function(){return $truthy(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},$Time_cweek_cyear$42.$$arity=0),Opal.alias(self,"mday","day"),Opal.def(self,"$min",$Time_cweek_cyear$42=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$mon",$Time_cweek_cyear$42=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$monday?",$Time_cweek_cyear$42=function(){return 1==this.$wday()},$Time_cweek_cyear$42.$$arity=0),Opal.alias(self,"month","mon"),Opal.def(self,"$saturday?",$Time_cweek_cyear$42=function(){return 6==this.$wday()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$sec",$Time_cweek_cyear$42=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$succ",$Time_cweek_cyear$42=function(){var result=new Date(this.getTime()+1e3);return result.is_utc=this.is_utc,result},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$usec",$Time_cweek_cyear$42=function(){return 1e3*this.getMilliseconds()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$zone",$Time_cweek_cyear$42=function(){var string=this.toString(),result=-1==string.indexOf("(")?string.match(/[A-Z]{3,4}/)[0]:string.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==result&&/(GMT\W*\d{4})/.test(string)?RegExp.$1:result},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$getgm",$Time_cweek_cyear$42=function(){var result=new Date(this.getTime());return result.is_utc=!0,result},$Time_cweek_cyear$42.$$arity=0),Opal.alias(self,"getutc","getgm"),Opal.def(self,"$gmtime",$Time_cweek_cyear$42=function(){return this.is_utc=!0,this},$Time_cweek_cyear$42.$$arity=0),Opal.alias(self,"utc","gmtime"),Opal.def(self,"$gmt?",$Time_cweek_cyear$42=function(){return!0===this.is_utc},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$gmt_offset",$Time_cweek_cyear$42=function(){return this.is_utc?0:60*-this.getTimezoneOffset()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$strftime",$Time_cweek_cyear$42=function(format){var self=this;return format.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(full,flags,width,_,conv){var result="",zero=-1!==flags.indexOf("0"),pad=-1===flags.indexOf("-"),blank=-1!==flags.indexOf("_"),upcase=-1!==flags.indexOf("^"),invert=-1!==flags.indexOf("#"),colons=(flags.match(":")||[]).length;switch(width=parseInt(width,10),zero&&blank&&(flags.indexOf("0")<flags.indexOf("_")?zero=!1:blank=!1),conv){case"Y":result+=self.$year();break;case"C":zero=!blank,result+=Math.round(self.$year()/100);break;case"y":zero=!blank,result+=self.$year()%100;break;case"m":zero=!blank,result+=self.$mon();break;case"B":result+=long_months[self.$mon()-1];break;case"b":case"h":blank=!zero,result+=short_months[self.$mon()-1];break;case"d":zero=!blank,result+=self.$day();break;case"e":blank=!zero,result+=self.$day();break;case"j":zero=!blank,width=isNaN(width)?3:width,result+=self.$yday();break;case"H":zero=!blank,result+=self.$hour();break;case"k":blank=!zero,result+=self.$hour();break;case"I":zero=!blank,result+=self.$hour()%12||12;break;case"l":blank=!zero,result+=self.$hour()%12||12;break;case"P":result+=12<=self.$hour()?"pm":"am";break;case"p":result+=12<=self.$hour()?"PM":"AM";break;case"M":zero=!blank,result+=self.$min();break;case"S":zero=!blank,result+=self.$sec();break;case"L":zero=!blank,width=isNaN(width)?3:width,result+=self.getMilliseconds();break;case"N":width=isNaN(width)?9:width,result=(result+=self.getMilliseconds().toString().$rjust(3,"0")).$ljust(width,"0");break;case"z":var offset=self.getTimezoneOffset(),hours=Math.floor(Math.abs(offset)/60),minutes=Math.abs(offset)%60;result+=offset<0?"+":"-",result+=hours<10?"0":"",result+=hours,0<colons&&(result+=":"),result+=minutes<10?"0":"",result+=minutes,1<colons&&(result+=":00");break;case"Z":result+=self.$zone();break;case"A":result+=days_of_week[self.$wday()];break;case"a":result+=short_days[self.$wday()];break;case"u":result+=self.$wday()+1;break;case"w":result+=self.$wday();break;case"V":result+=self.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":result+=self.$cweek_cyear()["$[]"](1);break;case"g":result+=self.$cweek_cyear()["$[]"](1)["$[]"]($range(-2,-1,!1));break;case"s":result+=self.$to_i();break;case"n":result+="\n";break;case"t":result+="\t";break;case"%":result+="%";break;case"c":result+=self.$strftime("%a %b %e %T %Y");break;case"D":case"x":result+=self.$strftime("%m/%d/%y");break;case"F":result+=self.$strftime("%Y-%m-%d");break;case"v":result+=self.$strftime("%e-%^b-%4Y");break;case"r":result+=self.$strftime("%I:%M:%S %p");break;case"R":result+=self.$strftime("%H:%M");break;case"T":case"X":result+=self.$strftime("%H:%M:%S");break;default:return full}return upcase&&(result=result.toUpperCase()),invert&&(result=result.replace(/[A-Z]/,function(c){c.toLowerCase()}).replace(/[a-z]/,function(c){c.toUpperCase()})),pad&&(zero||blank)&&(result=result.$rjust(isNaN(width)?2:width,blank?" ":"0")),result})},$Time_cweek_cyear$42.$$arity=1),Opal.def(self,"$sunday?",$Time_cweek_cyear$42=function(){return 0==this.$wday()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$thursday?",$Time_cweek_cyear$42=function(){return 4==this.$wday()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$to_a",$Time_cweek_cyear$42=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$to_f",$Time_cweek_cyear$42=function(){return this.getTime()/1e3},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$to_i",$Time_cweek_cyear$42=function(){return parseInt(this.getTime()/1e3,10)},$Time_cweek_cyear$42.$$arity=0),Opal.alias(self,"to_s","inspect"),Opal.def(self,"$tuesday?",$Time_cweek_cyear$42=function(){return 2==this.$wday()},$Time_cweek_cyear$42.$$arity=0),Opal.alias(self,"tv_sec","to_i"),Opal.alias(self,"tv_usec","usec"),Opal.alias(self,"utc?","gmt?"),Opal.alias(self,"gmtoff","gmt_offset"),Opal.alias(self,"utc_offset","gmt_offset"),Opal.def(self,"$wday",$Time_cweek_cyear$42=function(){return this.is_utc?this.getUTCDay():this.getDay()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$wednesday?",$Time_cweek_cyear$42=function(){return 3==this.$wday()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$year",$Time_cweek_cyear$42=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},$Time_cweek_cyear$42.$$arity=0),Opal.def(self,"$cweek_cyear",$Time_cweek_cyear$42=function(){var jan01_wday=nil,year=nil,$ret_or_3=nil,offset=nil,week=nil,dec31=nil,dec31_wday=nil,$ret_or_4=nil,jan01_wday=$$($nesting,"Time").$new(this.$year(),1,1).$wday(),year=this.$year();return $truthy($truthy($ret_or_3=$rb_le(jan01_wday,4))?jan01_wday["$!="](0):$ret_or_3)?offset=$rb_minus(jan01_wday,1):(offset=$rb_minus($rb_minus(jan01_wday,7),1))["$=="](-8)&&(offset=-1),week=$rb_divide($rb_plus(this.$yday(),offset),7).$ceil(),$truthy($rb_le(week,0))?$$($nesting,"Time").$new($rb_minus(this.$year(),1),12,31).$cweek_cyear():(week["$=="](53)&&(dec31=$$($nesting,"Time").$new(this.$year(),12,31),dec31_wday=dec31.$wday(),$truthy($truthy($ret_or_4=$rb_le(dec31_wday,3))?dec31_wday["$!="](0):$ret_or_4)&&(year=$rb_plus(year,week=1))),[week,year])},$Time_cweek_cyear$42.$$arity=0),nil&&"cweek_cyear"}($nesting[0],Date,$nesting)},Opal.modules["corelib/struct"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_ge(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<=lhs:lhs["$>="](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$hash2=Opal.hash2,$truthy=Opal.truthy,$send=Opal.send;return Opal.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$to_h","$args","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),self.$require("corelib/enumerable"),function($Struct_dig$37,$Struct_values_at$35){var $Struct_new$1,$Struct_each$22,$Struct_each_pair$25,$Struct_to_h$33,$Struct_dig$37=$klass($Struct_dig$37,null,"Struct"),$nesting=[$Struct_dig$37].concat($Struct_values_at$35);return $Struct_dig$37.$include($$($nesting,"Enumerable")),Opal.defs($Struct_dig$37,"$new",$Struct_new$1=function(const_name,$a,$b){var $post_args,args,$$2,$$3,keyword_init=$Struct_new$1.$$p,block=keyword_init||nil,klass=nil;if(keyword_init&&($Struct_new$1.$$p=null),keyword_init&&($Struct_new$1.$$p=null),$post_args=Opal.slice.call(arguments,1,arguments.length),null==(keyword_init=Opal.extract_kwargs($post_args)))keyword_init=$hash2([],{});else if(!keyword_init.$$is_hash)throw Opal.ArgumentError.$new("expected kwargs");if(args=$post_args,null==(keyword_init=keyword_init.$$smap.keyword_init)&&(keyword_init=!1),$truthy(const_name))try{const_name=$$($nesting,"Opal")["$const_name!"](const_name)}catch($err){if(!Opal.rescue($err,[$$($nesting,"TypeError"),$$($nesting,"NameError")]))throw $err;try{args.$unshift(const_name),const_name=nil}finally{Opal.pop_exception()}}return $send(args,"map",[],(($$2=function(arg){null==$$2.$$s||$$2.$$s;return null==arg&&(arg=nil),$$($nesting,"Opal")["$coerce_to!"](arg,$$($nesting,"String"),"to_str")}).$$s=this,$$2.$$arity=1,$$2)),klass=$send($$($nesting,"Class"),"new",[this],(($$3=function(){var $$4,self=null==$$3.$$s?this:$$3.$$s;return $send(args,"each",[],(($$4=function(arg){var self=null==$$4.$$s?this:$$4.$$s;return null==arg&&(arg=nil),self.$define_struct_attribute(arg)}).$$s=self,$$4.$$arity=1,$$4)),function(self,$new$5){[self].concat($new$5);return Opal.def(self,"$new",$new$5=function($a){var instance=nil,args=Opal.slice.call(arguments,0,arguments.length);return(instance=this.$allocate()).$$data={},$send(instance,"initialize",Opal.to_a(args)),instance},$new$5.$$arity=-1),self.$alias_method("[]","new")}(Opal.get_singleton_class(self),$nesting)}).$$s=this,$$3.$$arity=0,$$3)),$truthy(block)&&$send(klass,"module_eval",[],block.$to_proc()),klass.$$keyword_init=keyword_init,$truthy(const_name)&&$$($nesting,"Struct").$const_set(const_name,klass),klass},$Struct_new$1.$$arity=-2),Opal.defs($Struct_dig$37,"$define_struct_attribute",$Struct_values_at$35=function(name){var $$7,$$8;return this["$=="]($$($nesting,"Struct"))&&this.$raise($$($nesting,"ArgumentError"),"you cannot define attributes to the Struct class"),this.$members()["$<<"](name),$send(this,"define_method",[name],(($$7=function(){return(null==$$7.$$s?this:$$7.$$s).$$data[name]}).$$s=this,$$7.$$arity=0,$$7)),$send(this,"define_method",[name+"="],(($$8=function(value){var self=null==$$8.$$s?this:$$8.$$s;return null==value&&(value=nil),self.$$data[name]=value}).$$s=this,$$8.$$arity=1,$$8))},$Struct_values_at$35.$$arity=1),Opal.defs($Struct_dig$37,"$members",$Struct_values_at$35=function(){var self=this,$ret_or_1=nil;return null==self.members&&(self.members=nil),self["$=="]($$($nesting,"Struct"))&&self.$raise($$($nesting,"ArgumentError"),"the Struct class has no members"),self.members=$truthy($ret_or_1=self.members)?$ret_or_1:[]},$Struct_values_at$35.$$arity=0),Opal.defs($Struct_dig$37,"$inherited",$Struct_values_at$35=function(klass){var $$11,members;return null==this.members&&(this.members=nil),members=this.members,$send(klass,"instance_eval",[],(($$11=function(){return(null==$$11.$$s?this:$$11.$$s).members=members}).$$s=this,$$11.$$arity=0,$$11))},$Struct_values_at$35.$$arity=1),Opal.def($Struct_dig$37,"$initialize",$Struct_values_at$35=function($a){var $$13,$$14,kwargs=nil,$ret_or_2=nil,$ret_or_3=nil,extra=nil,args=Opal.slice.call(arguments,0,arguments.length);return $truthy(this.$class().$$keyword_init)?(kwargs=$truthy($ret_or_2=args.$last())?$ret_or_2:$hash2([],{}),$truthy($truthy($ret_or_3=$rb_gt(args.$length(),1))?$ret_or_3:1===args.length&&!kwargs.$$is_hash)&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (given "+args.$length()+", expected 0)"),extra=$rb_minus(kwargs.$keys(),this.$class().$members()),$truthy(extra["$any?"]())&&this.$raise($$($nesting,"ArgumentError"),"unknown keywords: "+extra.$join(", ")),$send(this.$class().$members(),"each",[],(($$13=function(name){var $writer,self=null==$$13.$$s?this:$$13.$$s;return null==name&&(name=nil),$writer=[name,kwargs["$[]"](name)],$send(self,"[]=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)]}).$$s=this,$$13.$$arity=1,$$13))):($truthy($rb_gt(args.$length(),this.$class().$members().$length()))&&this.$raise($$($nesting,"ArgumentError"),"struct size differs"),$send(this.$class().$members(),"each_with_index",[],(($$14=function(name,index){var $writer,self=null==$$14.$$s?this:$$14.$$s;return null==name&&(name=nil),null==index&&(index=nil),$writer=[name,args["$[]"](index)],$send(self,"[]=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)]}).$$s=this,$$14.$$arity=2,$$14)))},$Struct_values_at$35.$$arity=-1),Opal.def($Struct_dig$37,"$initialize_copy",$Struct_values_at$35=function(from){this.$$data={};for(var name,keys=Object.keys(from.$$data),i=0,max=keys.length;i<max;i++)name=keys[i],this.$$data[name]=from.$$data[name]},$Struct_values_at$35.$$arity=1),Opal.def($Struct_dig$37,"$members",$Struct_values_at$35=function(){return this.$class().$members()},$Struct_values_at$35.$$arity=0),Opal.def($Struct_dig$37,"$hash",$Struct_values_at$35=function(){return $$($nesting,"Hash").$new(this.$$data).$hash()},$Struct_values_at$35.$$arity=0),Opal.def($Struct_dig$37,"$[]",$Struct_values_at$35=function(name){return $truthy($$($nesting,"Integer")["$==="](name))?($truthy($rb_lt(name,this.$class().$members().$size()["$-@"]()))&&this.$raise($$($nesting,"IndexError"),"offset "+name+" too small for struct(size:"+this.$class().$members().$size()+")"),$truthy($rb_ge(name,this.$class().$members().$size()))&&this.$raise($$($nesting,"IndexError"),"offset "+name+" too large for struct(size:"+this.$class().$members().$size()+")"),name=this.$class().$members()["$[]"](name)):$truthy($$($nesting,"String")["$==="](name))?this.$$data.hasOwnProperty(name)||this.$raise($$($nesting,"NameError").$new("no member '"+name+"' in struct",name)):this.$raise($$($nesting,"TypeError"),"no implicit conversion of "+name.$class()+" into Integer"),name=$$($nesting,"Opal")["$coerce_to!"](name,$$($nesting,"String"),"to_str"),this.$$data[name]},$Struct_values_at$35.$$arity=1),Opal.def($Struct_dig$37,"$[]=",$Struct_values_at$35=function(name,value){return $truthy($$($nesting,"Integer")["$==="](name))?($truthy($rb_lt(name,this.$class().$members().$size()["$-@"]()))&&this.$raise($$($nesting,"IndexError"),"offset "+name+" too small for struct(size:"+this.$class().$members().$size()+")"),$truthy($rb_ge(name,this.$class().$members().$size()))&&this.$raise($$($nesting,"IndexError"),"offset "+name+" too large for struct(size:"+this.$class().$members().$size()+")"),name=this.$class().$members()["$[]"](name)):$truthy($$($nesting,"String")["$==="](name))?$truthy(this.$class().$members()["$include?"](name.$to_sym()))||this.$raise($$($nesting,"NameError").$new("no member '"+name+"' in struct",name)):this.$raise($$($nesting,"TypeError"),"no implicit conversion of "+name.$class()+" into Integer"),name=$$($nesting,"Opal")["$coerce_to!"](name,$$($nesting,"String"),"to_str"),this.$$data[name]=value},$Struct_values_at$35.$$arity=2),Opal.def($Struct_dig$37,"$==",$Struct_values_at$35=function(other){if(!$truthy(other["$instance_of?"](this.$class())))return!1;var recursed1={},recursed2={};return function _eqeq(struct,other){var key,a,b;for(key in recursed1[struct.$__id__()]=!0,recursed2[other.$__id__()]=!0,struct.$$data)if(a=struct.$$data[key],b=other.$$data[key],$$($nesting,"Struct")["$==="](a)){if(!(recursed1.hasOwnProperty(a.$__id__())&&recursed2.hasOwnProperty(b.$__id__())||_eqeq(a,b)))return!1}else if(!a["$=="](b))return!1;return!0}(this,other)},$Struct_values_at$35.$$arity=1),Opal.def($Struct_dig$37,"$eql?",$Struct_values_at$35=function(other){if(!$truthy(other["$instance_of?"](this.$class())))return!1;var recursed1={},recursed2={};return function _eqeq(struct,other){var key,a,b;for(key in recursed1[struct.$__id__()]=!0,recursed2[other.$__id__()]=!0,struct.$$data)if(a=struct.$$data[key],b=other.$$data[key],$$($nesting,"Struct")["$==="](a)){if(!(recursed1.hasOwnProperty(a.$__id__())&&recursed2.hasOwnProperty(b.$__id__())||_eqeq(a,b)))return!1}else if(!a["$eql?"](b))return!1;return!0}(this,other)},$Struct_values_at$35.$$arity=1),Opal.def($Struct_dig$37,"$each",$Struct_each$22=function(){var $$23,$$24,$iter=$Struct_each$22.$$p,$yield=$iter||nil;return $iter&&($Struct_each$22.$$p=null),$yield===nil?$send(this,"enum_for",["each"],(($$23=function(){return(null==$$23.$$s?this:$$23.$$s).$size()}).$$s=this,$$23.$$arity=0,$$23)):($send(this.$class().$members(),"each",[],(($$24=function(name){var self=null==$$24.$$s?this:$$24.$$s;return null==name&&(name=nil),Opal.yield1($yield,self["$[]"](name))}).$$s=this,$$24.$$arity=1,$$24)),this)},$Struct_each$22.$$arity=0),Opal.def($Struct_dig$37,"$each_pair",$Struct_each_pair$25=function(){var $$26,$$27,$iter=$Struct_each_pair$25.$$p,$yield=$iter||nil;return $iter&&($Struct_each_pair$25.$$p=null),$yield===nil?$send(this,"enum_for",["each_pair"],(($$26=function(){return(null==$$26.$$s?this:$$26.$$s).$size()}).$$s=this,$$26.$$arity=0,$$26)):($send(this.$class().$members(),"each",[],(($$27=function(name){var self=null==$$27.$$s?this:$$27.$$s;return null==name&&(name=nil),Opal.yield1($yield,[name,self["$[]"](name)])}).$$s=this,$$27.$$arity=1,$$27)),this)},$Struct_each_pair$25.$$arity=0),Opal.def($Struct_dig$37,"$length",$Struct_values_at$35=function(){return this.$class().$members().$length()},$Struct_values_at$35.$$arity=0),Opal.alias($Struct_dig$37,"size","length"),Opal.def($Struct_dig$37,"$to_a",$Struct_values_at$35=function(){var $$30;return $send(this.$class().$members(),"map",[],(($$30=function(name){var self=null==$$30.$$s?this:$$30.$$s;return null==name&&(name=nil),self["$[]"](name)}).$$s=this,$$30.$$arity=1,$$30))},$Struct_values_at$35.$$arity=0),Opal.alias($Struct_dig$37,"values","to_a"),Opal.def($Struct_dig$37,"$inspect",$Struct_values_at$35=function(){var $$32,self=this,result=nil,$ret_or_4=nil,result="#<struct ";return $truthy($truthy($ret_or_4=$$($nesting,"Struct")["$==="](self))?self.$class().$name():$ret_or_4)&&(result=$rb_plus(result,self.$class()+" ")),result=$rb_plus(result,$send(self.$each_pair(),"map",[],(($$32=function(name,value){null==$$32.$$s||$$32.$$s;return null==name&&(name=nil),null==value&&(value=nil),name+"="+value.$inspect()}).$$s=self,$$32.$$arity=2,$$32)).$join(", ")),result=$rb_plus(result,">")},$Struct_values_at$35.$$arity=0),Opal.alias($Struct_dig$37,"to_s","inspect"),Opal.def($Struct_dig$37,"$to_h",$Struct_to_h$33=function(){var $$34,$iter=$Struct_to_h$33.$$p,block=$iter||nil;return $iter&&($Struct_to_h$33.$$p=null),$iter&&($Struct_to_h$33.$$p=null),block!==nil?$send($send(this,"map",[],block.$to_proc()),"to_h",Opal.to_a(this.$args())):$send(this.$class().$members(),"each_with_object",[$hash2([],{})],(($$34=function(name,h){var $writer,self=null==$$34.$$s?this:$$34.$$s;return null==name&&(name=nil),null==h&&(h=nil),$writer=[name,self["$[]"](name)],$send(h,"[]=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)]}).$$s=this,$$34.$$arity=2,$$34))},$Struct_to_h$33.$$arity=0),Opal.def($Struct_dig$37,"$values_at",$Struct_values_at$35=function($a){for(var $$36,args=Opal.slice.call(arguments,0,arguments.length),result=[],i=0,len=(args=$send(args,"map",[],(($$36=function(arg){null==$$36.$$s||$$36.$$s;return null==arg&&(arg=nil),arg.$$is_range?arg.$to_a():arg}).$$s=this,$$36.$$arity=1,$$36)).$flatten()).length;i<len;i++)args[i].$$is_number||this.$raise($$($nesting,"TypeError"),"no implicit conversion of "+args[i].$class()+" into Integer"),result.push(this["$[]"](args[i]));return result},$Struct_values_at$35.$$arity=-1),Opal.def($Struct_dig$37,"$dig",$Struct_dig$37=function(key,$a){var self=this,item=nil,keys=Opal.slice.call(arguments,1,arguments.length);return(item=$truthy(key.$$is_string&&self.$$data.hasOwnProperty(key))&&self.$$data[key]||nil)===nil||0===keys.length?item:($truthy(item["$respond_to?"]("dig"))||self.$raise($$($nesting,"TypeError"),item.$class()+" does not have #dig method"),$send(item,"dig",Opal.to_a(keys)))},$Struct_dig$37.$$arity=-2),nil&&"dig"}($nesting[0],$nesting)},Opal.modules["corelib/main"]=function(Opal){var $to_s$1,$include$2=Opal.top,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$);return Opal.add_stubs(["$include"]),Opal.defs($include$2,"$to_s",$to_s$1=function(){return"main"},$to_s$1.$$arity=0),Opal.defs($include$2,"$include",$include$2=function(mod){return $$($nesting,"Object").$include(mod)},$include$2.$$arity=1),nil&&"include"},Opal.modules["corelib/dir"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$truthy=Opal.truthy;return Opal.add_stubs(["$[]"]),function(self,$nesting){self=$klass(self,null,"Dir"),$nesting=[self].concat($nesting);return function($home$3,$pwd$2){var $chdir$1,$nesting=[$home$3].concat($pwd$2);return Opal.def($home$3,"$chdir",$chdir$1=function(dir){var $iter=$chdir$1.$$p,$yield=$iter||nil,prev_cwd=nil;return $iter&&($chdir$1.$$p=null),function(){try{return prev_cwd=Opal.current_dir,Opal.current_dir=dir,Opal.yieldX($yield,[])}finally{Opal.current_dir=prev_cwd}}()},$chdir$1.$$arity=1),Opal.def($home$3,"$pwd",$pwd$2=function(){return Opal.current_dir||"."},$pwd$2.$$arity=0),Opal.alias($home$3,"getwd","pwd"),Opal.def($home$3,"$home",$home$3=function(){var $ret_or_1;return $truthy($ret_or_1=$$($nesting,"ENV")["$[]"]("HOME"))?$ret_or_1:"."},$home$3.$$arity=0),nil&&"home"}(Opal.get_singleton_class(self),$nesting)}($nesting[0],$nesting)},Opal.modules["corelib/file"]=function(Opal){function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$truthy=Opal.truthy,$klass=Opal.klass,$range=Opal.range,$send=Opal.send;return Opal.add_stubs(["$respond_to?","$to_path","$pwd","$split","$sub","$+","$unshift","$join","$home","$raise","$start_with?","$absolute_path","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function($base,self,$nesting){var self=$klass($base,self,"File"),$nesting=[self].concat($nesting),windows_root_rx=nil;return Opal.const_set($nesting[0],"Separator",Opal.const_set($nesting[0],"SEPARATOR","/")),Opal.const_set($nesting[0],"ALT_SEPARATOR",nil),Opal.const_set($nesting[0],"PATH_SEPARATOR",":"),Opal.const_set($nesting[0],"FNM_SYSCASE",0),windows_root_rx=/^[a-zA-Z]:(?:\\|\/)/,function($split$12,$join$9){var $nesting=[$split$12].concat($join$9);function $coerce_to_path(path){return $truthy(path["$respond_to?"]("to_path"))&&(path=path.$to_path()),path=$$($nesting,"Opal")["$coerce_to!"](path,$$($nesting,"String"),"to_str")}function $sep_chars(){return $$($nesting,"ALT_SEPARATOR")===nil?Opal.escape_regexp($$($nesting,"SEPARATOR")):Opal.escape_regexp($rb_plus($$($nesting,"SEPARATOR"),$$($nesting,"ALT_SEPARATOR")))}return Opal.def($split$12,"$absolute_path",$join$9=function(path,basedir){var sep,sep_chars,path_abs,basedir_abs,part,new_parts=nil,$ret_or_1=nil,parts=nil,leading_sep=nil,abs=nil,new_path=nil;null==basedir&&(basedir=nil),sep=$$($nesting,"SEPARATOR"),sep_chars=$sep_chars(),new_parts=[],path=$truthy(path["$respond_to?"]("to_path"))?path.$to_path():path,basedir=$truthy($ret_or_1=basedir)?$ret_or_1:$$($nesting,"Dir").$pwd(),path_abs=path.substr(0,sep.length)===sep||windows_root_rx.test(path),basedir_abs=basedir.substr(0,sep.length)===sep||windows_root_rx.test(basedir),abs=$truthy(path_abs)?(parts=path.$split(Opal.regexp(["[",sep_chars,"]"])),leading_sep=windows_root_rx.test(path)?"":path.$sub(Opal.regexp(["^([",sep_chars,"]+).*$"]),"\\1"),!0):(parts=$rb_plus(basedir.$split(Opal.regexp(["[",sep_chars,"]"])),path.$split(Opal.regexp(["[",sep_chars,"]"]))),leading_sep=windows_root_rx.test(basedir)?"":basedir.$sub(Opal.regexp(["^([",sep_chars,"]+).*$"]),"\\1"),basedir_abs);for(var i=0,ii=parts.length;i<ii;i++)(part=parts[i])===nil||""===part&&(0===new_parts.length||abs)||"."===part&&(0===new_parts.length||abs)||(".."===part?new_parts.pop():new_parts.push(part));return abs||"."===parts[0]||new_parts.$unshift("."),new_path=new_parts.$join(sep),$truthy(abs)&&(new_path=$rb_plus(leading_sep,new_path)),new_path},$join$9.$$arity=-2),Opal.def($split$12,"$expand_path",$join$9=function(path,basedir){var sep,sep_chars,leading_sep,home_path_regexp,home=nil;return null==basedir&&(basedir=nil),sep=$$($nesting,"SEPARATOR"),sep_chars=$sep_chars(),$truthy("~"===path[0]||basedir&&"~"===basedir[0])&&(home=$$($nesting,"Dir").$home(),$truthy(home)||this.$raise($$($nesting,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),leading_sep=windows_root_rx.test(home)?"":home.$sub(Opal.regexp(["^([",sep_chars,"]+).*$"]),"\\1"),$truthy(home["$start_with?"](leading_sep))||this.$raise($$($nesting,"ArgumentError"),"non-absolute home"),home=$rb_plus(home,sep),home_path_regexp=Opal.regexp(["^\\~(?:",sep,"|$)"]),path=path.$sub(home_path_regexp,home),$truthy(basedir)&&(basedir=basedir.$sub(home_path_regexp,home))),this.$absolute_path(path,basedir)},$join$9.$$arity=-2),Opal.alias($split$12,"realpath","expand_path"),Opal.def($split$12,"$dirname",$join$9=function(path){var sep_chars=$sep_chars(),absolute=(path=$coerce_to_path(path)).match(new RegExp("^["+sep_chars+"]"));return""===(path=(path=(path=path.replace(new RegExp("["+sep_chars+"]+$"),"")).replace(new RegExp("[^"+sep_chars+"]+$"),"")).replace(new RegExp("["+sep_chars+"]+$"),""))?absolute?"/":".":path},$join$9.$$arity=1),Opal.def($split$12,"$basename",$join$9=function(name,suffix){var sep_chars;return null==suffix&&(suffix=nil),sep_chars=$sep_chars(),0==(name=$coerce_to_path(name)).length||(suffix=suffix!==nil?$$($nesting,"Opal")["$coerce_to!"](suffix,$$($nesting,"String"),"to_str"):null,name=(name=name.replace(new RegExp("(.)["+sep_chars+"]*$"),"$1")).replace(new RegExp("^(?:.*["+sep_chars+"])?([^"+sep_chars+"]+)$"),"$1"),".*"===suffix?name=name.replace(/\.[^\.]+$/,""):null!==suffix&&(suffix=Opal.escape_regexp(suffix),name=name.replace(new RegExp(suffix+"$"),""))),name},$join$9.$$arity=-2),Opal.def($split$12,"$extname",$join$9=function(lhs){var filename=nil,last_dot_idx=nil,rhs=nil;return lhs=$coerce_to_path(lhs),filename=this.$basename(lhs),$truthy(filename["$empty?"]())?"":(last_dot_idx=filename["$[]"]($range(1,-1,!1)).$rindex("."),$truthy($truthy(rhs=last_dot_idx["$nil?"]())?rhs:$rb_plus(last_dot_idx,1)["$=="]((lhs=filename.$length(),rhs=1,"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs))))?"":filename["$[]"](Opal.Range.$new($rb_plus(last_dot_idx,1),-1,!1)))},$join$9.$$arity=1),Opal.def($split$12,"$exist?",$join$9=function(path){return null!=Opal.modules[path]},$join$9.$$arity=1),Opal.alias($split$12,"exists?","exist?"),Opal.def($split$12,"$directory?",$join$9=function(path){var $$8,key,files=nil,files=[];for(key in Opal.modules)files.push(key);return path=path.$gsub(Opal.regexp(["(^.",$$($nesting,"SEPARATOR"),"+|",$$($nesting,"SEPARATOR"),"+$)"])),$send(files,"find",[],(($$8=function(f){null==$$8.$$s||$$8.$$s;return null==f&&(f=nil),f["$=~"](Opal.regexp(["^",path]))}).$$s=this,$$8.$$arity=1,$$8))},$join$9.$$arity=1),Opal.def($split$12,"$join",$join$9=function($a){var $$10,$$11,result=nil,paths=Opal.slice.call(arguments,0,arguments.length);return $truthy(paths["$empty?"]())?"":(result="",paths=$send(paths.$flatten().$each_with_index(),"map",[],(($$10=function(item,index){null==$$10.$$s||$$10.$$s;var $ret_or_3=nil,$ret_or_4=nil;return null==item&&(item=nil),null==index&&(index=nil),$truthy($truthy($ret_or_3=index["$=="](0))?item["$empty?"]():$ret_or_3)||$truthy($truthy($ret_or_4=paths.$length()["$=="]($rb_plus(index,1)))?item["$empty?"]():$ret_or_4)?$$($nesting,"SEPARATOR"):item}).$$s=this,$$10.$$arity=2,$$10)),paths=$send(paths,"reject",[],"empty?".$to_proc()),$send(paths,"each_with_index",[],(($$11=function(item,index){null==$$11.$$s||$$11.$$s;var next_item=nil,$ret_or_5=nil,$ret_or_6=nil;return null==item&&(item=nil),null==index&&(index=nil),next_item=paths["$[]"]($rb_plus(index,1)),result=$truthy(next_item["$nil?"]())?""+result+item:($truthy($truthy($ret_or_5=item["$end_with?"]($$($nesting,"SEPARATOR")))?next_item["$start_with?"]($$($nesting,"SEPARATOR")):$ret_or_5)&&(item=item.$sub(Opal.regexp([$$($nesting,"SEPARATOR"),"+$"]),"")),$truthy($truthy($ret_or_6=item["$end_with?"]($$($nesting,"SEPARATOR")))?$ret_or_6:next_item["$start_with?"]($$($nesting,"SEPARATOR")))?""+result+item:""+result+item+$$($nesting,"SEPARATOR"))}).$$s=this,$$11.$$arity=2,$$11)),result)},$join$9.$$arity=-1),Opal.def($split$12,"$split",$split$12=function(path){return path.$split($$($nesting,"SEPARATOR"))},$split$12.$$arity=1),nil&&"split"}(Opal.get_singleton_class(self),$nesting)}($nesting[0],$$($nesting,"IO"),$nesting)},Opal.modules["corelib/process"]=function(Opal){Opal.top;var $Signal_trap$5,$parent_nesting,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$truthy=Opal.truthy;return Opal.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function($Process_times$3,$Process___register_clock__$1){var hrtime_base,$Process_clock_gettime$4=$klass($Process_times$3,null,"Process"),$nesting=[$Process_clock_gettime$4].concat($Process___register_clock__$1),$Process_times$3=nil;$Process_clock_gettime$4.__clocks__=[],Opal.defs($Process_clock_gettime$4,"$__register_clock__",$Process___register_clock__$1=function(name,func){return null==this.__clocks__&&(this.__clocks__=nil),this.$const_set(name,this.__clocks__.$size()),this.__clocks__["$<<"](func)},$Process___register_clock__$1.$$arity=2),$Process_clock_gettime$4.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),$Process_times$3=!1,Opal.global.performance?$Process_times$3=function(){return performance.now()}:Opal.global.process&&process.hrtime&&(hrtime_base=process.hrtime(),$Process_times$3=function(){var hrtime=process.hrtime(hrtime_base),us=hrtime[1]/1e3|0;return 1e3*hrtime[0]+us/1e3}),$truthy($Process_times$3)&&$Process_clock_gettime$4.$__register_clock__("CLOCK_MONOTONIC",$Process_times$3),Opal.defs($Process_clock_gettime$4,"$pid",$Process_times$3=function(){return 0},$Process_times$3.$$arity=0),Opal.defs($Process_clock_gettime$4,"$times",$Process_times$3=function(){var t=$$($nesting,"Time").$now().$to_f();return $$$($$($nesting,"Benchmark"),"Tms").$new(t,t,t,t,t)},$Process_times$3.$$arity=0),Opal.defs($Process_clock_gettime$4,"$clock_gettime",$Process_clock_gettime$4=function(clock_id,unit){var clock=nil;null==this.__clocks__&&(this.__clocks__=nil),null==unit&&(unit="float_second"),$truthy(clock=this.__clocks__["$[]"](clock_id))||this.$raise($$$($$($nesting,"Errno"),"EINVAL"),"clock_gettime("+clock_id+") "+this.__clocks__["$[]"](clock_id));var ms=clock();switch(unit){case"float_second":return ms/1e3;case"float_millisecond":return+ms;case"float_microsecond":return 1e3*ms;case"second":return ms/1e3|0;case"millisecond":return 0|+ms;case"microsecond":return 1e3*ms|0;case"nanosecond":return 1e6*ms|0;default:this.$raise($$($nesting,"ArgumentError"),"unexpected unit: "+unit)}},$Process_clock_gettime$4.$$arity=-2)}($nesting[0],$nesting),[$Signal_trap$5=$klass($Signal_trap$5=($parent_nesting=$nesting)[0],null,"Signal")].concat($parent_nesting),Opal.defs($Signal_trap$5,"$trap",$Signal_trap$5=function($a){Opal.slice.call(arguments,0,arguments.length);return nil},$Signal_trap$5.$$arity=-1),function($GC_start$6,$parent_nesting){$GC_start$6=$klass($GC_start$6,null,"GC"),[$GC_start$6].concat($parent_nesting);return Opal.defs($GC_start$6,"$start",$GC_start$6=function(){return nil},$GC_start$6.$$arity=0),nil&&"start"}($nesting[0],$nesting)},Opal.modules["corelib/random/formatter"]=function(Opal){function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$klass=Opal.klass,$module=Opal.module,$send=Opal.send,$range=Opal.range;return Opal.add_stubs(["$_verify_count","$bytes","$encode","$strict_encode64","$random_bytes","$urlsafe_encode64","$split","$hex","$[]=","$-","$[]","$map","$to_proc","$join","$times","$<<","$|","$ord","$/","$abs","$random_float","$raise","$coerce_to!","$flatten","$new","$random_number","$length","$include","$extend"]),function(self,$nesting){self=$klass(self,null,"Random"),$nesting=[self].concat($nesting);return function($Formatter_alphanumeric$9,$Formatter_random_number$8){var $nesting=[$Formatter_alphanumeric$9=$module($Formatter_alphanumeric$9,"Formatter")].concat($Formatter_random_number$8);Opal.def($Formatter_alphanumeric$9,"$hex",$Formatter_random_number$8=function(count){null==count&&(count=nil),count=$$($nesting,"Random").$_verify_count(count);for(var bytes=this.$bytes(count),out="",i=0;i<count;i++)out+=bytes.charCodeAt(i).toString(16).padStart(2,"0");return out.$encode("US-ASCII")},$Formatter_random_number$8.$$arity=-1),Opal.def($Formatter_alphanumeric$9,"$random_bytes",$Formatter_random_number$8=function(count){return null==count&&(count=nil),this.$bytes(count)},$Formatter_random_number$8.$$arity=-1),Opal.def($Formatter_alphanumeric$9,"$base64",$Formatter_random_number$8=function(count){return null==count&&(count=nil),$$($nesting,"Base64").$strict_encode64(this.$random_bytes(count)).$encode("US-ASCII")},$Formatter_random_number$8.$$arity=-1),Opal.def($Formatter_alphanumeric$9,"$urlsafe_base64",$Formatter_random_number$8=function(count,padding){return null==count&&(count=nil),null==padding&&(padding=!1),$$($nesting,"Base64").$urlsafe_encode64(this.$random_bytes(count),padding).$encode("US-ASCII")},$Formatter_random_number$8.$$arity=-1),Opal.def($Formatter_alphanumeric$9,"$uuid",$Formatter_random_number$8=function(){var str=nil,str=this.$hex(16).$split(""),$writer=[12,"4"];return $send(str,"[]=",Opal.to_a($writer)),$rb_minus($writer.length,1),$writer=[16,(3&parseInt(str["$[]"](16),16)|8).toString(16)],$send(str,"[]=",Opal.to_a($writer)),$rb_minus($writer.length,1),str=[str["$[]"]($range(0,8,!0)),str["$[]"]($range(8,12,!0)),str["$[]"]($range(12,16,!0)),str["$[]"]($range(16,20,!0)),str["$[]"]($range(20,32,!0))],(str=$send(str,"map",[],"join".$to_proc())).$join("-")},$Formatter_random_number$8.$$arity=0),Opal.def($Formatter_alphanumeric$9,"$random_float",$Formatter_random_number$8=function(){var $$7,lhs,rhs,bs=nil,num=nil,bs=this.$bytes(4),num=0;return $send(4,"times",[],(($$7=function(i){null==$$7.$$s||$$7.$$s;return null==i&&(i=nil),num=(num=num["$<<"](8))["$|"](bs["$[]"](i).$ord())}).$$s=this,$$7.$$arity=1,$$7)),lhs=num.$abs(),rhs=2147483647,"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)},$Formatter_random_number$8.$$arity=0),Opal.def($Formatter_alphanumeric$9,"$random_number",$Formatter_random_number$8=function(limit){var self=this;function randomFloat(){return self.$random_float()}function randomInt(max){return Math.floor(randomFloat()*max)}return null==limit?randomFloat():limit.$$is_range?function(){var min=limit.begin,max=limit.end;if(min===nil||max===nil)return nil;var length=max-min;return length<0?nil:0===length?min:(max%1!=0||min%1!=0||limit.excl||length++,randomInt(length)+min)}():limit.$$is_number?(limit<=0&&self.$raise($$($nesting,"ArgumentError"),"invalid argument - "+limit),limit%1==0?randomInt(limit):randomFloat()*limit):((limit=$$($nesting,"Opal")["$coerce_to!"](limit,$$($nesting,"Integer"),"to_int"))<=0&&self.$raise($$($nesting,"ArgumentError"),"invalid argument - "+limit),randomInt(limit))},$Formatter_random_number$8.$$arity=-1),Opal.def($Formatter_alphanumeric$9,"$alphanumeric",$Formatter_alphanumeric$9=function(count){var $$10,map=nil;return null==count&&(count=nil),count=$$($nesting,"Random").$_verify_count(count),map=$send([$range("0","9",!1),$range("a","z",!1),$range("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),$send($$($nesting,"Array"),"new",[count],(($$10=function(i){var self=null==$$10.$$s?this:$$10.$$s;return null==i&&(i=nil),map["$[]"](self.$random_number(map.$length()))}).$$s=this,$$10.$$arity=1,$$10)).$join()},$Formatter_alphanumeric$9.$$arity=-1)}($nesting[0],$nesting),self.$include($$$($$($nesting,"Random"),"Formatter")),self.$extend($$$($$($nesting,"Random"),"Formatter"))}($nesting[0],$nesting)},Opal.modules["corelib/random"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$falsy=Opal.falsy,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send;return Opal.add_stubs(["$attr_reader","$to_int","$raise","$new_seed","$coerce_to!","$reseed","$rand","$seed","$bytes","$===","$==","$state","$_verify_count","$encode","$join","$new","$chr","$random_number","$random_float","$const_defined?","$const_set"]),function($Random_generator$eq$15,$Random_random_float$14){var $Random_generator$eq$15=$klass($Random_generator$eq$15,null,"Random"),$nesting=[$Random_generator$eq$15].concat($Random_random_float$14);return $Random_generator$eq$15.$attr_reader("seed","state"),Opal.defs($Random_generator$eq$15,"$_verify_count",$Random_random_float$14=function(count){return $falsy(count)&&(count=16),"number"!=typeof count&&(count=count.$to_int()),count<0&&this.$raise($$($nesting,"ArgumentError"),"negative string size (or size too big)"),count=Math.floor(count)},$Random_random_float$14.$$arity=1),Opal.def($Random_generator$eq$15,"$initialize",$Random_random_float$14=function(seed){return null==seed&&(seed=$$($nesting,"Random").$new_seed()),seed=$$($nesting,"Opal")["$coerce_to!"](seed,$$($nesting,"Integer"),"to_int"),this.state=seed,this.$reseed(seed)},$Random_random_float$14.$$arity=-1),Opal.def($Random_generator$eq$15,"$reseed",$Random_random_float$14=function(seed){return this.seed=seed,this.$rng=Opal.$$rand.reseed(seed)},$Random_random_float$14.$$arity=1),Opal.defs($Random_generator$eq$15,"$new_seed",$Random_random_float$14=function(){return Opal.$$rand.new_seed()},$Random_random_float$14.$$arity=0),Opal.defs($Random_generator$eq$15,"$rand",$Random_random_float$14=function(limit){return $$($nesting,"DEFAULT").$rand(limit)},$Random_random_float$14.$$arity=-1),Opal.defs($Random_generator$eq$15,"$srand",$Random_random_float$14=function(n){var previous_seed;return null==n&&(n=$$($nesting,"Random").$new_seed()),n=$$($nesting,"Opal")["$coerce_to!"](n,$$($nesting,"Integer"),"to_int"),previous_seed=$$($nesting,"DEFAULT").$seed(),$$($nesting,"DEFAULT").$reseed(n),previous_seed},$Random_random_float$14.$$arity=-1),Opal.defs($Random_generator$eq$15,"$urandom",$Random_random_float$14=function(size){return $$$("::","SecureRandom").$bytes(size)},$Random_random_float$14.$$arity=1),Opal.def($Random_generator$eq$15,"$==",$Random_random_float$14=function(other){var $ret_or_1;return!!$truthy($$($nesting,"Random")["$==="](other))&&($truthy($ret_or_1=this.$seed()["$=="](other.$seed()))?this.$state()["$=="](other.$state()):$ret_or_1)},$Random_random_float$14.$$arity=1),Opal.def($Random_generator$eq$15,"$bytes",$Random_random_float$14=function(length){var $$10;return length=$$($nesting,"Random").$_verify_count(length),$send($$($nesting,"Array"),"new",[length],(($$10=function(){return(null==$$10.$$s?this:$$10.$$s).$rand(255).$chr()}).$$s=this,$$10.$$arity=0,$$10)).$join().$encode("ASCII-8BIT")},$Random_random_float$14.$$arity=1),Opal.defs($Random_generator$eq$15,"$bytes",$Random_random_float$14=function(length){return $$($nesting,"DEFAULT").$bytes(length)},$Random_random_float$14.$$arity=1),Opal.def($Random_generator$eq$15,"$rand",$Random_random_float$14=function(limit){return this.$random_number(limit)},$Random_random_float$14.$$arity=-1),Opal.def($Random_generator$eq$15,"$random_float",$Random_random_float$14=function(){return this.state++,Opal.$$rand.rand(this.$rng)},$Random_random_float$14.$$arity=0),Opal.defs($Random_generator$eq$15,"$random_float",$Random_random_float$14=function(){return $$($nesting,"DEFAULT").$random_float()},$Random_random_float$14.$$arity=0),Opal.defs($Random_generator$eq$15,"$generator=",$Random_generator$eq$15=function(generator){return Opal.$$rand=generator,$truthy(this["$const_defined?"]("DEFAULT"))?$$($nesting,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},$Random_generator$eq$15.$$arity=1),nil&&"generator="}($nesting[0],$nesting)},Opal.modules["corelib/random/mersenne_twister"]=function(Opal){Opal.top;var N,M,TWIST,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$send=Opal.send,mersenne_twister=nil;function genrand_int32(y){return--y.left<=0&&function(mt){var j,p=0,_p=mt.state;for(mt.left=N,mt.next=0,j=N-M+1;--j;p++)_p[p]=_p[p+M]^TWIST(_p[p+0],_p[p+1]);for(j=M;--j;p++)_p[p]=_p[p+(M-N)]^TWIST(_p[p+0],_p[p+1]);_p[p]=_p[p+(M-N)]^TWIST(_p[p+0],_p[0])}(y),y=y.state[y.next++],y^=y>>>11,y^=y<<7&2636928640,y^=y<<15&4022730752,(y^=y>>>18)>>>0}return Opal.add_stubs(["$generator=","$-"]),N=624,M=397,TWIST=function(u,v){return(2147483648&u|2147483647&v)>>>1^(1&v?2567483615:0)},mersenne_twister={genrand_real:function(mt){return function(a,b){return(67108864*(a>>>=5)+(b>>>=6))*(1/9007199254740992)}(genrand_int32(mt),genrand_int32(mt))},init:function(s){var mt={left:0,next:N,state:new Array(N)};return function(mt,s){var j;for(mt.state[0]=s>>>0,j=1;j<N;j++)mt.state[j]=1812433253*(mt.state[j-1]^mt.state[j-1]>>30>>>0)+j,mt.state[j]&=4294967295;mt.left=1,mt.next=N}(mt,s),mt}},function($nesting,lhs){var rhs=$klass($nesting,null,"Random"),$nesting=[rhs].concat(lhs),lhs=nil,MAX_INT=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return Opal.const_set($nesting[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*MAX_INT)},reseed:function(seed){return mersenne_twister.init(seed)},rand:function(mt){return mersenne_twister.genrand_real(mt)}}),lhs=[$$($nesting,"MERSENNE_TWISTER_GENERATOR")],$send(rhs,"generator=",Opal.to_a(lhs)),lhs[rhs=1,"number"==typeof(lhs=lhs.length)&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)]}($nesting[0],$nesting)},Opal.modules["corelib/unsupported"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$=(Opal.$$$,Opal.$$),$klass=Opal.klass,$module=Opal.module;Opal.add_stubs(["$raise","$warn","$%"]);var $private$36,$Kernel_freeze$24,ERROR,warnings={};function handle_unsupported_feature(message){switch(Opal.config.unsupported_features_severity){case"error":$$($nesting,"Kernel").$raise($$($nesting,"NotImplementedError"),message);break;case"warning":!void(warnings[string=message]||(warnings[string]=!0,self.$warn(string)))}var string}return function($String_unicode_normalize$excl$23,$String_encode$excl$22){var $nesting=[$String_unicode_normalize$excl$23=$klass($String_unicode_normalize$excl$23,null,"String")].concat($String_encode$excl$22),ERROR="String#%s not supported. Mutable String methods are not supported in Opal.";Opal.def($String_unicode_normalize$excl$23,"$<<",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("<<"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$capitalize!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("capitalize!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$chomp!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("chomp!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$chop!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("chop!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$downcase!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("downcase!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$gsub!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("gsub!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$lstrip!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("lstrip!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$next!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("next!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$reverse!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("reverse!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$slice!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("slice!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$squeeze!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("squeeze!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$strip!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("strip!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$sub!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("sub!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$succ!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("succ!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$swapcase!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("swapcase!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$tr!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("tr!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$tr_s!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("tr_s!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$upcase!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("upcase!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$prepend",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("prepend"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$[]=",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("[]="))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$clear",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("clear"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$encode!",$String_encode$excl$22=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("encode!"))},$String_encode$excl$22.$$arity=-1),Opal.def($String_unicode_normalize$excl$23,"$unicode_normalize!",$String_unicode_normalize$excl$23=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),ERROR["$%"]("unicode_normalize!"))},$String_unicode_normalize$excl$23.$$arity=-1)}($nesting[0],$nesting),[$private$36=$module($private$36=($Kernel_freeze$24=$nesting)[0],"Kernel")].concat($Kernel_freeze$24),ERROR="Object freezing is not supported by Opal",Opal.def($private$36,"$freeze",$Kernel_freeze$24=function(){return handle_unsupported_feature(ERROR),this},$Kernel_freeze$24.$$arity=0),Opal.def($private$36,"$frozen?",$private$36=function(){return handle_unsupported_feature(ERROR),!1},$private$36.$$arity=0),function($Kernel_tainted$ques$28,$Kernel_untaint$27){var ERROR=([$Kernel_tainted$ques$28=$module($Kernel_tainted$ques$28,"Kernel")].concat($Kernel_untaint$27),"Object tainting is not supported by Opal");Opal.def($Kernel_tainted$ques$28,"$taint",$Kernel_untaint$27=function(){return handle_unsupported_feature(ERROR),this},$Kernel_untaint$27.$$arity=0),Opal.def($Kernel_tainted$ques$28,"$untaint",$Kernel_untaint$27=function(){return handle_unsupported_feature(ERROR),this},$Kernel_untaint$27.$$arity=0),Opal.def($Kernel_tainted$ques$28,"$tainted?",$Kernel_tainted$ques$28=function(){return handle_unsupported_feature(ERROR),!1},$Kernel_tainted$ques$28.$$arity=0)}($nesting[0],$nesting),function(self,$Module_private_constant$32){[self=$klass(self,null,"Module")].concat($Module_private_constant$32),Opal.def(self,"$public",$Module_private_constant$32=function($a){return 0===Opal.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1),nil},$Module_private_constant$32.$$arity=-1),Opal.alias(self,"private","public"),Opal.alias(self,"protected","public"),Opal.alias(self,"nesting","public"),Opal.def(self,"$private_class_method",$Module_private_constant$32=function($a){Opal.slice.call(arguments,0,arguments.length);return this},$Module_private_constant$32.$$arity=-1),Opal.alias(self,"public_class_method","private_class_method"),Opal.def(self,"$private_method_defined?",$Module_private_constant$32=function(obj){return!1},$Module_private_constant$32.$$arity=1),Opal.def(self,"$private_constant",$Module_private_constant$32=function($a){Opal.slice.call(arguments,0,arguments.length);return nil},$Module_private_constant$32.$$arity=-1),Opal.alias(self,"protected_method_defined?","private_method_defined?"),Opal.alias(self,"public_instance_methods","instance_methods"),Opal.alias(self,"public_instance_method","instance_method"),Opal.alias(self,"public_method_defined?","method_defined?")}($nesting[0],$nesting),function(self,$Kernel_private_methods$33){[self=$module(self,"Kernel")].concat($Kernel_private_methods$33),Opal.def(self,"$private_methods",$Kernel_private_methods$33=function($a){Opal.slice.call(arguments,0,arguments.length);return[]},$Kernel_private_methods$33.$$arity=-1),Opal.alias(self,"private_instance_methods","private_methods")}($nesting[0],$nesting),function($Kernel_eval$34,$parent_nesting){var $nesting=[$Kernel_eval$34=$module($Kernel_eval$34,"Kernel")].concat($parent_nesting);Opal.def($Kernel_eval$34,"$eval",$Kernel_eval$34=function($a){Opal.slice.call(arguments,0,arguments.length);return this.$raise($$($nesting,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+$$($nesting,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},$Kernel_eval$34.$$arity=-1)}($nesting[0],$nesting),Opal.defs(self,"$public",$private$36=function($a){Opal.slice.call(arguments,0,arguments.length);return nil},$private$36.$$arity=-1),Opal.defs(self,"$private",$private$36=function($a){Opal.slice.call(arguments,0,arguments.length);return nil},$private$36.$$arity=-1),nil&&"private"},function(Opal){var self=Opal.top;Opal.nil,Opal.$$$,Opal.$$,Opal.add_stubs(["$require"]),self.$require("opal/base"),self.$require("opal/mini"),self.$require("corelib/kernel/format"),self.$require("corelib/string/encoding"),self.$require("corelib/math"),self.$require("corelib/complex"),self.$require("corelib/rational"),self.$require("corelib/time"),self.$require("corelib/struct"),self.$require("corelib/io"),self.$require("corelib/main"),self.$require("corelib/dir"),self.$require("corelib/file"),self.$require("corelib/process"),self.$require("corelib/random/formatter"),self.$require("corelib/random"),self.$require("corelib/random/mersenne_twister"),self.$require("corelib/unsupported")}(Opal);
